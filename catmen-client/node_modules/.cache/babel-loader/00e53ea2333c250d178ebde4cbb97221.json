{"ast":null,"code":"var _jsxFileName = \"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx\";\nimport * as React from \"react\";\nimport { win } from \"../../index\";\nexport class WindowLevelCapture {\n  constructor() {\n    this.mousePosition = void 0;\n    this.mousePosition = {\n      x: -1000,\n      y: -1000\n    };\n  }\n\n  get mousePos() {\n    return this.mousePosition;\n  }\n\n  getMousePosition(evt) {\n    this.mousePosition = {\n      x: evt.clientX,\n      y: evt.clientY\n    };\n  }\n\n  windowSize() {\n    let measurment = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n    return measurment;\n  }\n\n  windowEvent() {\n    window.addEventListener('mousemove', evt => this.getMousePosition(evt));\n  }\n\n}\nexport class ToolTip extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mousePosition = void 0;\n    this.initialized = void 0;\n    this.toolTipTimeOutCounter = void 0;\n    this.toolTipContainerRef = void 0;\n    this.tooltipWidth = 0;\n    this.tooltipHeight = 0;\n    this.intervalID = 0;\n    this.state = {\n      mousePosition: {\n        x: -window.innerWidth,\n        y: -window.innerHeight\n      },\n      isHovering: false\n    };\n    this.toolTipContainerRef = React.createRef();\n    this.mousePosition = {\n      x: -1000,\n      y: -1000\n    };\n    this.initialized = false;\n    this.toolTipTimeOutCounter = this.props.timeoutInMS;\n  } //TODO give mouse position a data type\n\n\n  updateMousePos() {\n    //Only update if the mouse is moving, check if position values have changed\n    if (this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y) {\n      this.setState({\n        mousePosition: {\n          x: win.mousePos.x,\n          y: win.mousePos.y\n        }\n      }); // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n    }\n\n    let checkMouseIsOver = () => {\n      var _this$props$btnRefere;\n\n      let hoverCheck = true;\n\n      if (((_this$props$btnRefere = this.props.btnReference) === null || _this$props$btnRefere === void 0 ? void 0 : _this$props$btnRefere.current) !== undefined) {\n        var _this$props$btnRefere2, _this$props$btnRefere3;\n\n        let rect = (_this$props$btnRefere2 = this.props.btnReference) === null || _this$props$btnRefere2 === void 0 ? void 0 : (_this$props$btnRefere3 = _this$props$btnRefere2.current) === null || _this$props$btnRefere3 === void 0 ? void 0 : _this$props$btnRefere3.getBoundingClientRect(); // if mouse is too far the the left, the mouse x is less that the button x\n\n        if (rect !== undefined) {\n          if (this.state.mousePosition.x < rect.x) {\n            hoverCheck = false;\n          } // if mouse is too far to the right\n\n\n          if (this.state.mousePosition.x > rect.x + (rect === null || rect === void 0 ? void 0 : rect.width)) {\n            hoverCheck = false;\n          } // if mouse is too far the the left, the mouse x is less that the button x\n\n\n          if (this.state.mousePosition.y < rect.y) {\n            hoverCheck = false;\n          } // if mouse is too far to the right\n\n\n          if (this.state.mousePosition.y > rect.y + (rect === null || rect === void 0 ? void 0 : rect.height)) {\n            hoverCheck = false;\n          }\n        }\n      }\n\n      return hoverCheck;\n    };\n\n    if (checkMouseIsOver() === false) {\n      this.clearHover();\n    } else {\n      let yPos = this.state.mousePosition.y;\n      let xPos = this.state.mousePosition.x;\n\n      if (this.toolTipContainerRef.current != null && this.toolTipContainerRef.current != undefined) {\n        this.tooltipWidth = this.toolTipContainerRef.current.getElementsByClassName(\"tt-element-main\")[0].getBoundingClientRect().width;\n        this.tooltipHeight = this.toolTipContainerRef.current.getElementsByClassName(\"tt-element-main\")[0].getBoundingClientRect().height; //  console.log(\"tooltip element:\", this.toolTipContainerRef.current.getElementsByClassName(\"tt-element-main\")[0]);\n      } // console.log(\"tool tip behavior check:\");\n      // console.log(\"x position:\", xPos);\n      // console.log(\"tooltip width:\", this.tooltipWidth);\n\n\n      if (this.toolTipContainerRef.current != null && this.toolTipContainerRef.current !== undefined) {\n        if (this.state.mousePosition.x >= win.windowSize().width - this.tooltipWidth) {\n          xPos = xPos - this.tooltipWidth - 30;\n          this.setState({\n            mousePosition: {\n              x: xPos,\n              y: yPos\n            }\n          });\n        }\n\n        if (this.state.mousePosition.y >= win.windowSize().height - 10 - this.tooltipHeight) {\n          yPos = win.windowSize().height - (this.tooltipHeight + 60); //handle colliding to the right\n\n          if (xPos < win.windowSize().width - this.tooltipWidth) {\n            xPos = xPos - this.tooltipWidth / 2;\n            console.log(xPos);\n          }\n\n          if (xPos > win.windowSize().width - this.tooltipWidth) {\n            xPos = win.windowSize().width;\n            console.log(xPos);\n          }\n\n          this.setState({\n            mousePosition: {\n              x: xPos,\n              y: yPos\n            }\n          });\n        }\n      }\n\n      this.setState({\n        isHovering: true\n      });\n    }\n\n    if (this.toolTipTimeOutCounter <= 0) {\n      this.clearHover();\n    }\n  }\n\n  getToolTip() {\n    var _this$props$tooltipSt, _this$props$tooltipSt2;\n\n    let tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    switch (this.props.tooltipType) {\n      case \"standard\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"app-tool-tip \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }\n        }, (_this$props$tooltipSt = this.props.tooltipStandardContent) === null || _this$props$tooltipSt === void 0 ? void 0 : _this$props$tooltipSt.headerText), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }\n        }, (_this$props$tooltipSt2 = this.props.tooltipStandardContent) === null || _this$props$tooltipSt2 === void 0 ? void 0 : _this$props$tooltipSt2.copy)));\n        break;\n\n      case \"custom\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"app-tool-tip\",\n          style: {\n            top: this.state.mousePosition.y,\n            left: this.state.mousePosition.x,\n            paddingLeft: \"1rem\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }\n        }, this.props.toolTipCustomElement));\n        break;\n\n      case \"none\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.toolTipContainerRef,\n      style: {\n        zIndex: 10000,\n        border: \"none\",\n        width: \"1px\",\n        height: \"1px\",\n        position: \"fixed\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, tooltipInner);\n  }\n\n  componentWillUnmount() {\n    this.clearHover();\n    this.clearInterval();\n  }\n\n  clearInterval() {\n    clearInterval(this.intervalID);\n  }\n\n  startHover() {\n    this.toolTipTimeOutCounter = this.props.timeoutInMS;\n\n    if (this.props.tooltipType !== \"none\") {\n      this.intervalID = setInterval(() => {\n        if (this.initialized === false) {\n          this.initialized = true;\n          this.setState({\n            isHovering: true\n          });\n        }\n\n        this.toolTipTimeOutCounter -= 50;\n\n        if (this.toolTipTimeOutCounter <= 0) {\n          this.clearHover();\n        }\n\n        this.updateMousePos();\n      }, 50);\n    }\n  }\n\n  clearHover() {\n    clearInterval(this.intervalID);\n    this.initialized = false;\n    this.setState({\n      isHovering: false\n    });\n  }\n\n  componentDidMount() {//this.startHover();\n  }\n\n  handleFadeInOut() {\n    if (this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700) {\n      return \"fade-1\";\n    } else if (this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600) {\n      return \"fade-11\";\n    } else if (this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500) {\n      return \"fade-2\";\n    } else if (this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400) {\n      return \"fade-21\";\n    } else if (this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300) {\n      return \"fade-3\";\n    } else if (this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200) {\n      return \"fade-31\";\n    } else if (this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100) {\n      return \"fade-4\";\n    } else if (this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20) {\n      return \"fade-41\";\n    } else if (this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0) {\n      return \"fade-5\";\n    } //HANDLE FADE IN\n\n\n    if (this.toolTipTimeOutCounter <= this.props.timeoutInMS && this.toolTipTimeOutCounter > this.props.timeoutInMS - 100) {\n      return \"fade-5\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 100 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 150) {\n      return \"fade-41\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 150 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 200) {\n      return \"fade-4\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 200 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 250) {\n      return \"fade-31\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 250 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 300) {\n      return \"fade-3\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 300 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 350) {\n      return \"fade-21\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 350 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 400) {\n      return \"fade-2\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 400 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 450) {\n      return \"fade-11\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 450 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 500) {\n      return \"fade-0\";\n    }\n  }\n\n  debugPosition() {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        right: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }\n    }, `x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `);\n  }\n\n  render() {\n    let tooltip = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    if (this.state.isHovering === true && this.toolTipTimeOutCounter > 0) {\n      tooltip = this.getToolTip();\n    }\n\n    let constructedToolTip = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.handleFadeInOut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 15\n      }\n    }, tooltip));\n    return constructedToolTip;\n  }\n\n}","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx"],"names":["React","win","WindowLevelCapture","constructor","mousePosition","x","y","mousePos","getMousePosition","evt","clientX","clientY","windowSize","measurment","width","window","innerWidth","height","innerHeight","windowEvent","addEventListener","ToolTip","Component","props","initialized","toolTipTimeOutCounter","toolTipContainerRef","tooltipWidth","tooltipHeight","intervalID","state","isHovering","createRef","timeoutInMS","updateMousePos","setState","checkMouseIsOver","hoverCheck","btnReference","current","undefined","rect","getBoundingClientRect","clearHover","yPos","xPos","getElementsByClassName","console","log","getToolTip","tooltipInner","tooltipType","tooltipStandardContent","headerText","copy","top","left","paddingLeft","toolTipCustomElement","zIndex","border","position","componentWillUnmount","clearInterval","startHover","setInterval","componentDidMount","handleFadeInOut","debugPosition","right","render","tooltip","constructedToolTip"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,GAAR,QAAkB,aAAlB;AAgBA,OAAO,MAAMC,kBAAN,CAA2C;AAE9CC,EAAAA,WAAW,GAAG;AAAA,SADNC,aACM;AACV,SAAKA,aAAL,GAAqB;AAACC,MAAAA,CAAC,EAAC,CAAC,IAAJ;AAASC,MAAAA,CAAC,EAAC,CAAC;AAAZ,KAArB;AACH;;AAED,MAAIC,QAAJ,GAAc;AACV,WAAO,KAAKH,aAAZ;AACH;;AAEDI,EAAAA,gBAAgB,CAACC,GAAD,EAAgB;AAC5B,SAAKL,aAAL,GAAqB;AAAEC,MAAAA,CAAC,EAAGI,GAAG,CAACC,OAAV;AAAmBJ,MAAAA,CAAC,EAAGG,GAAG,CAACE;AAA3B,KAArB;AACH;;AAEDC,EAAAA,UAAU,GAAE;AACR,QAAIC,UAAuB,GAAG;AAACC,MAAAA,KAAK,EAAEC,MAAM,CAACC,UAAf;AAA2BC,MAAAA,MAAM,EAAEF,MAAM,CAACG;AAA1C,KAA9B;AACA,WAAOL,UAAP;AACH;;AAEDM,EAAAA,WAAW,GAAE;AACTJ,IAAAA,MAAM,CAACK,gBAAP,CAAwB,WAAxB,EACKX,GAAD,IAAO,KAAKD,gBAAL,CAAsBC,GAAtB,CADX;AAEH;;AAtB6C;AA+ClD,OAAO,MAAMY,OAAN,SAAsBrB,KAAK,CAACsB,SAA5B,CAAqD;AACxDnB,EAAAA,WAAW,CAACoB,KAAD,EAAe;AACtB,UAAMA,KAAN;AADsB,SAa1BnB,aAb0B;AAAA,SAc1BoB,WAd0B;AAAA,SAe1BC,qBAf0B;AAAA,SAgB1BC,mBAhB0B;AAAA,SAiB1BC,YAjB0B,GAiBF,CAjBE;AAAA,SAkB1BC,aAlB0B,GAkBD,CAlBC;AAAA,SAmBlBC,UAnBkB,GAmBC,CAnBD;AAEtB,SAAKC,KAAL,GAAY;AACR1B,MAAAA,aAAa,EAAG;AAACC,QAAAA,CAAC,EAAC,CAACU,MAAM,CAACC,UAAX;AAAuBV,QAAAA,CAAC,EAAC,CAACS,MAAM,CAACG;AAAjC,OADR;AAERa,MAAAA,UAAU,EAAG;AAFL,KAAZ;AAIA,SAAKL,mBAAL,GAA2B1B,KAAK,CAACgC,SAAN,EAA3B;AACA,SAAK5B,aAAL,GAAqB;AAAEC,MAAAA,CAAC,EAAC,CAAC,IAAL;AAAWC,MAAAA,CAAC,EAAC,CAAC;AAAd,KAArB;AACA,SAAKkB,WAAL,GAAmB,KAAnB;AACA,SAAKC,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAxC;AACH,GAXuD,CAaxD;;;AASAC,EAAAA,cAAc,GAAE;AACZ;AAEA,QAAG,KAAK9B,aAAL,CAAmBC,CAAnB,KAAyBJ,GAAG,CAACM,QAAJ,CAAaF,CAAtC,IAA2C,KAAKD,aAAL,CAAmBE,CAAnB,KAAyBL,GAAG,CAACM,QAAJ,CAAaD,CAApF,EAAsF;AAClF,WAAK6B,QAAL,CACI;AACI/B,QAAAA,aAAa,EAAE;AACXC,UAAAA,CAAC,EAAEJ,GAAG,CAACM,QAAJ,CAAaF,CADL;AAEXC,UAAAA,CAAC,EAAEL,GAAG,CAACM,QAAJ,CAAaD;AAFL;AADnB,OADJ,EADkF,CASpF;AACD;;AAED,QAAI8B,gBAAgB,GAAG,MAAI;AAAA;;AACvB,UAAIC,UAAoB,GAAG,IAA3B;;AACA,UAAG,+BAAKd,KAAL,CAAWe,YAAX,gFAAyBC,OAAzB,MAAqCC,SAAxC,EAAkD;AAAA;;AAC9C,YAAIC,IAAI,6BAAG,KAAKlB,KAAL,CAAWe,YAAd,qFAAG,uBAAyBC,OAA5B,2DAAG,uBAAkCG,qBAAlC,EAAX,CAD8C,CAE9C;;AACA,YAAGD,IAAI,KAAKD,SAAZ,EAAsB;AAClB,cAAG,KAAKV,KAAL,CAAW1B,aAAX,CAAyBC,CAAzB,GAA6BoC,IAAI,CAACpC,CAArC,EAAyC;AACrCgC,YAAAA,UAAU,GAAG,KAAb;AACH,WAHiB,CAKlB;;;AACA,cAAG,KAAKP,KAAL,CAAW1B,aAAX,CAAyBC,CAAzB,GAA8BoC,IAAI,CAACpC,CAAL,IAASoC,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAE3B,KAAf,CAAjC,EAAwD;AACpDuB,YAAAA,UAAU,GAAG,KAAb;AACH,WARiB,CAUlB;;;AACA,cAAG,KAAKP,KAAL,CAAW1B,aAAX,CAAyBE,CAAzB,GAA6BmC,IAAI,CAACnC,CAArC,EAAwC;AACpC+B,YAAAA,UAAU,GAAG,KAAb;AACH,WAbiB,CAelB;;;AACA,cAAG,KAAKP,KAAL,CAAW1B,aAAX,CAAyBE,CAAzB,GAA8BmC,IAAI,CAACnC,CAAL,IAASmC,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAExB,MAAf,CAAjC,EAAyD;AACrDoB,YAAAA,UAAU,GAAG,KAAb;AACH;AACJ;AAEJ;;AACD,aAAOA,UAAP;AACH,KA5BD;;AA8BA,QAAGD,gBAAgB,OAAO,KAA1B,EAAgC;AAC5B,WAAKO,UAAL;AACH,KAFD,MAEK;AACD,UAAIC,IAAI,GAAG,KAAKd,KAAL,CAAW1B,aAAX,CAAyBE,CAApC;AACA,UAAIuC,IAAI,GAAG,KAAKf,KAAL,CAAW1B,aAAX,CAAyBC,CAApC;;AACA,UAAG,KAAKqB,mBAAL,CAAyBa,OAAzB,IAAoC,IAApC,IAA4C,KAAKb,mBAAL,CAAyBa,OAAzB,IAAoCC,SAAnF,EAA8F;AAC1F,aAAKb,YAAL,GAAoB,KAAKD,mBAAL,CAAyBa,OAAzB,CAAiCO,sBAAjC,CAAwD,iBAAxD,EAA2E,CAA3E,EAA8EJ,qBAA9E,GAAsG5B,KAA1H;AACA,aAAKc,aAAL,GAAqB,KAAKF,mBAAL,CAAyBa,OAAzB,CAAiCO,sBAAjC,CAAwD,iBAAxD,EAA2E,CAA3E,EAA8EJ,qBAA9E,GAAsGzB,MAA3H,CAF0F,CAG5F;AACD,OAPA,CAUD;AACA;AACA;;;AAGA,UAAG,KAAKS,mBAAL,CAAyBa,OAAzB,IAAoC,IAApC,IAA4C,KAAKb,mBAAL,CAAyBa,OAAzB,KAAqCC,SAApF,EAA8F;AAC1F,YAAG,KAAKV,KAAL,CAAW1B,aAAX,CAAyBC,CAAzB,IAA8BJ,GAAG,CAACW,UAAJ,GAAiBE,KAAjB,GAAyB,KAAKa,YAA/D,EAA8E;AAC1EkB,UAAAA,IAAI,GAAIA,IAAI,GAAG,KAAKlB,YAAZ,GAA2B,EAAnC;AACA,eAAKQ,QAAL,CAAc;AAAC/B,YAAAA,aAAa,EAAC;AAACC,cAAAA,CAAC,EAACwC,IAAH;AAASvC,cAAAA,CAAC,EAACsC;AAAX;AAAf,WAAd;AACH;;AAED,YAAG,KAAKd,KAAL,CAAW1B,aAAX,CAAyBE,CAAzB,IAA+BL,GAAG,CAACW,UAAJ,GAAiBK,MAAjB,GAAwB,EAAzB,GAA+B,KAAKW,aAArE,EAAqF;AACjFgB,UAAAA,IAAI,GAAI3C,GAAG,CAACW,UAAJ,GAAiBK,MAAjB,IAA2B,KAAKW,aAAL,GAAqB,EAAhD,CAAR,CADiF,CAGjF;;AACA,cAAIiB,IAAI,GAAI5C,GAAG,CAACW,UAAJ,GAAiBE,KAAjB,GAAyB,KAAKa,YAA1C,EAAyD;AACrDkB,YAAAA,IAAI,GAAIA,IAAI,GAAI,KAAKlB,YAAL,GAAoB,CAApC;AACAoB,YAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACH;;AAED,cAAIA,IAAI,GAAI5C,GAAG,CAACW,UAAJ,GAAiBE,KAAjB,GAAyB,KAAKa,YAA1C,EAAyD;AACrDkB,YAAAA,IAAI,GAAG5C,GAAG,CAACW,UAAJ,GAAiBE,KAAxB;AACAiC,YAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACH;;AAGD,eAAKV,QAAL,CAAc;AAAC/B,YAAAA,aAAa,EAAC;AAACC,cAAAA,CAAC,EAACwC,IAAH;AAASvC,cAAAA,CAAC,EAACsC;AAAX;AAAf,WAAd;AACH;AACJ;;AAED,WAAKT,QAAL,CAAc;AAACJ,QAAAA,UAAU,EAAG;AAAd,OAAd;AACH;;AAED,QAAG,KAAKN,qBAAL,IAA8B,CAAjC,EAAmC;AAC/B,WAAKkB,UAAL;AACH;AACJ;;AAEDM,EAAAA,UAAU,GAAE;AAAA;;AACJ,QAAIC,YAA2B,gBAAI,yCAAnC;;AAEA,YAAO,KAAK3B,KAAL,CAAW4B,WAAlB;AACI,WAAK,UAAL;AACID,QAAAA,YAAY,gBAAI,uDACZ;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAK,KAAK3B,KAAL,CAAW6B,sBAAhB,0DAAK,sBAAmCC,UAAxC,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAI,KAAK9B,KAAL,CAAW6B,sBAAf,2DAAI,uBAAmCE,IAAvC,CAFJ,CADY,CAAhB;AAMA;;AAEJ,WAAK,QAAL;AACIJ,QAAAA,YAAY,gBAAI,uDACZ;AACI,UAAA,SAAS,EAAC,cADd;AAEI,UAAA,KAAK,EACD;AACIK,YAAAA,GAAG,EAAE,KAAKzB,KAAL,CAAW1B,aAAX,CAAyBE,CADlC;AAEIkD,YAAAA,IAAI,EAAE,KAAK1B,KAAL,CAAW1B,aAAX,CAAyBC,CAFnC;AAGIoD,YAAAA,WAAW,EAAC;AAHhB,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAUK,KAAKlC,KAAL,CAAWmC,oBAVhB,CADY,CAAhB;AAcA;;AACJ,WAAK,MAAL;AACIR,QAAAA,YAAY,gBACR,yCADJ;AA3BR;;AAgCA,wBACI;AAAK,MAAA,GAAG,EAAE,KAAKxB,mBAAf;AAAoC,MAAA,KAAK,EAAE;AAAGiC,QAAAA,MAAM,EAAE,KAAX;AAAkBC,QAAAA,MAAM,EAAE,MAA1B;AAAkC9C,QAAAA,KAAK,EAAC,KAAxC;AAA+CG,QAAAA,MAAM,EAAC,KAAtD;AAA6D4C,QAAAA,QAAQ,EAAE;AAAvE,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKX,YADL,CADJ;AAMP;;AAEDY,EAAAA,oBAAoB,GAAS;AACzB,SAAKnB,UAAL;AACA,SAAKoB,aAAL;AACH;;AAEDA,EAAAA,aAAa,GAAE;AACXA,IAAAA,aAAa,CAAC,KAAKlC,UAAN,CAAb;AACH;;AAEDmC,EAAAA,UAAU,GAAE;AACR,SAAKvC,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAxC;;AACA,QAAG,KAAKV,KAAL,CAAW4B,WAAX,KAA2B,MAA9B,EAAqC;AACjC,WAAKtB,UAAL,GAAkBoC,WAAW,CACzB,MAAI;AACA,YAAG,KAAKzC,WAAL,KAAqB,KAAxB,EAA8B;AAC1B,eAAKA,WAAL,GAAmB,IAAnB;AACA,eAAKW,QAAL,CAAc;AAACJ,YAAAA,UAAU,EAAC;AAAZ,WAAd;AAEH;;AACD,aAAKN,qBAAL,IAA8B,EAA9B;;AACA,YAAG,KAAKA,qBAAL,IAA8B,CAAjC,EAAmC;AAC/B,eAAKkB,UAAL;AACH;;AACD,aAAKT,cAAL;AACH,OAZwB,EAYtB,EAZsB,CAA7B;AAaH;AACJ;;AAEDS,EAAAA,UAAU,GAAE;AACRoB,IAAAA,aAAa,CAAC,KAAKlC,UAAN,CAAb;AACA,SAAKL,WAAL,GAAmB,KAAnB;AACA,SAAKW,QAAL,CAAc;AAACJ,MAAAA,UAAU,EAAC;AAAZ,KAAd;AACH;;AAEDmC,EAAAA,iBAAiB,GAAS,CACtB;AACH;;AAEDC,EAAAA,eAAe,GAAE;AACb,QAAG,KAAK1C,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAA0E;AACtE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAA0E;AACtE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAA2E;AACvE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,EAArE,EAA0E;AACtE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,GAA6B,EAA7B,IAAmC,KAAKA,qBAAL,GAA6B,CAAnE,EAAuE;AACnE,aAAO,QAAP;AACH,KA3BY,CA6Bb;;;AAEA,QAAG,KAAKA,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAzC,IAAwD,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAA/G,EAAoH;AAChH,aAAO,QAAP;AACH,KAFD,MAEM,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAwH;AAC1H,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,QAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,QAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAyH;AAC3H,aAAO,QAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAyH;AAC3H,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKR,qBAAL,IAA8B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAArD,IAA4D,KAAKR,qBAAL,GAA6B,KAAKF,KAAL,CAAWU,WAAX,GAAuB,GAAnH,EAAyH;AAC3H,aAAO,QAAP;AACH;AACJ;;AAEDmC,EAAAA,aAAa,GAAE;AACX,wBACI;AAAG,MAAA,KAAK,EAAE;AAACP,QAAAA,QAAQ,EAAC,OAAV;AAAmBN,QAAAA,GAAG,EAAC,CAAvB;AAA0Bc,QAAAA,KAAK,EAAC;AAAhC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgD,MAAK,KAAKvC,KAAL,CAAW1B,aAAX,CAAyBC,CAAE,OAAM,KAAKyB,KAAL,CAAW1B,aAAX,CAAyBE,CAAE,GAAjH,CADJ;AAGH;;AAEDgE,EAAAA,MAAM,GAAsK;AAExK,QAAIC,OAAsB,gBAAI,yCAA9B;;AACA,QAAG,KAAKzC,KAAL,CAAWC,UAAX,KAA0B,IAA1B,IAAkC,KAAKN,qBAAL,GAA6B,CAAlE,EAAoE;AAChE8C,MAAAA,OAAO,GAAG,KAAKtB,UAAL,EAAV;AACH;;AAED,QAAIuB,kBAAkB,gBACpB,uDACI;AAAM,MAAA,SAAS,EAAE,KAAKL,eAAL,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0CI,OAA1C,CADJ,CADF;AAMA,WAAOC,kBAAP;AACH;;AA9QuD","sourcesContent":["import * as React from \"react\";\nimport {win} from \"../../index\";\nimport {ReactElement, RefObject} from \"react\";\n\ninterface iMousePos{\n    x:number;\n    y:number;\n}\n\ninterface iWindow{\n\n}\n\nexport type windowSize = {\n    height : number;\n    width : number;\n}\nexport class WindowLevelCapture implements iWindow{\n    private mousePosition : iMousePos;\n    constructor() {\n        this.mousePosition = {x:-1000,y:-1000};\n    }\n\n    get mousePos(){\n        return this.mousePosition;\n    }\n\n    getMousePosition(evt:MouseEvent){\n        this.mousePosition = { x : evt.clientX, y : evt.clientY};\n    }\n\n    windowSize(){\n        let measurment : windowSize = {width: window.innerWidth, height: window.innerHeight}\n        return measurment;\n    }\n\n    windowEvent(){\n        window.addEventListener('mousemove',\n            (evt)=>this.getMousePosition(evt) )\n    }\n}\n\nexport type toolTipType = \"standard\" | \"custom\" | \"none\";\n\ninterface iPROPS{\n    tooltipType? : toolTipType;\n    tooltipStandardContent? : {\n        headerText : string,\n        copy : string\n    }\n    toolTipCustomElement? : ReactElement;\n    btnReference? : RefObject<HTMLButtonElement>;\n    linkReference? : RefObject<HTMLAnchorElement>;\n    timeoutInMS : number\n}\n\ninterface iSTATE {\n    mousePosition : {\n        x : number,\n        y : number\n    };\n    isHovering : boolean;\n}\n\nexport class ToolTip extends React.Component<iPROPS, iSTATE>{\n    constructor(props:iPROPS) {\n        super(props);\n        this.state ={\n            mousePosition : {x:-window.innerWidth, y:-window.innerHeight},\n            isHovering : false\n        };\n        this.toolTipContainerRef = React.createRef<HTMLDivElement>();\n        this.mousePosition = { x:-1000, y:-1000};\n        this.initialized = false;\n        this.toolTipTimeOutCounter = this.props.timeoutInMS\n    }\n\n    //TODO give mouse position a data type\n    mousePosition : any;\n    initialized : boolean;\n    toolTipTimeOutCounter : number;\n    toolTipContainerRef : React.RefObject<HTMLDivElement>;\n    tooltipWidth : number = 0;\n    tooltipHeight : number = 0;\n    private intervalID : any = 0;\n\n    updateMousePos(){\n        //Only update if the mouse is moving, check if position values have changed\n\n        if(this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y){\n            this.setState(\n                {\n                    mousePosition: {\n                        x: win.mousePos.x,\n                        y: win.mousePos.y\n                    }\n                });\n\n          // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n        }\n\n        let checkMouseIsOver = ()=>{\n            let hoverCheck : boolean = true;\n            if(this.props.btnReference?.current !== undefined){\n                let rect = this.props.btnReference?.current?.getBoundingClientRect();\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(rect !== undefined){\n                    if(this.state.mousePosition.x < rect.x  ){\n                        hoverCheck = false;\n                    }\n\n                    // if mouse is too far to the right\n                    if(this.state.mousePosition.x > (rect.x + rect?.width) ){\n                        hoverCheck = false\n                    }\n\n                    // if mouse is too far the the left, the mouse x is less that the button x\n                    if(this.state.mousePosition.y < rect.y ){\n                        hoverCheck = false;\n                    }\n\n                    // if mouse is too far to the right\n                    if(this.state.mousePosition.y > (rect.y + rect?.height) ){\n                        hoverCheck = false\n                    }\n                }\n\n            }\n            return hoverCheck;\n        };\n\n        if(checkMouseIsOver() === false){\n            this.clearHover();\n        }else{\n            let yPos = this.state.mousePosition.y;\n            let xPos = this.state.mousePosition.x;\n            if(this.toolTipContainerRef.current != null && this.toolTipContainerRef.current != undefined ){\n                this.tooltipWidth = this.toolTipContainerRef.current.getElementsByClassName(\"tt-element-main\")[0].getBoundingClientRect().width;\n                this.tooltipHeight = this.toolTipContainerRef.current.getElementsByClassName(\"tt-element-main\")[0].getBoundingClientRect().height;\n              //  console.log(\"tooltip element:\", this.toolTipContainerRef.current.getElementsByClassName(\"tt-element-main\")[0]);\n            }\n\n\n            // console.log(\"tool tip behavior check:\");\n            // console.log(\"x position:\", xPos);\n            // console.log(\"tooltip width:\", this.tooltipWidth);\n\n\n            if(this.toolTipContainerRef.current != null && this.toolTipContainerRef.current !== undefined){\n                if(this.state.mousePosition.x >= win.windowSize().width - this.tooltipWidth  ){\n                    xPos = (xPos - this.tooltipWidth - 30);\n                    this.setState({mousePosition:{x:xPos, y:yPos}})\n                }\n\n                if(this.state.mousePosition.y >= (win.windowSize().height-10) - this.tooltipHeight  ){\n                    yPos = (win.windowSize().height - (this.tooltipHeight + 60));\n\n                    //handle colliding to the right\n                    if( xPos < (win.windowSize().width - this.tooltipWidth) ){\n                        xPos = (xPos - (this.tooltipWidth / 2) );\n                        console.log(xPos)\n                    }\n\n                    if( xPos > (win.windowSize().width - this.tooltipWidth) ){\n                        xPos = win.windowSize().width;\n                        console.log(xPos)\n                    }\n\n\n                    this.setState({mousePosition:{x:xPos, y:yPos}})\n                }\n            }\n\n            this.setState({isHovering : true})\n        }\n\n        if(this.toolTipTimeOutCounter <= 0){\n            this.clearHover();\n        }\n    }\n\n    getToolTip(){\n            let tooltipInner : ReactElement = (<></>);\n\n            switch(this.props.tooltipType){\n                case \"standard\":\n                    tooltipInner = (<>\n                        <div className=\"app-tool-tip \">\n                            <h3>{this.props.tooltipStandardContent?.headerText}</h3>\n                            <p>{this.props.tooltipStandardContent?.copy}</p>\n                        </div>\n                    </>);\n                    break;\n\n                case \"custom\":\n                    tooltipInner = (<>\n                        <div\n                            className=\"app-tool-tip\"\n                            style={\n                                {\n                                    top: this.state.mousePosition.y,\n                                    left: this.state.mousePosition.x,\n                                    paddingLeft:\"1rem\",\n                                }\n                            }\n                        >\n                            {this.props.toolTipCustomElement}\n                        </div>\n                    </>);\n                    break;\n                case \"none\":\n                    tooltipInner = (\n                        <></>\n                    )\n            }\n\n            return (\n                <div ref={this.toolTipContainerRef} style={{  zIndex: 10000, border: \"none\", width:\"1px\", height:\"1px\", position: \"fixed\"}} >\n                    {tooltipInner}\n                </div>\n            )\n\n    }\n\n    componentWillUnmount(): void {\n        this.clearHover();\n        this.clearInterval();\n    }\n\n    clearInterval(){\n        clearInterval(this.intervalID);\n    }\n\n    startHover(){\n        this.toolTipTimeOutCounter = this.props.timeoutInMS;\n        if(this.props.tooltipType !== \"none\"){\n            this.intervalID = setInterval(\n                ()=>{\n                    if(this.initialized === false){\n                        this.initialized = true;\n                        this.setState({isHovering:true});\n\n                    }\n                    this.toolTipTimeOutCounter -= 50;\n                    if(this.toolTipTimeOutCounter <= 0){\n                        this.clearHover();\n                    }\n                    this.updateMousePos();\n                }, 50);\n        }\n    }\n\n    clearHover(){\n        clearInterval(this.intervalID);\n        this.initialized = false;\n        this.setState({isHovering:false} );\n    }\n\n    componentDidMount(): void {\n        //this.startHover();\n    }\n\n    handleFadeInOut(){\n        if(this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700 ){\n            return \"fade-1\"\n        }else\n        if(this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600 ){\n            return \"fade-11\"\n        }else\n        if(this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500){\n            return \"fade-2\"\n        }else\n        if(this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400){\n            return \"fade-21\"\n        }else\n        if(this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300){\n            return \"fade-3\"\n        }else\n        if(this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200){\n            return \"fade-31\"\n        }else\n        if(this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100  ){\n            return \"fade-4\"\n        }else\n        if(this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20  ){\n            return \"fade-41\"\n        }else\n        if(this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0  ){\n            return \"fade-5\"\n        }\n\n        //HANDLE FADE IN\n\n        if(this.toolTipTimeOutCounter <= this.props.timeoutInMS && this.toolTipTimeOutCounter > this.props.timeoutInMS-100 ){\n            return \"fade-5\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-100 && this.toolTipTimeOutCounter > this.props.timeoutInMS-150 ){\n            return \"fade-41\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-150 && this.toolTipTimeOutCounter > this.props.timeoutInMS-200){\n            return \"fade-4\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-200 && this.toolTipTimeOutCounter > this.props.timeoutInMS-250){\n            return \"fade-31\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-250 && this.toolTipTimeOutCounter > this.props.timeoutInMS-300){\n            return \"fade-3\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-300 && this.toolTipTimeOutCounter > this.props.timeoutInMS-350){\n            return \"fade-21\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-350 && this.toolTipTimeOutCounter > this.props.timeoutInMS-400  ){\n            return \"fade-2\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-400 && this.toolTipTimeOutCounter > this.props.timeoutInMS-450  ){\n            return \"fade-11\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-450 && this.toolTipTimeOutCounter > this.props.timeoutInMS-500  ){\n            return \"fade-0\"\n        }\n    }\n\n    debugPosition(){\n        return(\n            <p style={{position:\"fixed\", top:0, right:0}}>{`x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `}</p>\n        )\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        let tooltip : ReactElement = (<></>);\n        if(this.state.isHovering === true && this.toolTipTimeOutCounter > 0){\n            tooltip = this.getToolTip();\n        }\n\n        let constructedToolTip = (\n          <>\n              <span className={this.handleFadeInOut()}>{tooltip}</span>\n          </>\n        );\n\n        return constructedToolTip;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}