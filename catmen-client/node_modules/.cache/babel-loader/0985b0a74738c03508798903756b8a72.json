{"ast":null,"code":"import _inherits from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _classCallCheck from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import*as React from\"react\";import{win}from\"../../index\";export var WindowLevelCapture=/*#__PURE__*/function(){function WindowLevelCapture(){_classCallCheck(this,WindowLevelCapture);this.mousePosition=void 0;this.mousePosition={x:-1000,y:-1000};}_createClass(WindowLevelCapture,[{key:\"getMousePosition\",value:function getMousePosition(evt){this.mousePosition={x:evt.clientX,y:evt.clientY};}},{key:\"windowEvent\",value:function windowEvent(){var _this=this;window.addEventListener('mousemove',function(evt){return _this.getMousePosition(evt);});}},{key:\"mousePos\",get:function get(){return this.mousePosition;}}]);return WindowLevelCapture;}();export var ToolTip=/*#__PURE__*/function(_React$Component){_inherits(ToolTip,_React$Component);var _super=_createSuper(ToolTip);function ToolTip(props){var _this2;_classCallCheck(this,ToolTip);_this2=_super.call(this,props);_this2.mousePosition=void 0;_this2.initialized=void 0;_this2.toolTipTimeOutCounter=void 0;_this2.toolTipContainerRef=void 0;_this2.intervalID=0;_this2.state={mousePosition:{x:-window.innerWidth,y:-window.innerHeight},isHovering:false};_this2.toolTipContainerRef=React.createRef();_this2.mousePosition={x:-1000,y:-1000};_this2.initialized=false;_this2.toolTipTimeOutCounter=_this2.props.timeoutInMS;return _this2;}//TODO give mouse position a data type\n_createClass(ToolTip,[{key:\"updateMousePos\",value:function updateMousePos(){var _this3=this;//Only update if the mouse is moving, check if position values have changed\n// console.log(\"check update mouse\");\nif(this.mousePosition.x!==win.mousePos.x&&this.mousePosition.y!==win.mousePos.y){this.setState({mousePosition:{x:win.mousePos.x,y:win.mousePos.y}});// console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n}var checkMouseIsOver=function checkMouseIsOver(){var _this3$props$btnRefer;var hoverCheck=true;if(((_this3$props$btnRefer=_this3.props.btnReference)===null||_this3$props$btnRefer===void 0?void 0:_this3$props$btnRefer.current)!=undefined){var _this3$props$btnRefer2,_this3$props$btnRefer3;var rect=(_this3$props$btnRefer2=_this3.props.btnReference)===null||_this3$props$btnRefer2===void 0?void 0:(_this3$props$btnRefer3=_this3$props$btnRefer2.current)===null||_this3$props$btnRefer3===void 0?void 0:_this3$props$btnRefer3.getBoundingClientRect();// if mouse is too far the the left, the mouse x is less that the button x\nif(_this3.state.mousePosition.x<rect.x){hoverCheck=false;}// if mouse is too far to the right\nif(_this3.state.mousePosition.x>rect.x+(rect===null||rect===void 0?void 0:rect.width)){hoverCheck=false;}// if mouse is too far the the left, the mouse x is less that the button x\nif(_this3.state.mousePosition.y<rect.y){hoverCheck=false;}// if mouse is too far to the right\nif(_this3.state.mousePosition.y>rect.y+(rect===null||rect===void 0?void 0:rect.height)){hoverCheck=false;}}return hoverCheck;};if(checkMouseIsOver()===false){this.clearHover();}else{if(this.toolTipContainerRef.current!==null){this.toolTipContainerRef.current.style.top=this.state.mousePosition.y.toString();this.toolTipContainerRef.current.style.left=this.state.mousePosition.x.toString();}//top : this.state.mousePosition.y, left: this.state.mousePosition.x\nthis.setState({isHovering:true});}if(this.toolTipTimeOutCounter<=0){this.clearHover();}}},{key:\"getToolTip\",value:function getToolTip(){var _this$props$tooltipSt,_this$props$tooltipSt2;var tooltipInner=/*#__PURE__*/React.createElement(React.Fragment,null);switch(this.props.tooltipType){case\"standard\":tooltipInner=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"app-tool-tip \"},/*#__PURE__*/React.createElement(\"h3\",null,(_this$props$tooltipSt=this.props.tooltipStandardContent)===null||_this$props$tooltipSt===void 0?void 0:_this$props$tooltipSt.headerText),/*#__PURE__*/React.createElement(\"p\",null,(_this$props$tooltipSt2=this.props.tooltipStandardContent)===null||_this$props$tooltipSt2===void 0?void 0:_this$props$tooltipSt2.copy)));break;case\"custom\":tooltipInner=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"app-tool-tip\",style:{top:this.state.mousePosition.y,left:this.state.mousePosition.x,paddingLeft:\"1rem\"}},this.props.toolTipCustomElement));break;case\"none\":tooltipInner=/*#__PURE__*/React.createElement(React.Fragment,null);}return/*#__PURE__*/React.createElement(\"div\",{ref:this.toolTipContainerRef,style:{zIndex:10000,border:\"none\",width:\"1px\",height:\"1px\",position:\"fixed\"}},tooltipInner);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.clearHover();this.clearInterval();}},{key:\"clearInterval\",value:function(_clearInterval){function clearInterval(){return _clearInterval.apply(this,arguments);}clearInterval.toString=function(){return _clearInterval.toString();};return clearInterval;}(function(){clearInterval(this.intervalID);})},{key:\"startHover\",value:function startHover(){var _this4=this;this.toolTipTimeOutCounter=this.props.timeoutInMS;if(this.props.tooltipType!==\"none\"){this.intervalID=setInterval(function(){if(_this4.initialized===false){_this4.initialized=true;_this4.setState({isHovering:true});}_this4.toolTipTimeOutCounter-=50;if(_this4.toolTipTimeOutCounter<=0){_this4.clearHover();}_this4.updateMousePos();},50);}}},{key:\"clearHover\",value:function clearHover(){clearInterval(this.intervalID);this.initialized=false;this.setState({isHovering:false});}},{key:\"componentDidMount\",value:function componentDidMount(){//this.startHover();\n}},{key:\"handleFadeInOut\",value:function handleFadeInOut(){if(this.toolTipTimeOutCounter<=800&&this.toolTipTimeOutCounter>700){return\"fade-1\";}else if(this.toolTipTimeOutCounter<=700&&this.toolTipTimeOutCounter>600){return\"fade-11\";}else if(this.toolTipTimeOutCounter<=600&&this.toolTipTimeOutCounter>500){return\"fade-2\";}else if(this.toolTipTimeOutCounter<=500&&this.toolTipTimeOutCounter>400){return\"fade-21\";}else if(this.toolTipTimeOutCounter<=400&&this.toolTipTimeOutCounter>300){return\"fade-3\";}else if(this.toolTipTimeOutCounter<=300&&this.toolTipTimeOutCounter>200){return\"fade-31\";}else if(this.toolTipTimeOutCounter<=200&&this.toolTipTimeOutCounter>100){return\"fade-4\";}else if(this.toolTipTimeOutCounter<=100&&this.toolTipTimeOutCounter>20){return\"fade-41\";}else if(this.toolTipTimeOutCounter<20&&this.toolTipTimeOutCounter>0){return\"fade-5\";}//HANDLE FADE IN\nif(this.toolTipTimeOutCounter<=this.props.timeoutInMS&&this.toolTipTimeOutCounter>this.props.timeoutInMS-100){return\"fade-5\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-100&&this.toolTipTimeOutCounter>this.props.timeoutInMS-150){return\"fade-41\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-150&&this.toolTipTimeOutCounter>this.props.timeoutInMS-200){return\"fade-4\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-200&&this.toolTipTimeOutCounter>this.props.timeoutInMS-250){return\"fade-31\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-250&&this.toolTipTimeOutCounter>this.props.timeoutInMS-300){return\"fade-3\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-300&&this.toolTipTimeOutCounter>this.props.timeoutInMS-350){return\"fade-21\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-350&&this.toolTipTimeOutCounter>this.props.timeoutInMS-400){return\"fade-2\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-400&&this.toolTipTimeOutCounter>this.props.timeoutInMS-450){return\"fade-11\";}else if(this.toolTipTimeOutCounter<=this.props.timeoutInMS-450&&this.toolTipTimeOutCounter>this.props.timeoutInMS-500){return\"fade-0\";}}},{key:\"debugPosition\",value:function debugPosition(){return/*#__PURE__*/React.createElement(\"p\",{style:{position:\"fixed\",top:0,right:0}},\"x: \".concat(this.state.mousePosition.x,\" y: \").concat(this.state.mousePosition.y,\" \"));}},{key:\"render\",value:function render(){var tooltip=/*#__PURE__*/React.createElement(React.Fragment,null);if(this.state.isHovering===true&&this.toolTipTimeOutCounter>0){tooltip=this.getToolTip();}var constructedToolTip=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:this.handleFadeInOut()},tooltip));return constructedToolTip;}}]);return ToolTip;}(React.Component);","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx"],"names":["React","win","WindowLevelCapture","mousePosition","x","y","evt","clientX","clientY","window","addEventListener","getMousePosition","ToolTip","props","initialized","toolTipTimeOutCounter","toolTipContainerRef","intervalID","state","innerWidth","innerHeight","isHovering","createRef","timeoutInMS","mousePos","setState","checkMouseIsOver","hoverCheck","btnReference","current","undefined","rect","getBoundingClientRect","width","height","clearHover","style","top","toString","left","tooltipInner","tooltipType","tooltipStandardContent","headerText","copy","paddingLeft","toolTipCustomElement","zIndex","border","position","clearInterval","setInterval","updateMousePos","right","tooltip","getToolTip","constructedToolTip","handleFadeInOut","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {win} from \"../../index\";\nimport {ReactElement, RefObject} from \"react\";\n\ninterface iMousePos{\n    x:number;\n    y:number;\n}\n\ninterface iWindow{\n\n}\nexport class WindowLevelCapture implements iWindow{\n    private mousePosition : iMousePos;\n    constructor() {\n        this.mousePosition = {x:-1000,y:-1000};\n    }\n\n    get mousePos(){\n        return this.mousePosition;\n    }\n\n    getMousePosition(evt:MouseEvent){\n        this.mousePosition = { x : evt.clientX, y : evt.clientY};\n    }\n\n    windowEvent(){\n        window.addEventListener('mousemove',\n            (evt)=>this.getMousePosition(evt) )\n    }\n}\n\ninterface iPROPS{\n    tooltipType? : \"standard\" | \"custom\" | \"none\";\n    tooltipStandardContent? : {\n        headerText : string,\n        copy : string\n    }\n    toolTipCustomElement? : ReactElement;\n    btnReference? : RefObject<HTMLButtonElement>;\n    linkReference? : RefObject<HTMLAnchorElement>;\n    timeoutInMS : number\n}\n\ninterface iSTATE {\n    mousePosition : {\n        x : number,\n        y : number\n    };\n    isHovering : boolean;\n}\n\nexport class ToolTip extends React.Component<iPROPS, iSTATE>{\n    constructor(props:iPROPS) {\n        super(props);\n        this.state ={\n            mousePosition : {x:-window.innerWidth, y:-window.innerHeight},\n            isHovering : false\n        };\n        this.toolTipContainerRef = React.createRef<HTMLDivElement>();\n        this.mousePosition = { x:-1000, y:-1000};\n        this.initialized = false;\n        this.toolTipTimeOutCounter = this.props.timeoutInMS\n    }\n    //TODO give mouse position a data type\n    mousePosition : any;\n    initialized : boolean;\n    toolTipTimeOutCounter : number;\n    toolTipContainerRef : React.RefObject<HTMLDivElement>;\n    private intervalID : any = 0;\n\n    updateMousePos(){\n        //Only update if the mouse is moving, check if position values have changed\n       // console.log(\"check update mouse\");\n        if(this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y){\n            this.setState(\n                {\n                    mousePosition: {\n                        x: win.mousePos.x,\n                        y: win.mousePos.y\n                    }\n                });\n\n          // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n        }\n\n        let checkMouseIsOver = ()=>{\n            let hoverCheck : boolean = true;\n            if(this.props.btnReference?.current != undefined){\n                let rect = this.props.btnReference?.current?.getBoundingClientRect();\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(this.state.mousePosition.x < rect.x ){\n                    hoverCheck = false;\n                }\n\n                // if mouse is too far to the right\n                if(this.state.mousePosition.x > (rect.x + rect?.width) ){\n                    hoverCheck = false\n                }\n\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(this.state.mousePosition.y < rect.y ){\n                    hoverCheck = false;\n                }\n\n                // if mouse is too far to the right\n                if(this.state.mousePosition.y > (rect.y + rect?.height) ){\n                    hoverCheck = false\n                }\n            }\n            return hoverCheck;\n        };\n\n        if(checkMouseIsOver() === false){\n            this.clearHover();\n        }else{\n            if(this.toolTipContainerRef.current !== null){\n                this.toolTipContainerRef.current.style.top = (this.state.mousePosition.y).toString();\n                this.toolTipContainerRef.current.style.left = (this.state.mousePosition.x).toString();\n            }\n\n            //top : this.state.mousePosition.y, left: this.state.mousePosition.x\n            this.setState({isHovering : true})\n        }\n\n        if(this.toolTipTimeOutCounter <= 0){\n            this.clearHover();\n        }\n    }\n\n    getToolTip(){\n            let tooltipInner : ReactElement = (<></>);\n\n            switch(this.props.tooltipType){\n                case \"standard\":\n                    tooltipInner = (<>\n                        <div className=\"app-tool-tip \">\n                            <h3>{this.props.tooltipStandardContent?.headerText}</h3>\n                            <p>{this.props.tooltipStandardContent?.copy}</p>\n                        </div>\n                    </>);\n                    break;\n\n                case \"custom\":\n                    tooltipInner = (<>\n                        <div\n                            className=\"app-tool-tip\"\n                            style={\n                                {\n                                    top: this.state.mousePosition.y,\n                                    left: this.state.mousePosition.x,\n                                    paddingLeft:\"1rem\",\n                                }\n                            }\n                        >\n                            {this.props.toolTipCustomElement}\n                        </div>\n                    </>);\n                    break;\n                case \"none\":\n                    tooltipInner = (\n                        <></>\n                    )\n            }\n\n            return (\n                <div ref={this.toolTipContainerRef} style={{  zIndex: 10000, border: \"none\", width:\"1px\", height:\"1px\", position: \"fixed\"}} >\n                    {tooltipInner}\n                </div>\n            )\n\n    }\n\n    componentWillUnmount(): void {\n        this.clearHover();\n        this.clearInterval();\n    }\n\n    clearInterval(){\n        clearInterval(this.intervalID);\n    }\n\n    startHover(){\n        this.toolTipTimeOutCounter = this.props.timeoutInMS;\n        if(this.props.tooltipType !== \"none\"){\n            this.intervalID = setInterval(\n                ()=>{\n                    if(this.initialized === false){\n                        this.initialized = true;\n                        this.setState({isHovering:true});\n\n                    }\n                    this.toolTipTimeOutCounter -= 50;\n                    if(this.toolTipTimeOutCounter <= 0){\n                        this.clearHover();\n                    }\n                    this.updateMousePos();\n                }, 50);\n        }\n    }\n\n    clearHover(){\n        clearInterval(this.intervalID);\n        this.initialized = false;\n        this.setState({isHovering:false} );\n    }\n\n    componentDidMount(): void {\n        //this.startHover();\n    }\n\n    handleFadeInOut(){\n        if(this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700 ){\n            return \"fade-1\"\n        }else\n        if(this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600 ){\n            return \"fade-11\"\n        }else\n        if(this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500){\n            return \"fade-2\"\n        }else\n        if(this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400){\n            return \"fade-21\"\n        }else\n        if(this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300){\n            return \"fade-3\"\n        }else\n        if(this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200){\n            return \"fade-31\"\n        }else\n        if(this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100  ){\n            return \"fade-4\"\n        }else\n        if(this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20  ){\n            return \"fade-41\"\n        }else\n        if(this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0  ){\n            return \"fade-5\"\n        }\n\n        //HANDLE FADE IN\n\n        if(this.toolTipTimeOutCounter <= this.props.timeoutInMS && this.toolTipTimeOutCounter > this.props.timeoutInMS-100 ){\n            return \"fade-5\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-100 && this.toolTipTimeOutCounter > this.props.timeoutInMS-150 ){\n            return \"fade-41\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-150 && this.toolTipTimeOutCounter > this.props.timeoutInMS-200){\n            return \"fade-4\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-200 && this.toolTipTimeOutCounter > this.props.timeoutInMS-250){\n            return \"fade-31\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-250 && this.toolTipTimeOutCounter > this.props.timeoutInMS-300){\n            return \"fade-3\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-300 && this.toolTipTimeOutCounter > this.props.timeoutInMS-350){\n            return \"fade-21\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-350 && this.toolTipTimeOutCounter > this.props.timeoutInMS-400  ){\n            return \"fade-2\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-400 && this.toolTipTimeOutCounter > this.props.timeoutInMS-450  ){\n            return \"fade-11\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-450 && this.toolTipTimeOutCounter > this.props.timeoutInMS-500  ){\n            return \"fade-0\"\n        }\n    }\n\n    debugPosition(){\n        return(\n            <p style={{position:\"fixed\", top:0, right:0}}>{`x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `}</p>\n        )\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        let tooltip : ReactElement = (<></>);\n        if(this.state.isHovering === true && this.toolTipTimeOutCounter > 0){\n            tooltip = this.getToolTip();\n        }\n\n        let constructedToolTip = (\n          <>\n              <span className={this.handleFadeInOut()}>{tooltip}</span>\n\n          </>\n        );\n\n        return constructedToolTip;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}