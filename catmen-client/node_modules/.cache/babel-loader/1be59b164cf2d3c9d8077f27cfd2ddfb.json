{"ast":null,"code":"var _jsxFileName = \"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx\";\nimport * as React from \"react\";\nimport { win } from \"../../index\";\nexport class WindowLevelCapture {\n  constructor() {\n    this.mousePosition = void 0;\n    this.mousePosition = {\n      x: -1000,\n      y: -1000\n    };\n  }\n\n  get mousePos() {\n    return this.mousePosition;\n  }\n\n  getMousePosition(evt) {\n    this.mousePosition = {\n      x: evt.clientX,\n      y: evt.clientY\n    }; //console.log(\"mouse position\", evt.clientX, evt.clientY);\n  }\n\n  windowEvent() {\n    window.addEventListener('mousemove', evt => this.getMousePosition(evt));\n  }\n\n}\nexport class ToolTip extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mousePosition = void 0;\n    this.initialized = void 0;\n    this.toolTipTimeOutCounter = void 0;\n    this.toolTipContainerRef = void 0;\n    this.intervalID = 0;\n    this.state = {\n      mousePosition: {\n        x: -window.innerWidth,\n        y: -window.innerHeight\n      },\n      isHovering: false\n    };\n    this.toolTipContainerRef = React.createRef();\n    this.mousePosition = {\n      x: -1000,\n      y: -1000\n    };\n    this.initialized = false;\n    this.toolTipTimeOutCounter = this.props.timeoutInMS;\n  } //TODO give mouse position a data type\n\n\n  updateMousePos() {\n    //Only update if the mouse is moving, check if position values have changed\n    // console.log(\"check update mouse\");\n    if (this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y) {\n      this.setState({\n        mousePosition: {\n          x: win.mousePos.x,\n          y: win.mousePos.y\n        }\n      }); // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n    }\n\n    let checkMouseIsOver = () => {\n      var _this$props$btnRefere;\n\n      let hoverCheck = true;\n\n      if (((_this$props$btnRefere = this.props.btnReference) === null || _this$props$btnRefere === void 0 ? void 0 : _this$props$btnRefere.current) != undefined) {\n        var _this$props$btnRefere2, _this$props$btnRefere3;\n\n        let rect = (_this$props$btnRefere2 = this.props.btnReference) === null || _this$props$btnRefere2 === void 0 ? void 0 : (_this$props$btnRefere3 = _this$props$btnRefere2.current) === null || _this$props$btnRefere3 === void 0 ? void 0 : _this$props$btnRefere3.getBoundingClientRect(); // if mouse is too far the the left, the mouse x is less that the button x\n\n        if (this.state.mousePosition.x < rect.x) {\n          hoverCheck = false;\n        } // if mouse is too far to the right\n\n\n        if (this.state.mousePosition.x > rect.x + (rect === null || rect === void 0 ? void 0 : rect.width)) {\n          hoverCheck = false;\n        } // if mouse is too far the the left, the mouse x is less that the button x\n\n\n        if (this.state.mousePosition.y < rect.y) {\n          hoverCheck = false;\n        } // if mouse is too far to the right\n\n\n        if (this.state.mousePosition.y > rect.y + (rect === null || rect === void 0 ? void 0 : rect.height)) {\n          hoverCheck = false;\n        }\n      }\n\n      return hoverCheck;\n    };\n\n    if (checkMouseIsOver() === false) {\n      this.clearHover();\n      console.log(\"false caused hover clear\");\n    } else {\n      if (this.toolTipContainerRef.current !== null) {\n        this.toolTipContainerRef.current.style.top = this.state.mousePosition.y.toString();\n        this.toolTipContainerRef.current.style.left = this.state.mousePosition.x.toString();\n      } //top : this.state.mousePosition.y, left: this.state.mousePosition.x\n\n\n      this.setState({\n        isHovering: true\n      });\n    }\n  }\n\n  getToolTip() {\n    var _this$props$tooltipSt, _this$props$tooltipSt2;\n\n    let tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    switch (this.props.tooltipType) {\n      case \"standard\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"app-tool-tip\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }\n        }, (_this$props$tooltipSt = this.props.tooltipStandardContent) === null || _this$props$tooltipSt === void 0 ? void 0 : _this$props$tooltipSt.headerText), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }\n        }, (_this$props$tooltipSt2 = this.props.tooltipStandardContent) === null || _this$props$tooltipSt2 === void 0 ? void 0 : _this$props$tooltipSt2.copy)));\n        break;\n\n      case \"custom\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"app-tool-tip\",\n          style: {\n            top: this.state.mousePosition.y,\n            left: this.state.mousePosition.x,\n            width: \"100px\",\n            height: \"100px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }\n        }, \"my custom tooltip\"), this.props.toolTipCustomElement));\n        break;\n    }\n\n    return (\n      /*#__PURE__*/\n      //<div ref={this.toolTipContainerRef} style={{zIndex: 10000, border: \"3px solid red\", width:\"1px\", height:\"1px\", position: \"fixed\", top : this.state.mousePosition.y, left: this.state.mousePosition.x}} >\n      React.createElement(\"div\", {\n        ref: this.toolTipContainerRef,\n        style: {\n          zIndex: 10000,\n          border: \"3px solid red\",\n          width: \"1px\",\n          height: \"1px\",\n          position: \"fixed\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, tooltipInner)\n    );\n  }\n\n  componentWillUnmount() {\n    this.clearHover();\n    this.clearInterval();\n  }\n\n  clearInterval() {\n    console.log(\"clear interval\");\n    clearInterval(this.intervalID);\n  }\n\n  startHover() {\n    console.log(\"hovered here****\", this.toolTipTimeOutCounter);\n    this.toolTipTimeOutCounter = this.props.timeoutInMS;\n    this.intervalID = setInterval(() => {\n      if (this.initialized === false) {\n        this.initialized = true;\n        this.setState({\n          isHovering: true\n        });\n        console.log(\"start hover\", this.state.isHovering);\n      }\n\n      this.toolTipTimeOutCounter -= 50;\n\n      if (this.toolTipTimeOutCounter <= 0) {\n        this.clearHover();\n      }\n\n      this.updateMousePos();\n    }, 50);\n  }\n\n  clearHover() {\n    console.log(\"clear hover\");\n    this.initialized = false;\n    this.setState({\n      isHovering: false\n    });\n    clearInterval(this.intervalID);\n  }\n\n  componentDidMount() {//this.startHover();\n  }\n\n  quickTestHover() {\n    console.log(\"first hover\");\n  }\n\n  handleFadeInOut() {\n    if (this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700) {\n      return \"fade-1\";\n    } else if (this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600) {\n      return \"fade-11\";\n    } else if (this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500) {\n      return \"fade-2\";\n    } else if (this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400) {\n      return \"fade-21\";\n    } else if (this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300) {\n      return \"fade-3\";\n    } else if (this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200) {\n      return \"fade-31\";\n    } else if (this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100) {\n      return \"fade-4\";\n    } else if (this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20) {\n      return \"fade-41\";\n    } else if (this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0) {\n      return \"fade-5\";\n    } //HANDLE FADE IN\n\n\n    if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter && this.toolTipTimeOutCounter > this.toolTipTimeOutCounter - 100) {\n      return \"fade-5\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 100 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 200) {\n      return \"fade-41\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 200 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 300) {\n      return \"fade-4\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 300 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 400) {\n      return \"fade-31\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 400 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 500) {\n      return \"fade-3\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 500 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 600) {\n      return \"fade-21\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 600 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 700) {\n      return \"fade-2\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 700 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 800) {\n      return \"fade-11\";\n    } else if (this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter - 800 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter - 9000) {\n      return \"fade-0\";\n    }\n  }\n\n  render() {\n    let tooltip = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    if (this.state.isHovering === true && this.toolTipTimeOutCounter > 0) {\n      tooltip = this.getToolTip();\n    }\n\n    let constructedToolTip = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.handleFadeInOut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 15\n      }\n    }, tooltip), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        right: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 16\n      }\n    }, `x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `));\n    return constructedToolTip;\n  }\n\n}","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx"],"names":["React","win","WindowLevelCapture","constructor","mousePosition","x","y","mousePos","getMousePosition","evt","clientX","clientY","windowEvent","window","addEventListener","ToolTip","Component","props","initialized","toolTipTimeOutCounter","toolTipContainerRef","intervalID","state","innerWidth","innerHeight","isHovering","createRef","timeoutInMS","updateMousePos","setState","checkMouseIsOver","hoverCheck","btnReference","current","undefined","rect","getBoundingClientRect","width","height","clearHover","console","log","style","top","toString","left","getToolTip","tooltipInner","tooltipType","tooltipStandardContent","headerText","copy","toolTipCustomElement","zIndex","border","position","componentWillUnmount","clearInterval","startHover","setInterval","componentDidMount","quickTestHover","handleFadeInOut","render","tooltip","constructedToolTip","right"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {win} from \"../../index\";\nimport {ReactElement, RefObject} from \"react\";\n\ninterface iMousePos{\n    x:number;\n    y:number;\n}\n\ninterface iWindow{\n\n}\nexport class WindowLevelCapture implements iWindow{\n    private mousePosition : iMousePos;\n    constructor() {\n        this.mousePosition = {x:-1000,y:-1000};\n    }\n\n    get mousePos(){\n        return this.mousePosition;\n    }\n\n    getMousePosition(evt:MouseEvent){\n        this.mousePosition = { x : evt.clientX, y : evt.clientY};\n        //console.log(\"mouse position\", evt.clientX, evt.clientY);\n\n    }\n\n    windowEvent(){\n        window.addEventListener('mousemove',\n            (evt)=>this.getMousePosition(evt) )\n    }\n}\n\ninterface iPROPS{\n    tooltipType? : \"standard\" | \"custom\";\n    tooltipStandardContent? : {\n        headerText : string,\n        copy : string\n    }\n    toolTipCustomElement? : ReactElement;\n    btnReference? : RefObject<HTMLButtonElement>;\n    linkReference? : RefObject<HTMLAnchorElement>;\n    timeoutInMS : number\n}\n\ninterface iSTATE {\n    mousePosition : {\n        x : number,\n        y : number\n    };\n    isHovering : boolean;\n}\n\nexport class ToolTip extends React.Component<iPROPS, iSTATE>{\n    constructor(props:iPROPS) {\n        super(props);\n        this.state ={\n            mousePosition : {x:-window.innerWidth, y:-window.innerHeight},\n            isHovering : false\n        };\n        this.toolTipContainerRef = React.createRef<HTMLDivElement>();\n        this.mousePosition = { x:-1000, y:-1000};\n        this.initialized = false;\n        this.toolTipTimeOutCounter = this.props.timeoutInMS\n    }\n    //TODO give mouse position a data type\n    mousePosition : any;\n    initialized : boolean;\n    toolTipTimeOutCounter : number;\n    toolTipContainerRef : React.RefObject<HTMLDivElement>;\n    private intervalID : any = 0;\n\n    updateMousePos(){\n        //Only update if the mouse is moving, check if position values have changed\n       // console.log(\"check update mouse\");\n        if(this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y){\n            this.setState(\n                {\n                    mousePosition: {\n                        x: win.mousePos.x,\n                        y: win.mousePos.y\n                    }\n                });\n\n          // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n        }\n\n        let checkMouseIsOver = ()=>{\n            let hoverCheck : boolean = true;\n            if(this.props.btnReference?.current != undefined){\n                let rect = this.props.btnReference?.current?.getBoundingClientRect();\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(this.state.mousePosition.x < rect.x ){\n                    hoverCheck = false;\n                }\n\n                // if mouse is too far to the right\n                if(this.state.mousePosition.x > (rect.x + rect?.width) ){\n                    hoverCheck = false\n                }\n\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(this.state.mousePosition.y < rect.y ){\n                    hoverCheck = false;\n                }\n\n                // if mouse is too far to the right\n                if(this.state.mousePosition.y > (rect.y + rect?.height) ){\n                    hoverCheck = false\n                }\n            }\n            return hoverCheck;\n        };\n\n        if(checkMouseIsOver() === false){\n            this.clearHover();\n            console.log(\"false caused hover clear\");\n        }else{\n            if(this.toolTipContainerRef.current !== null){\n                this.toolTipContainerRef.current.style.top = (this.state.mousePosition.y).toString();\n                this.toolTipContainerRef.current.style.left = (this.state.mousePosition.x).toString();\n            }\n\n            //top : this.state.mousePosition.y, left: this.state.mousePosition.x\n            this.setState({isHovering : true})\n        }\n\n\n\n    }\n\n    getToolTip(){\n            let tooltipInner : ReactElement = (<></>);\n\n            switch(this.props.tooltipType){\n                case \"standard\":\n                    tooltipInner = (<>\n                        <div className=\"app-tool-tip\">\n                            <h3>{this.props.tooltipStandardContent?.headerText}</h3>\n                            <p>{this.props.tooltipStandardContent?.copy}</p>\n                        </div>\n                    </>);\n                    break;\n\n                case \"custom\":\n                    tooltipInner = (<>\n                        <div\n                            className=\"app-tool-tip\"\n                            style={\n                                {\n                                    top: this.state.mousePosition.y,\n                                    left: this.state.mousePosition.x,\n                                    width:\"100px\",\n                                    height:\"100px\"\n                                }\n                            }\n                        >\n                            <h2>my custom tooltip</h2>\n                            {this.props.toolTipCustomElement}\n                        </div>\n                    </>);\n                    break;\n            }\n\n            return (\n                //<div ref={this.toolTipContainerRef} style={{zIndex: 10000, border: \"3px solid red\", width:\"1px\", height:\"1px\", position: \"fixed\", top : this.state.mousePosition.y, left: this.state.mousePosition.x}} >\n                <div ref={this.toolTipContainerRef} style={{zIndex: 10000, border: \"3px solid red\", width:\"1px\", height:\"1px\", position: \"fixed\"}} >\n                    {tooltipInner}\n                </div>\n            )\n\n    }\n\n    componentWillUnmount(): void {\n        this.clearHover();\n        this.clearInterval();\n    }\n\n    clearInterval(){\n        console.log(\"clear interval\");\n        clearInterval(this.intervalID);\n    }\n\n    startHover(){\n        console.log(\"hovered here****\", this.toolTipTimeOutCounter);\n        this.toolTipTimeOutCounter = this.props.timeoutInMS;\n        this.intervalID = setInterval(\n            ()=>{\n                if(this.initialized === false){\n                    this.initialized = true;\n                    this.setState({isHovering:true});\n                    console.log(\"start hover\", this.state.isHovering);\n                }\n                this.toolTipTimeOutCounter -= 50;\n                if(this.toolTipTimeOutCounter <= 0){\n                    this.clearHover();\n                }\n                this.updateMousePos();\n\n            }, 50);\n    }\n\n    clearHover(){\n        console.log(\"clear hover\");\n        this.initialized = false;\n        this.setState({isHovering:false} );\n        clearInterval(this.intervalID);\n    }\n\n    componentDidMount(): void {\n        //this.startHover();\n    }\n\n    quickTestHover():void {\n        console.log(\"first hover\");\n    }\n\n    handleFadeInOut(){\n        if(this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700 ){\n            return \"fade-1\"\n        }else\n        if(this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600 ){\n            return \"fade-11\"\n        }else\n        if(this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500){\n            return \"fade-2\"\n        }else\n        if(this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400){\n            return \"fade-21\"\n        }else\n        if(this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300){\n            return \"fade-3\"\n        }else\n        if(this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200){\n            return \"fade-31\"\n        }else\n        if(this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100  ){\n            return \"fade-4\"\n        }else\n        if(this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20  ){\n            return \"fade-41\"\n        }else\n        if(this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0  ){\n            return \"fade-5\"\n        }\n\n        //HANDLE FADE IN\n\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter && this.toolTipTimeOutCounter > this.toolTipTimeOutCounter-100 ){\n            return \"fade-5\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-100 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-200 ){\n            return \"fade-41\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-200 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-300){\n            return \"fade-4\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-300 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-400){\n            return \"fade-31\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-400 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-500){\n            return \"fade-3\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-500 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-600){\n            return \"fade-21\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-600 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-700  ){\n            return \"fade-2\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-700 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-800  ){\n            return \"fade-11\"\n        }else\n        if(this.toolTipTimeOutCounter <= this.toolTipTimeOutCounter-800 && this.toolTipTimeOutCounter < this.toolTipTimeOutCounter-9000  ){\n            return \"fade-0\"\n        }\n    }\n\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n\n        let tooltip : ReactElement = (<></>);\n        if(this.state.isHovering === true && this.toolTipTimeOutCounter > 0){\n            tooltip = this.getToolTip();\n        }\n\n\n        let constructedToolTip = (\n          <>\n              <span className={this.handleFadeInOut()}>{tooltip}</span>\n               <p style={{position:\"fixed\", top:0, right:0}}>{`x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `}</p>\n          </>\n        );\n\n        return constructedToolTip;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}