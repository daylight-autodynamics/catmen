{"ast":null,"code":"import _classCallCheck from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import{CatmanIcon}from\"../../../svg/icons/icons\";import{DataGrid}from\"../../../view-components/data-grid/data-grid\";import{catmanData}from\"../../../_sample-data/products-data\";import{TitleArea}from\"../../../view-components/title-area/title-area\";import StickyThing from\"../../../view-components/sticky-panel/sticky-panel\";import{toolTipContent}from\"../../_common/tool-tip-content/content-tool-tips\";import AppButton from\"../../../view-components/button/app-button\";import{appColumns}from\"../../../_sample-data/columns\";import{CatalogSingleProduct}from\"./single-product-view\";import{TextInput}from\"../../../view-components/text-input/text-input\";export var CatalogDetailsView=/*#__PURE__*/function(_React$Component){_inherits(CatalogDetailsView,_React$Component);var _super=_createSuper(CatalogDetailsView);function CatalogDetailsView(props){var _this;_classCallCheck(this,CatalogDetailsView);_this=_super.call(this,props);_this.workingDataSet=void 0;_this.initialized=false;_this.dataGridRef=React.createRef();_this.editDrawerRef=React.createRef();_this.editDrawer=/*#__PURE__*/React.createElement(React.Fragment,null);_this.selectionSet=[];_this.columns=void 0;_this.drawerFirstOpen=false;_this.closeSingleProductEdit=function(){window.history.back();};_this.updateValues=function(row,cell,value,colName){if(_this.dataGridRef.current!=null&&_this.dataGridRef.current!=undefined){_this.selectionSet=_this.dataGridRef.current.selectionSet;console.log(\"cat details view selection set: \",_this.selectionSet);}console.log(\"inside drawer\",value,\" col name:\",colName);//the minus 2 is the offset for the extra columns checkbox and edit\nfor(var i=0;i<_this.selectionSet.length;i++){if(_this.selectionSet[i].columnName===colName){var myRow=_this.selectionSet[i].row;var myCell=_this.selectionSet[i].cell;console.log(\"working data set:\",_this.workingDataSet[myRow-2][myCell-2]);_this.workingDataSet[myRow-2][myCell-2].value=value;}}//this.workingDataSet[ row-2][cell-2].value = value;\n_this.setState({workingData:_this.workingDataSet});console.log(\"working data set:\",_this.state.workingData);};_this.manageSelectionSet=function(selectionSet,checkBoxSelections,message){if(checkBoxSelections.length>0||_this.initialized===false&&checkBoxSelections.length===0&&message===\"checkbox-launched\"){if(checkBoxSelections.length<=1){_this.setState({editDrawerOpen:false,footerOpen:true,footerMode:\"default\"});}else if(checkBoxSelections.length>1){_this.setState({editDrawerOpen:false,footerOpen:true,footerMode:\"multiple-selected\"});}_this.initialized=true;}else{_this.setState({footerOpen:false});}};_this.columns=appColumns.getColumns();_this.state={workingData:_this.props.gridData,productViewOpen:false,editDrawerOpen:false,editDrawerMaximized:false,footerOpen:false,footerMode:\"default\",selectionSet:[]};_this.workingDataSet=_this.props.gridData;return _this;}_createClass(CatalogDetailsView,[{key:\"getProductViewDrawer\",value:function getProductViewDrawer(){if(this.props.query!=\"none\"&&this.props.query!=null&&this.props.query!=undefined){return/*#__PURE__*/React.createElement(StickyThing,{enterFromThisSide:\"right\",lastResortClasses:\"product-view\",animateIn:true,heightIncludeUnits:\"100vh\",widthIncludeUnits:\"100vw\",stickyOpen:true,bgColor:\"#CECECE\",doAnimation:true},/*#__PURE__*/React.createElement(CatalogSingleProduct,{uniqueID:this.props.query,productData:this.state.workingData,closeSingleProduct:this.closeSingleProductEdit}));}}},{key:\"getColumnLabel\",value:function getColumnLabel(colName){var columnLabel=\"\";for(var i=0;i<this.columns.length;i++){if(this.columns[i].columnName===colName){columnLabel=this.columns[i].columnLabel;}}return columnLabel;}},{key:\"getEditDrawer\",value:function getEditDrawer(){var _this2=this;if(this.state.editDrawerOpen===false){return/*#__PURE__*/React.createElement(React.Fragment,null);}if(this.dataGridRef.current!=null&&this.dataGridRef.current!=undefined){this.selectionSet=this.dataGridRef.current.selectionSet;console.log(\"cat details view selection set: \",this.selectionSet);}var inputs=[];var selectedItems=[];//Create list of selection items that need inputs (i.e. one input per column)\ni:for(var i=0;i<this.selectionSet.length;i++){j:for(var j=0;j<selectedItems.length;j++){if(this.selectionSet[i].columnName===selectedItems[j].columnName){continue i;}}var row=this.selectionSet[i].row;var cell=this.selectionSet[i].cell;var productDataItem=catmanData.productData[row-2][cell-2];selectedItems.push(productDataItem);}for(var _i=0;_i<selectedItems.length;_i++){var input=/*#__PURE__*/React.createElement(TextInput,{row:this.selectionSet[_i].row,cell:this.selectionSet[_i].cell,columnName:this.selectionSet[_i].columnName,label:this.getColumnLabel(selectedItems[_i].columnName),currentValue:selectedItems[_i].value,onChangeAction:this.updateValues});inputs.push(input);}var maximize=function maximize(valueCheck){if(valueCheck===true){return\"maximized\";}else{return\"catman-edit-default restored\";}};var restoreAndMaximizeTooltip=function restoreAndMaximizeTooltip(valueCheck){if(valueCheck===false){return toolTipContent.maximizeDrawer();}else{return toolTipContent.restoreDrawer();}};var drawer=/*#__PURE__*/React.createElement(React.Fragment,null);if(this.state.editDrawerOpen===true){drawer=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StickyThing,{ref:this.editDrawerRef,enterFromThisSide:\"bottom\",lastResortClasses:\"catman-edit-drawer \".concat(maximize(this.state.editDrawerMaximized)),animateIn:true,heightIncludeUnits:\"\",widthIncludeUnits:\"\",stickyOpen:true,bgColor:\"#CECECE\",doAnimation:true,toolBar:\"none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tool-bar\"},/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"drawer-controls\"},/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"\",OnClick:function OnClick(){return _this2.maximizeEditDrawer();},tooltipType:\"custom\",tooltip:restoreAndMaximizeTooltip(this.state.editDrawerMaximized),toolTipTimeOutInMS:10000,classes:\"tool-bar-btn icon-only-btn\",iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-maximize\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"\",OnClick:function OnClick(){return _this2.closeEditDrawer();},tooltipType:\"custom\",tooltip:toolTipContent.closeDrawer(),toolTipTimeOutInMS:10000,classes:\"icon-only-btn\",iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-close\",classes:\" \",height:\"100%\",width:\"100%\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:\"drawer-edit-area\"},inputs)));}return drawer;}},{key:\"maximizeEditDrawer\",value:function maximizeEditDrawer(){this.setState({editDrawerMaximized:!this.state.editDrawerMaximized});}},{key:\"closeEditDrawer\",value:function closeEditDrawer(){this.setState({editDrawerOpen:false,editDrawerMaximized:false});if(this.dataGridRef.current!=null&&this.dataGridRef.current!=undefined){this.dataGridRef.current.clearSelection();}this.drawerFirstOpen=false;}},{key:\"openEditDrawer\",value:function openEditDrawer(){this.drawerFirstOpen=true;this.setState({editDrawerOpen:true});}},{key:\"footerActions\",value:function footerActions(action){switch(action){case\"cancel\":this.setState({footerOpen:false});this.initialized=false;if(this.dataGridRef.current!==null&&this.dataGridRef.current!==undefined){this.dataGridRef.current.clearSelection();}break;case\"add-group\":break;case\"edit\":this.setState({footerOpen:false});this.initialized=false;break;}}},{key:\"addAction\",value:function addAction(){console.log(\"added item or items\");}},{key:\"getFooterMenu\",value:function getFooterMenu(){var _this3=this;var footer=/*#__PURE__*/React.createElement(React.Fragment,null);var buttons=/*#__PURE__*/React.createElement(React.Fragment,null);switch(this.state.footerMode){case\"default\":buttons=/*#__PURE__*/React.createElement(\"div\",{className:\"footer-btn-bar catman-footer\"},/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Cancel\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerCancel(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"cancel\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Delete Selected\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerDelete(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-delete\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{classes:\"separate-left\",buttonType:\"secondary-action\",buttonLabel:\"Edit Selected\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerEditSelection(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-edit\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{classes:\" \",buttonType:\"secondary-action\",buttonLabel:\"Add Variant\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerAddVariant(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-add\",classes:\" \",height:\"100%\",width:\"100%\"})}));break;case\"multiple-selected\":buttons=/*#__PURE__*/React.createElement(\"div\",{className:\"footer-btn-bar catman-footer\"},/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Cancel\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerCancel(),toolTipTimeOutInMS:10000,tooltipXOffset:0,tooltipYOffset:20,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"cancel\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Delete Selected\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerDelete(),toolTipTimeOutInMS:10000,tooltipXOffset:0,tooltipYOffset:20,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-delete\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{classes:\"separate-left\",buttonType:\"secondary-action\",buttonLabel:\"Edit Selected\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerEditSelection(),toolTipTimeOutInMS:10000,tooltipXOffset:0,tooltipYOffset:20,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-edit\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{classes:\" \",buttonType:\"secondary-action\",buttonLabel:\"Make Into a Variant Group\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerCreateVariant(),toolTipTimeOutInMS:10000,tooltipXOffset:0,tooltipYOffset:20,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-add\",classes:\" \",height:\"100%\",width:\"100%\"})}));break;case\"has-group\":buttons=/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"catalog manager\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.mainNav(),toolTipTimeOutInMS:10000,iconRight:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"down-arrow\",classes:\"ui-icon\",height:\"100%\",width:\"100%\"})});}if(this.state.footerOpen===true){var buttonBar=/*#__PURE__*/React.createElement(React.Fragment,null);footer=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StickyThing,{enterFromThisSide:\"bottom\",lastResortClasses:\"catman-footer-container\",animateIn:true,heightIncludeUnits:\"3.75rem\",widthIncludeUnits:\"100%\",stickyOpen:true,bgColor:\"rgba(0,0,0,0)\",doAnimation:true},buttons));}return footer;}},{key:\"conditionClasses\",value:function conditionClasses(){if(this.state.editDrawerOpen===true){return\"drawer-open\";}}},{key:\"manageModals\",value:function manageModals(modalName){switch(modalName){case\"add-products\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,\"Add Products\"));case\"add-product-variant\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,\"Product Variant\"));}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var inputs=document.getElementsByClassName(\"InputBox\");console.log(this.drawerFirstOpen);if(this.drawerFirstOpen===true){inputs[0].focus();this.drawerFirstOpen=false;}}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TitleArea,{mainTitle:\"Spreadsheet View\",subTitle:\"My Catalog\"}),/*#__PURE__*/React.createElement(DataGrid,{ref:this.dataGridRef,data:this.state.workingData,manageParentViews:function manageParentViews(){return _this4.openEditDrawer();},selectionCallback:this.manageSelectionSet,columns:appColumns.getColumns(),classes:this.conditionClasses()}),this.getEditDrawer(),this.getFooterMenu(),this.getProductViewDrawer());}}]);return CatalogDetailsView;}(React.Component);","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/views/catalog-views/catalog-details/catalog-details-view.tsx"],"names":["React","CatmanIcon","DataGrid","catmanData","TitleArea","StickyThing","toolTipContent","AppButton","appColumns","CatalogSingleProduct","TextInput","CatalogDetailsView","props","workingDataSet","initialized","dataGridRef","createRef","editDrawerRef","editDrawer","selectionSet","columns","drawerFirstOpen","closeSingleProductEdit","window","history","back","updateValues","row","cell","value","colName","current","undefined","console","log","i","length","columnName","myRow","myCell","setState","workingData","state","manageSelectionSet","checkBoxSelections","message","editDrawerOpen","footerOpen","footerMode","getColumns","gridData","productViewOpen","editDrawerMaximized","query","columnLabel","inputs","selectedItems","j","productDataItem","productData","push","input","getColumnLabel","maximize","valueCheck","restoreAndMaximizeTooltip","maximizeDrawer","restoreDrawer","drawer","maximizeEditDrawer","closeEditDrawer","closeDrawer","clearSelection","action","footer","buttons","footerActions","footerCancel","footerDelete","footerEditSelection","footerAddVariant","footerCreateVariant","mainNav","buttonBar","modalName","document","getElementsByClassName","focus","openEditDrawer","conditionClasses","getEditDrawer","getFooterMenu","getProductViewDrawer","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {Navigation} from \"../../../view-components/list-menu/intra-app-navigation\";\nimport {MainHeaderArea} from \"../../_common/main-header-area/main-header-area\";\n\n//Configuration data:\nimport {mainNavConfig} from \"../../_catman-configuration/common-app-configuration\";\nimport {CatmanIcon} from \"../../../svg/icons/icons\";\nimport {ToolTipContent} from \"../../../view-components/heru-tool-tip/tool-tip-content\";\nimport {DataGrid, selectionObject} from \"../../../view-components/data-grid/data-grid\";\nimport {catmanData} from \"../../../_sample-data/products-data\";\nimport {TitleArea} from \"../../../view-components/title-area/title-area\";\nimport {Route, RouteComponentProps, Switch, useRouteMatch} from \"react-router-dom\";\nimport StickyThing from \"../../../view-components/sticky-panel/sticky-panel\";\nimport {ReactElement} from \"react\";\nimport {iDataGridItem} from \"../../../view-components/data-grid/data-types-for-data-grid\";\nimport {toolTipContent} from \"../../_common/tool-tip-content/content-tool-tips\";\nimport AppButton from \"../../../view-components/button/app-button\";\nimport {appColumns, iColumn} from \"../../../_sample-data/columns\";\nimport {CatalogSingleProduct} from \"./single-product-view\";\nimport {TextInput} from \"../../../view-components/text-input/text-input\";\nimport app from \"../../../../../catmen-server/src/Server\";\n\n\n\ninterface iPROPS   {\n    message: string;\n    query:string | null;\n    gridData : iDataGridItem[][];\n    addAction : Function\n}\n\ninterface iSTATE{\n    productViewOpen : boolean;\n    editDrawerOpen : boolean;\n    editDrawerMaximized : boolean;\n    footerOpen : boolean;\n    footerMode : \"default\" | \"has-group\" | \"no-group\" | \"multiple-selected\" ;\n    selectionSet : selectionObject[];\n    workingData : iDataGridItem[][];\n\n}\n\nexport class CatalogDetailsView extends React.Component<iPROPS, iSTATE>{\n     constructor(props:iPROPS) {\n         super(props);\n         this.columns = appColumns.getColumns();\n         this.state = {\n             workingData : this.props.gridData,\n             productViewOpen : false,\n             editDrawerOpen : false,\n             editDrawerMaximized : false,\n             footerOpen : false,\n             footerMode : \"default\",\n             selectionSet : [],\n         };\n         this.workingDataSet = this.props.gridData;\n     }\n     workingDataSet : iDataGridItem[][];\n     //just for the fist launch of checkbox editing\n     initialized:boolean = false;\n     dataGridRef = React.createRef<DataGrid>();\n     editDrawerRef = React.createRef<StickyThing>();\n     editDrawer : ReactElement = (<></>);\n     selectionSet : selectionObject[] = [];\n     columns : iColumn[];\n\n     //manage selection in the drawer\n        drawerFirstOpen = false;\n\n\n\n     closeSingleProductEdit = ()=>{\n        window.history.back();\n    };\n\n     getProductViewDrawer( ){\n         if(this.props.query != \"none\" && this.props.query != null && this.props.query != undefined ){\n\n             return(\n                 <StickyThing\n                     enterFromThisSide=\"right\"\n                     lastResortClasses={\"product-view\"}\n                     animateIn={true}\n                     heightIncludeUnits=\"100vh\"\n                     widthIncludeUnits={\"100vw\"}\n                     stickyOpen={true}\n                     bgColor={\"#CECECE\"}\n                     doAnimation={true}\n                 >\n                    <CatalogSingleProduct\n                        uniqueID={this.props.query}\n                        productData={this.state.workingData}\n                        closeSingleProduct={this.closeSingleProductEdit}\n                    />\n\n                 </StickyThing>\n             )\n         }\n     }\n\n     getColumnLabel(colName : string) : string{\n\n         let columnLabel = \"\";\n         for(let i = 0; i < this.columns.length; i++){\n             if(this.columns[i].columnName === colName){\n                 columnLabel = this.columns[i].columnLabel;\n             }\n         }\n\n         return columnLabel;\n     }\n\n     updateValues=(row : number, cell:number, value:string, colName : string)=>{\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined ){\n             this.selectionSet = this.dataGridRef.current.selectionSet;\n             console.log(\"cat details view selection set: \", this.selectionSet)\n         }\n         console.log(\"inside drawer\", value, \" col name:\", colName);\n         //the minus 2 is the offset for the extra columns checkbox and edit\n         for(let i =0; i < this.selectionSet.length; i++){\n             if(this.selectionSet[i].columnName === colName){\n                 let myRow = this.selectionSet[i].row;\n                 let myCell = this.selectionSet[i].cell;\n                 console.log( \"working data set:\", this.workingDataSet[ myRow-2][myCell-2] );\n                 this.workingDataSet[ myRow-2][myCell-2].value = value;\n             }\n\n         }\n         //this.workingDataSet[ row-2][cell-2].value = value;\n\n\n         this.setState({workingData : this.workingDataSet});\n         console.log( \"working data set:\", this.state.workingData );\n     };\n\n     getEditDrawer():ReactElement{\n\n         if(this.state.editDrawerOpen === false){\n             return(<></>);\n         }\n\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined ){\n             this.selectionSet = this.dataGridRef.current.selectionSet;\n             console.log(\"cat details view selection set: \", this.selectionSet)\n         }\n\n         let inputs : ReactElement[] = [];\n         let selectedItems : iDataGridItem[] = [];\n\n         //Create list of selection items that need inputs (i.e. one input per column)\n        i: for(let i=0; i < this.selectionSet.length; i++){\n           j: for(let j=0; j < selectedItems.length; j++){\n                if(this.selectionSet[i].columnName === selectedItems[j].columnName){\n                    continue i;\n                }\n            }\n                 let row = this.selectionSet[i].row;\n                 let cell = this.selectionSet[i].cell;\n                 let productDataItem = catmanData.productData[row-2][cell-2];\n                 selectedItems.push(productDataItem);\n        }\n\n         for( let i=0; i < selectedItems.length; i++){\n             let input = (\n                 <TextInput\n                     row={this.selectionSet[i].row}\n                     cell={this.selectionSet[i].cell}\n                     columnName={this.selectionSet[i].columnName}\n                     label={this.getColumnLabel( selectedItems[i].columnName )}\n                     currentValue={ selectedItems[i].value}\n                     onChangeAction={this.updateValues}\n                 />\n             );\n             inputs.push(input)\n         }\n\n        let maximize = (valueCheck : boolean)=>{\n             if(valueCheck === true){\n                 return \"maximized\"\n             }else{\n                 return \"catman-edit-default restored\"\n             }\n        };\n\n         let restoreAndMaximizeTooltip = (valueCheck : boolean)=>{\n            if(valueCheck === false){\n                return toolTipContent.maximizeDrawer();\n            }else{\n                return toolTipContent.restoreDrawer();\n            }\n         };\n\n\n         let drawer = (<></>);\n             if(this.state.editDrawerOpen === true){\n                 drawer = (\n                     <>\n                         <StickyThing\n                             ref = {this.editDrawerRef}\n                             enterFromThisSide=\"bottom\"\n                             lastResortClasses={`catman-edit-drawer ${maximize(this.state.editDrawerMaximized)}`}\n                             animateIn={true}\n                             heightIncludeUnits=\"\"\n                             widthIncludeUnits={\"\"}\n                             stickyOpen={true}\n                             bgColor={\"#CECECE\"}\n                             doAnimation={true}\n                             toolBar=\"none\"\n                         >\n                             <div className={\"tool-bar\"}>\n                                 <div></div>\n                                 <div className=\"drawer-controls\">\n                                      <AppButton\n                                         buttonType={\"secondary-action\"}\n                                         buttonLabel=\"\"\n                                         OnClick={()=>this.maximizeEditDrawer()}\n                                         tooltipType=\"custom\"\n                                         tooltip={restoreAndMaximizeTooltip(this.state.editDrawerMaximized)}\n                                         toolTipTimeOutInMS={10000}\n                                         classes=\"tool-bar-btn icon-only-btn\"\n                                         iconLeft={\n                                             <CatmanIcon\n                                                 iconName=\"icon-maximize\"\n                                                 classes=\" \"\n                                                 height=\"100%\"\n                                                 width=\"100%\"\n                                             />\n                                         }\n                                     />\n                                     <AppButton\n                                         buttonType={\"secondary-action\"}\n                                         buttonLabel=\"\"\n                                         OnClick={()=>this.closeEditDrawer()}\n                                         tooltipType=\"custom\"\n                                         tooltip={toolTipContent.closeDrawer()}\n                                         toolTipTimeOutInMS={10000}\n                                         classes=\"icon-only-btn\"\n                                         iconLeft={\n                                             <CatmanIcon\n                                                 iconName=\"icon-close\"\n                                                 classes=\" \"\n                                                 height=\"100%\"\n                                                 width=\"100%\"\n                                             />\n                                         }\n                                     />\n\n                                 </div>\n                             </div>\n\n                             <div className=\"drawer-edit-area\">\n                                 {inputs}\n                             </div>\n                         </StickyThing>\n                     </>\n                 );\n             }\n         return drawer;\n     }\n\n     maximizeEditDrawer(){\n         this.setState({editDrawerMaximized : !this.state.editDrawerMaximized})\n     }\n\n     closeEditDrawer(){\n         this.setState({\n             editDrawerOpen : false,\n             editDrawerMaximized : false\n         });\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined){\n             this.dataGridRef.current.clearSelection();\n         }\n         this.drawerFirstOpen = false;\n     }\n\n     openEditDrawer( ){\n         this.drawerFirstOpen = true;\n         this.setState({editDrawerOpen : true});\n\n\n     }\n\n     footerActions(action : \"cancel\" | \"add-group\" | \"edit\"){\n         switch (action) {\n             case \"cancel\":\n\n                 this.setState({footerOpen : false});\n                 this.initialized = false;\n                 if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n                     this.dataGridRef.current.clearSelection();\n                 }\n                 break;\n             case \"add-group\":\n\n                 break;\n             case \"edit\":\n\n                 this.setState({footerOpen : false});\n                 this.initialized = false;\n\n                 break;\n         }\n     }\n\n     addAction(){\n         console.log(\"added item or items\");\n     }\n\n     getFooterMenu(){\n         let footer = (<></>);\n         let buttons = (<></>);\n\n         switch(this.state.footerMode){\n             case \"default\":\n                 buttons = (\n                     <div className=\"footer-btn-bar catman-footer\">\n                         <AppButton\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Cancel\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerCancel()}\n                             toolTipTimeOutInMS={10000}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"cancel\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                         <AppButton\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Delete Selected\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerDelete()}\n                             toolTipTimeOutInMS={10000}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"icon-delete\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                         <AppButton\n                             classes={\"separate-left\"}\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Edit Selected\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerEditSelection()}\n                             toolTipTimeOutInMS={10000}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"icon-edit\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                         <AppButton\n                             classes={\" \"}\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Add Variant\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerAddVariant()}\n                             toolTipTimeOutInMS={10000}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"icon-add\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                     </div>\n                 );\n                 break;\n\n             case \"multiple-selected\":\n                 buttons = (\n                     <div className=\"footer-btn-bar catman-footer\">\n                         <AppButton\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Cancel\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerCancel()}\n                             toolTipTimeOutInMS={10000}\n                             tooltipXOffset={0}\n                             tooltipYOffset={20}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"cancel\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                         <AppButton\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Delete Selected\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerDelete()}\n                             toolTipTimeOutInMS={10000}\n                             tooltipXOffset={0}\n                             tooltipYOffset={20}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"icon-delete\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                         <AppButton\n                             classes={\"separate-left\"}\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Edit Selected\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerEditSelection()}\n                             toolTipTimeOutInMS={10000}\n                             tooltipXOffset={0}\n                             tooltipYOffset={20}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"icon-edit\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                         <AppButton\n                             classes={\" \"}\n                             buttonType={\"secondary-action\"}\n                             buttonLabel=\"Make Into a Variant Group\"\n                             OnClick={()=>this.footerActions(\"cancel\")}\n                             tooltipType=\"custom\"\n                             tooltip={toolTipContent.footerCreateVariant()}\n                             toolTipTimeOutInMS={10000}\n                             tooltipXOffset={0}\n                             tooltipYOffset={20}\n                             iconLeft={\n                                 <CatmanIcon\n                                     iconName=\"icon-add\"\n                                     classes=\" \"\n                                     height=\"100%\"\n                                     width=\"100%\"\n                                 />\n                             }\n                         />\n                     </div>\n                 );\n                 break;\n\n             case \"has-group\":\n                 buttons = (<AppButton\n                     buttonType={\"secondary-action\"}\n                     buttonLabel=\"catalog manager\"\n                     OnClick={()=>this.footerActions(\"cancel\")}\n                     tooltipType=\"custom\"\n                     tooltip={toolTipContent.mainNav()}\n                     toolTipTimeOutInMS={10000}\n                     iconRight={\n                         <CatmanIcon\n                             iconName=\"down-arrow\"\n                             classes=\"ui-icon\"\n                             height=\"100%\"\n                             width=\"100%\"\n                         />\n                     }\n                 />)\n         }\n\n         if(this.state.footerOpen === true){\n\n             let buttonBar : ReactElement = (<>\n             </>);\n\n             footer = (\n                 <>\n                     <StickyThing\n                         enterFromThisSide=\"bottom\"\n                         lastResortClasses={\"catman-footer-container\"}\n                         animateIn={true}\n                         heightIncludeUnits=\"3.75rem\"\n                         widthIncludeUnits={\"100%\"}\n                         stickyOpen={true}\n                         bgColor={\"rgba(0,0,0,0)\"}\n                         doAnimation={true}\n                     >\n                         {buttons}\n                     </StickyThing>\n                 </>\n             );\n         }\n         return footer;\n     }\n\n     manageSelectionSet = (selectionSet : iDataGridItem[], checkBoxSelections : number[], message : string )=>{\n        if(checkBoxSelections.length > 0 || (this.initialized === false && checkBoxSelections.length === 0 && message === \"checkbox-launched\") ){\n            if(checkBoxSelections.length <= 1){\n                this.setState({editDrawerOpen : false, footerOpen : true, footerMode: \"default\"});\n            }else if(checkBoxSelections.length > 1 ){\n                this.setState({editDrawerOpen : false, footerOpen : true, footerMode: \"multiple-selected\"});\n            }\n            this.initialized = true;\n        }else{\n            this.setState({footerOpen : false});\n        }\n\n     };\n\n     conditionClasses(){\n         if(this.state.editDrawerOpen === true){\n             return \"drawer-open\";\n         }\n     }\n\n     manageModals(modalName : string){\n         switch(modalName){\n             case \"add-products\":\n                 return(<><p>Add Products</p></>);\n             case \"add-product-variant\":\n                 return(<><p>Product Variant</p></>)\n         }\n     }\n\n    componentDidUpdate(): void {\n         let inputs : any = document.getElementsByClassName(\"InputBox\");\n\n        console.log(this.drawerFirstOpen)\n        if(this.drawerFirstOpen === true){\n           inputs[0].focus();\n           this.drawerFirstOpen = false;\n        }\n     }\n\n    render(){\n\n         return (\n             <>\n                 <TitleArea mainTitle=\"Spreadsheet View\" subTitle=\"My Catalog\" />\n                 <DataGrid\n                     ref={this.dataGridRef}\n                     data={this.state.workingData}\n                     manageParentViews={()=>this.openEditDrawer()}\n                     selectionCallback={this.manageSelectionSet}\n                     columns={appColumns.getColumns()}\n                     classes={this.conditionClasses()}\n                 />\n                 {this.getEditDrawer() }\n                 {this.getFooterMenu() }\n                 {this.getProductViewDrawer()}\n             </>\n         )\n     }\n}\n"]},"metadata":{},"sourceType":"module"}