{"ast":null,"code":"import _classCallCheck from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import AppButton from\"../button/app-button\";import{CatmanIcon}from\"../../svg/icons/icons\";import{Tile}from\"../tiles/tile-component\";import{toolTipContent}from\"../../views/_common/tool-tip-content/content-tool-tips\";import{appColumns}from\"../../_sample-data/columns\";//data grid data should be an array of arrays\n//each product is an array of attributes\nexport var DataGrid=/*#__PURE__*/function(_React$Component){_inherits(DataGrid,_React$Component);var _super=_createSuper(DataGrid);function DataGrid(props){var _this;_classCallCheck(this,DataGrid);_this=_super.call(this,props);_this.selectionSet=[];_this.numCols=void 0;_this.numRows=void 0;_this.startSelectionRow=void 0;_this.startSelectionCell=void 0;_this.cellRange=void 0;_this._checkedRows=[];_this.iconCheck=function(row){for(var i=0;i<_this.state.checkedRows.length;i++){if(row===_this.state.checkedRows[i]){return\"checkbox-checked\";}}return\"checkbox-unchecked\";};_this.updateSelectionState=function(){_this.setState({selectionSet:_this.selectionSet});};_this.state={workingDataSet:_this.props.data,selectionSet:[],checkedRows:[]};_this.startSelectionRow=0;_this.startSelectionCell=0;_this.cellRange={startCell:0,endCell:0,startRow:0,endRow:0};_this.numCols=_this.getNumColumns();_this.numRows=_this.getNumRows();return _this;}_createClass(DataGrid,[{key:\"manageSelection\",value:function manageSelection(row,cell,columnName,clearSelection){if(clearSelection){this.selectionSet=[];this._checkedRows=[];}if(this.startSelectionRow>row){this.cellRange.startRow=row;this.cellRange.endRow=this.startSelectionRow;}else{this.cellRange.startRow=this.startSelectionRow;this.cellRange.endRow=row;}if(this.startSelectionCell>cell){this.cellRange.startCell=cell;this.cellRange.endCell=this.startSelectionCell;}else{this.cellRange.startCell=this.startSelectionCell;this.cellRange.endCell=cell;}if(row===this.startSelectionRow&&cell===this.startSelectionCell){this.selectionSet.push({row:row,cell:cell,selected:true,columnName:appColumns.getColumns()[cell-2].columnName});}for(var i=this.cellRange.startRow;i<this.cellRange.endRow+1;i++){for(var j=this.cellRange.startCell;j<this.cellRange.endCell+1;j++){this.selectionSet.push({row:i,cell:j,selected:true,columnName:appColumns.getColumns()[j-2].columnName});}}// handle single cell as start and end\nconsole.log(\"@@@ this.selectionSet: \",this.selectionSet);console.log(\"*** this.state.selectionSet: \",this.state.selectionSet);if(this.selectionSet.length===2){if(this.selectionSet[0].row===this.selectionSet[1].row&&this.selectionSet[0].cell===this.selectionSet[1].cell){this.selectionSet.splice(1,1);}}this.setState({selectionSet:this.selectionSet,checkedRows:this._checkedRows});if(this.props.selectionCallback!==undefined&&this.props.selectionCallback!==null){var selectedItems=[];var lastRow=0;// work through the selection set to organize things\ni:for(var _i=0;_i<this.selectionSet.length;_i++){if(_i===0){//if it's the first one let's create a new entry\nlastRow=this.selectionSet[0].row;var newItem={row:lastRow,cells:[],productFields:[]};selectedItems.push(newItem);}//loop over the existing list of rows to create new ones\nif(this.selectionSet[_i].row===lastRow){//one more loop over the list to grab all the cells that belong to the row\nif(selectedItems[selectedItems.length-1].cells.length===0){for(var _j=0;_j<this.selectionSet.length;_j++){if(this.selectionSet[_j].row===lastRow){//if the row matches the last row, then push in the selected cell\nselectedItems[selectedItems.length-1].cells.push(this.selectionSet[_j].cell);}}}}else{lastRow=this.selectionSet[_i].row;var _newItem={row:lastRow,cells:[],productFields:[]};selectedItems.push(_newItem);}}for(var x=0;x<selectedItems.length;x++){for(var y=0;y<this.state.workingDataSet[selectedItems[x].row-2].length;y++){selectedItems[x].productFields.push(this.state.workingDataSet[selectedItems[x].row-2][y]);}}this.props.selectionCallback(selectedItems,this._checkedRows,\"standard-launch\");}}},{key:\"clearSelection\",value:function clearSelection(){this.setState({selectionSet:[],checkedRows:[]});this._checkedRows=[];this.selectionSet=[];}},{key:\"checkSelected\",value:function checkSelected(row,cell){for(var i=0;i<this.state.selectionSet.length;i++){if(this.state.selectionSet[i].row===row&&this.state.selectionSet[i].cell===cell){return\"selected\";}}//if nothing is found, return false because it isn't selected\nreturn\"\";}},{key:\"getNumColumns\",value:function getNumColumns(){//TODO swap this out to calculating total normalized columns\nreturn appColumns.getColumns().length;}},{key:\"getNumRows\",value:function getNumRows(){if(this.state.workingDataSet.length>0){return this.state.workingDataSet.length;}else{return this.props.data.length;}}},{key:\"getProductUniqueID\",value:function getProductUniqueID(index){for(var j=0;j<this.state.workingDataSet[index].length;j++){if(this.state.workingDataSet[index][j].columnName===\"uniqueID\"){return this.state.workingDataSet[index][j].value;}}}},{key:\"mouseDownAction\",value:function mouseDownAction(row,cell){this.startSelectionCell=cell;this.startSelectionRow=row;}},{key:\"mouseUpAction\",value:function mouseUpAction(row,cell,columnName){//console.log(\"@@@check\", row, \" \", cell, \" \", columnName);\nthis.manageSelection(row,cell,columnName,true);console.log(\"selection set: \",this.selectionSet);}},{key:\"manageCheckbox\",value:function manageCheckbox(row){//find if this number is in the list\nvar found=false;console.log(\"@@ checked rows: \",row);for(var i=0;i<this._checkedRows.length;i++){if(this._checkedRows[i]===row){//if it is in the list remove it which unchecks\nthis._checkedRows.splice(i,1);this.setState({checkedRows:this._checkedRows});found=true;}}if(found===false){this._checkedRows.push(row);this.setState({checkedRows:this._checkedRows});}//handle selecting the checked\n//First reset the cell selection\nthis.selectionSet=[];for(var _i2=0;_i2<this._checkedRows.length;_i2++){for(var j=0;j<this.state.workingDataSet[this._checkedRows[_i2]].length;j++){var selectedCell={row:this._checkedRows[_i2]+2,cell:j,selected:true,columnName:appColumns.getColumns()[j].columnName};this.selectionSet.push(selectedCell);}}this.setState({selectionSet:this.selectionSet});if(this.props.selectionCallback!==undefined){this.props.selectionCallback(this.state.selectionSet,this.state.checkedRows,\"checkbox-launched\");}//once people use the tool, we can hide the tool tip\ntoolTipContent.showSelectRow=false;}},{key:\"getGridItems\",value:function getGridItems(){var _this2=this;var cells=[];var _loop=function _loop(i){var _loop2=function _loop2(j){if(j===0){cells.push(/*#__PURE__*/React.createElement(\"div\",{className:\"cell checkbox-main\",style:{gridColumn:j+1,gridRow:i+2,zIndex:100+(_this2.numRows-i)}},/*#__PURE__*/React.createElement(AppButton,{OnClick:function OnClick(){return _this2.manageCheckbox(i);},buttonType:\"transparent-bg\",tooltipType:\"custom\",tooltip:toolTipContent.selectRow(),classes:\"\".concat(_this2.iconCheck(i)),iconCenter:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"\".concat(_this2.iconCheck(i)),width:\"0.5rem\",height:\"100%\"})}),/*#__PURE__*/React.createElement(CatmanIcon,{classes:\"shading-l-r\",iconName:\"fader-left-to-right\",width:\"0.5rem\",height:\"100%\"})));}var cell=/*#__PURE__*/React.createElement(\"div\",{className:\"cell\",style:{gridColumn:j+2,gridRow:i+2}},/*#__PURE__*/React.createElement(Tile,{tileType:_this2.props.columns[j].control,tileLabel:_this2.state.workingDataSet[i][j].value,mouseDownActions:[function(){return _this2.mouseDownAction(i+2,j+2);}],mouseUpActions:[function(){return _this2.props.manageParentViews();},function(){return _this2.mouseUpAction(i+2,j+2,appColumns.getColumns()[j].columnName);}],selectedClass:_this2.checkSelected(i+2,j+2)}));if(_this2.props.columns[j].control!=\"hidden\"){cells.push(cell);}if(j===_this2.state.workingDataSet[i].length-1){cells.push(/*#__PURE__*/React.createElement(\"div\",{className:\"cell details\",style:{gridColumn:j+3,gridRow:i+2,zIndex:100+(_this2.numRows-i)}},/*#__PURE__*/React.createElement(AppButton,{buttonType:\"nav-link\",navPath:\"/catalog/spreadsheet?product=\".concat(_this2.getProductUniqueID(i)),tooltipType:\"custom\",tooltip:toolTipContent.singleProduct(),iconCenter:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"go-arrow\",width:\"1rem\",height:\"100%\"})}),/*#__PURE__*/React.createElement(CatmanIcon,{classes:\"shading\",iconName:\"fader-right-to-left\",width:\"0.5rem\",height:\"100%\"})));}};for(var j=0;j<_this2.state.workingDataSet[i].length;j++){_loop2(j);}};for(var i=0;i<this.state.workingDataSet.length;i++){_loop(i);}return cells;}},{key:\"getColumnHeaders\",value:function getColumnHeaders(){var _this3=this;var columnsHeads=[];var _loop3=function _loop3(i){if(i===0){columnsHeads.push(/*#__PURE__*/React.createElement(\"div\",{className:\"cell checkbox-main grid-header\",style:{gridColumn:i+1,gridRow:1,zIndex:100+(_this3.numRows-i)}},/*#__PURE__*/React.createElement(AppButton,{OnClick:function OnClick(){return _this3.manageCheckbox(i);},buttonType:\"transparent-bg\",tooltipType:\"custom\",tooltip:toolTipContent.selectRow(),classes:\" \",iconCenter:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"\".concat(_this3.iconCheck(i)),width:\"0.5rem\",height:\"100%\"})})));}var columnHead=/*#__PURE__*/React.createElement(\"div\",{className:\"cell grid-header\",style:{gridColumn:i+2,gridRow:1,zIndex:_this3.numRows+10}},/*#__PURE__*/React.createElement(Tile,{tileType:\"text-input\",tileLabel:_this3.props.columns[i].columnLabel,mouseDownActions:[],mouseUpActions:[function(){return _this3.props.manageParentViews();}],selectedClass:\"\"}));if(_this3.props.columns[i].control!=\"hidden\"){columnsHeads.push(columnHead);}//final column head action\nif(i===_this3.props.columns.length-1){columnsHeads.push(/*#__PURE__*/React.createElement(\"div\",{className:\"cell details grid-header\",style:{gridColumn:_this3.props.columns.length+2,gridRow:1,zIndex:100+(_this3.numRows-i)}},/*#__PURE__*/React.createElement(AppButton,{buttonType:\"nav-link\",navPath:\"/catalog/spreadsheet\",tooltipType:\"custom\",tooltip:toolTipContent.singleProduct(),iconCenter:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"go-arrow\",width:\"1rem\",height:\"100%\"})})));}};for(var i=0;i<this.props.columns.length;i++){_loop3(i);}return columnsHeads;}},{key:\"render\",value:function render(){var columnHeaders=this.getColumnHeaders();//having some trouble with layout of grid and checkboxes\n// style={{gridTemplateColumns : `1.5rem repeat(${this.getNumColumns().toString()}, max-content) 1rem`}}\nvar constructedGrid=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"data-grid \".concat(this.props.classes)},/*#__PURE__*/React.createElement(\"div\",{className:\"viewport\"},columnHeaders,this.getGridItems())));return constructedGrid;}}]);return DataGrid;}(React.Component);","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/data-grid/data-grid.tsx"],"names":["React","AppButton","CatmanIcon","Tile","toolTipContent","appColumns","DataGrid","props","selectionSet","numCols","numRows","startSelectionRow","startSelectionCell","cellRange","_checkedRows","iconCheck","row","i","state","checkedRows","length","updateSelectionState","setState","workingDataSet","data","startCell","endCell","startRow","endRow","getNumColumns","getNumRows","cell","columnName","clearSelection","push","selected","getColumns","j","console","log","splice","selectionCallback","undefined","selectedItems","lastRow","newItem","cells","productFields","x","y","index","value","manageSelection","found","selectedCell","showSelectRow","gridColumn","gridRow","zIndex","manageCheckbox","selectRow","columns","control","mouseDownAction","manageParentViews","mouseUpAction","checkSelected","getProductUniqueID","singleProduct","columnsHeads","columnHead","columnLabel","columnHeaders","getColumnHeaders","constructedGrid","classes","getGridItems","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {ReactElement} from \"react\";\nimport {iDataGridItem} from \"./data-types-for-data-grid\";\nimport AppButton from \"../button/app-button\";\nimport {CatmanIcon} from \"../../svg/icons/icons\";\nimport {selectedStateType, Tile} from \"../tiles/tile-component\";\nimport {toolTipContent} from \"../../views/_common/tool-tip-content/content-tool-tips\";\nimport camelcase from \"camelcase\";\nimport {appColumns, iColumn} from \"../../_sample-data/columns\";\n\n//data grid data should be an array of arrays\n//each product is an array of attributes\ninterface iPROPS {\n    data : iDataGridItem[][];\n    manageParentViews : Function;\n    selectionCallback? : Function;\n    columns : iColumn[];\n    classes? : string;\n}\n\ninterface iSTATE {\n    selectionSet : selectionObject[];\n    checkedRows :number[];\n    workingDataSet : iDataGridItem[][]\n}\n\nexport type selectionObject = {\n    row : number;\n    cell : number;\n    selected : boolean;\n    columnName : string;\n}\n\nexport class DataGrid extends React.Component<iPROPS, iSTATE>{\n    constructor(props:iPROPS) {\n        super(props);\n\n        this.state = {\n            workingDataSet : this.props.data,\n            selectionSet : [],\n            checkedRows : [],\n\n        };\n        this.startSelectionRow = 0;\n        this.startSelectionCell = 0;\n\n        this.cellRange = {\n            startCell : 0,\n            endCell : 0,\n            startRow : 0,\n            endRow : 0,\n        };\n\n        this.numCols = this.getNumColumns();\n        this.numRows = this.getNumRows();\n    }\n    selectionSet : selectionObject[] = [];\n    numCols : number;\n    numRows: number;\n    startSelectionRow : number;\n    startSelectionCell : number;\n\n    cellRange : any;\n    _checkedRows : number[] = [];\n\n    manageSelection(row:number, cell:number, columnName : string,  clearSelection : boolean){\n\n        if(clearSelection){\n            this.selectionSet = [];\n            this._checkedRows = [];\n        }\n\n        if(this.startSelectionRow > row){\n            this.cellRange.startRow = row;\n            this.cellRange.endRow = this.startSelectionRow\n        }else{\n            this.cellRange.startRow = this.startSelectionRow;\n            this.cellRange.endRow = row;\n        }\n\n        if(this.startSelectionCell > cell){\n            this.cellRange.startCell = cell;\n            this.cellRange.endCell = this.startSelectionCell;\n        }else {\n            this.cellRange.startCell = this.startSelectionCell;\n            this.cellRange.endCell = cell;\n        }\n\n        if(row === this.startSelectionRow && cell === this.startSelectionCell){\n            this.selectionSet.push(\n                {\n                    row: row,\n                    cell: cell,\n                    selected : true,\n                    columnName : appColumns.getColumns()[cell-2].columnName\n                }\n            );\n        }\n\n        for( let i = this.cellRange.startRow; i < this.cellRange.endRow+1; i++){\n            for(let j= this.cellRange.startCell; j < this.cellRange.endCell+1; j++){\n                this.selectionSet.push(\n                    {\n                        row: i,\n                        cell: j,\n                        selected : true,\n                        columnName : appColumns.getColumns()[j-2].columnName\n                    }\n                );\n            }\n        }\n\n        // handle single cell as start and end\n\n        console.log(\"@@@ this.selectionSet: \", this.selectionSet);\n        console.log(\"*** this.state.selectionSet: \", this.state.selectionSet);\n\n        if(this.selectionSet.length === 2){\n            if( this.selectionSet[0].row === this.selectionSet[1].row && this.selectionSet[0].cell === this.selectionSet[1].cell  ){\n                this.selectionSet.splice(1,1);\n            }\n        }\n\n        this.setState({\n            selectionSet : this.selectionSet,\n            checkedRows : this._checkedRows\n        });\n\n\n        if(this.props.selectionCallback !== undefined && this.props.selectionCallback !== null){\n           type iSelectedItems = { row : number, cells : number[], productFields : iDataGridItem[] };\n            let selectedItems : iSelectedItems[] = [  ];\n            let lastRow : number = 0;\n\n            // work through the selection set to organize things\n\n           i: for(let i=0; i < this.selectionSet.length; i++){\n                if(i===0){\n                    //if it's the first one let's create a new entry\n                    lastRow = this.selectionSet[0].row;\n                    let newItem : iSelectedItems = { row : lastRow, cells:[], productFields : []};\n                    selectedItems.push(newItem);\n                }\n\n                //loop over the existing list of rows to create new ones\n                    if(this.selectionSet[i].row === lastRow){\n                        //one more loop over the list to grab all the cells that belong to the row\n                        if(selectedItems[selectedItems.length-1].cells.length === 0){\n                            for(let j=0; j < this.selectionSet.length; j++){\n                                if(this.selectionSet[j].row === lastRow){\n                                    //if the row matches the last row, then push in the selected cell\n                                    selectedItems[selectedItems.length-1].cells.push( this.selectionSet[j].cell );\n                                }\n                            }\n                        }\n                    }else{\n                        lastRow = this.selectionSet[i].row;\n                        let newItem : iSelectedItems = { row : lastRow, cells:[], productFields : []};\n                        selectedItems.push(newItem);\n                    }\n            }\n\n\n           for(let x=0; x < selectedItems.length; x++){\n                for(let y=0; y < this.state.workingDataSet[selectedItems[x].row-2].length; y++){\n                    selectedItems[x].productFields.push(this.state.workingDataSet[selectedItems[x].row-2][y] )\n                }\n\n           }\n\n            this.props.selectionCallback(selectedItems, this._checkedRows, \"standard-launch\");\n\n\n        }\n    }\n\n    clearSelection(){\n        this.setState({selectionSet:[], checkedRows:[]});\n        this._checkedRows = [];\n        this.selectionSet = [];\n    }\n\n    checkSelected(row:number, cell:number):selectedStateType{\n        for(let i=0; i<this.state.selectionSet.length; i++){\n            if( this.state.selectionSet[i].row === row && this.state.selectionSet[i].cell === cell){\n                return \"selected\";\n            }\n        }\n        //if nothing is found, return false because it isn't selected\n        return \"\";\n    }\n\n    getNumColumns(){\n        //TODO swap this out to calculating total normalized columns\n\n        return appColumns.getColumns().length;\n    }\n\n    getNumRows(){\n       if(this.state.workingDataSet.length > 0){\n           return this.state.workingDataSet.length;\n       }else{\n           return this.props.data.length;\n       }\n    }\n\n    getProductUniqueID(index : number){\n\n        for(let j=0; j < this.state.workingDataSet[index].length; j++){\n            if(this.state.workingDataSet[index][j].columnName === \"uniqueID\"){\n                return this.state.workingDataSet[index][j].value;\n            }\n        }\n    }\n\n    mouseDownAction(row : number, cell:number){\n        this.startSelectionCell = cell;\n        this.startSelectionRow = row;\n    }\n\n    mouseUpAction(row:number, cell:number, columnName : string){\n\n        //console.log(\"@@@check\", row, \" \", cell, \" \", columnName);\n        this.manageSelection(row, cell, columnName, true);\n        console.log(\"selection set: \", this.selectionSet);\n    }\n\n    manageCheckbox(row : number){\n\n        //find if this number is in the list\n        let found : boolean = false;\n\n        console.log(\"@@ checked rows: \",row);\n\n        for(let i=0; i < this._checkedRows.length; i++){\n\n\n            if(this._checkedRows[i] === row){\n                //if it is in the list remove it which unchecks\n                this._checkedRows.splice(i, 1);\n                this.setState({checkedRows : this._checkedRows});\n                found = true;\n\n            }\n        }\n        if(found === false){\n            this._checkedRows.push(row);\n            this.setState({checkedRows : this._checkedRows});\n\n        }\n\n\n        //handle selecting the checked\n        //First reset the cell selection\n        this.selectionSet = [];\n\n        for(let i=0; i < this._checkedRows.length; i++){\n            for(let j=0; j < this.state.workingDataSet[this._checkedRows[i]].length; j++ ){\n                let selectedCell : selectionObject = {\n                    row : this._checkedRows[i]+2,\n                    cell : j,\n                    selected : true,\n                    columnName : appColumns.getColumns()[j].columnName\n                };\n                this.selectionSet.push(selectedCell);\n            }\n        }\n\n\n        this.setState({selectionSet : this.selectionSet});\n        if(this.props.selectionCallback !== undefined){\n            this.props.selectionCallback(this.state.selectionSet, this.state.checkedRows, \"checkbox-launched\");\n        }\n        //once people use the tool, we can hide the tool tip\n        toolTipContent.showSelectRow = false;\n    }\n\n    iconCheck = (row : number):string=>{\n        for(let i=0; i < this.state.checkedRows.length; i++){\n            if(row === this.state.checkedRows[i]){\n                return \"checkbox-checked\"\n            }\n        }\n        return \"checkbox-unchecked\"\n    };\n\n    updateSelectionState = ()=>{\n        this.setState({selectionSet : this.selectionSet});\n\n    };\n\n    getGridItems(){\n        let cells : ReactElement[] = [];\n        for(let i=0; i < this.state.workingDataSet.length; i++){\n            for(let j=0; j < this.state.workingDataSet[i].length; j++){\n                if(j === 0){\n                    cells.push(\n                        <div className=\"cell checkbox-main\" style={{gridColumn : j+1, gridRow : i+2, zIndex : 100 + (this.numRows - i) }}>\n                            <AppButton\n                                OnClick={()=>this.manageCheckbox(i)}\n                                buttonType=\"transparent-bg\"\n                                tooltipType=\"custom\"\n                                tooltip={toolTipContent.selectRow()}\n                                classes={`${this.iconCheck(i)}`}\n                                iconCenter={(\n                                    <CatmanIcon\n                                        iconName={`${this.iconCheck(i)}`}\n                                        width=\"0.5rem\"\n                                        height=\"100%\"\n                                    />\n                                )}\n                            />\n                            <CatmanIcon\n                                classes={\"shading-l-r\"}\n                                iconName=\"fader-left-to-right\"\n                                width=\"0.5rem\"\n                                height=\"100%\"\n                            />\n                        </div>\n                    )\n                }\n\n                let cell = (\n                    <div className=\"cell\" style={{gridColumn : j+2, gridRow : i+2 }}>\n                        <Tile\n                            tileType={this.props.columns[j].control}\n                            tileLabel={this.state.workingDataSet[i][j].value}\n                            mouseDownActions={\n                                [() => this.mouseDownAction(i+2,j+2)]\n                            }\n                            mouseUpActions={\n                                [\n                                    () => this.props.manageParentViews(),\n                                    () => this.mouseUpAction(i+2,j+2, appColumns.getColumns()[j].columnName)\n                                ]\n                            }\n                            selectedClass={this.checkSelected(i+2, j+2)}\n                        />\n\n                    </div>\n                );\n\n\n                if(this.props.columns[j].control != \"hidden\"){\n                    cells.push(cell);\n                }\n\n                if(j === this.state.workingDataSet[i].length-1){\n                    cells.push(\n                        <div className=\"cell details\" style={{gridColumn : j+3, gridRow : i+2, zIndex : 100 + (this.numRows - i) }}>\n                            <AppButton\n                                buttonType=\"nav-link\"\n                                navPath={`/catalog/spreadsheet?product=${this.getProductUniqueID(i)}`}\n                                tooltipType=\"custom\"\n                                tooltip={toolTipContent.singleProduct()}\n                                iconCenter={(\n                                    <CatmanIcon\n                                        iconName=\"go-arrow\"\n                                        width=\"1rem\"\n                                        height=\"100%\"\n                                    />\n                                )}\n                            />\n                            <CatmanIcon\n                                classes={\"shading\"}\n                                iconName=\"fader-right-to-left\"\n                                width=\"0.5rem\"\n                                height=\"100%\"\n                            />\n\n                        </div>\n                    )\n                }\n            }\n        }\n\n        return cells;\n    }\n\n    getColumnHeaders(){\n        let columnsHeads : ReactElement[] = [];\n        for(let i=0; i < this.props.columns.length; i++ ){\n            if(i === 0){\n                columnsHeads.push(\n                    <div className=\"cell checkbox-main grid-header\" style={{gridColumn : i+1, gridRow : 1, zIndex : 100 + (this.numRows - i) }}>\n                        <AppButton\n                            OnClick={()=>this.manageCheckbox(i)}\n                            buttonType=\"transparent-bg\"\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.selectRow()}\n                            classes={` `}\n                            iconCenter={(\n                                <CatmanIcon\n                                    iconName={`${this.iconCheck(i)}`}\n                                    width=\"0.5rem\"\n                                    height=\"100%\"\n                                />\n                            )}\n                        />\n                    </div>\n                )\n            }\n            let columnHead = (\n                <div className=\"cell grid-header\" style={{gridColumn : i+2, gridRow : 1, zIndex: this.numRows+10 }}>\n                    <Tile\n                        tileType=\"text-input\"\n                        tileLabel={this.props.columns[i].columnLabel}\n                        mouseDownActions={\n                            [ ]\n                        }\n                        mouseUpActions={\n                            [\n                                () => this.props.manageParentViews()\n                            ]\n                        }\n                        selectedClass={\"\"}\n                    />\n                </div>\n            );\n\n            if(this.props.columns[i].control != \"hidden\"){\n                columnsHeads.push(columnHead);\n            }\n\n\n            //final column head action\n            if(i === this.props.columns.length-1){\n                columnsHeads.push(\n                    <div className=\"cell details grid-header\"\n                         style={{gridColumn : this.props.columns.length+2, gridRow : 1, zIndex : 100 + (this.numRows - i) }}\n                        >\n                        <AppButton\n                            buttonType=\"nav-link\"\n                            navPath={`/catalog/spreadsheet`}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.singleProduct()}\n                            iconCenter={(\n                                <CatmanIcon\n                                    iconName=\"go-arrow\"\n                                    width=\"1rem\"\n                                    height=\"100%\"\n                                />\n                            )}\n                        />\n                    </div>\n                )\n            }\n\n\n\n        }\n\n\n\n        return( columnsHeads );\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        let columnHeaders : ReactElement[] = this.getColumnHeaders();\n\n\n        //having some trouble with layout of grid and checkboxes\n        // style={{gridTemplateColumns : `1.5rem repeat(${this.getNumColumns().toString()}, max-content) 1rem`}}\n        let constructedGrid : ReactElement = (\n            <>\n                <div className={`data-grid ${this.props.classes}`}>\n                    <div className=\"viewport\">\n                        {columnHeaders}\n                        {this.getGridItems()}\n                    </div>\n                </div>\n            </>\n        );\n\n        return constructedGrid;\n    }\n}"]},"metadata":{},"sourceType":"module"}