{"ast":null,"code":"import _classCallCheck from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from\"react\";import{CatmanIcon}from\"../../../svg/icons/icons\";import{DataGrid}from\"../../../view-components/data-grid/data-grid\";import{catmanData}from\"../../../_sample-data/products-data\";import{TitleArea}from\"../../../view-components/title-area/title-area\";import StickyThing from\"../../../view-components/sticky-panel/sticky-panel\";import{toolTipContent}from\"../../tool-tip-content/content-tool-tips\";import AppButton from\"../../../view-components/button/app-button\";import{CatalogSingleProduct}from\"./single-product-view\";import{TextInput}from\"../../../view-components/text-input/text-input\";import{ModalView}from\"../../../view-components/modal/modal\";import{AddVariantsWizard}from\"../../wizards/create-product-group/add-variants-wizard\";import{dataManagerMain}from\"../../../index\";import{CreateProductGroupWizard}from\"../../wizards/create-product-group/create-product-group-wizard\";export var CatalogDetailsView=/*#__PURE__*/function(_React$Component){_inherits(CatalogDetailsView,_React$Component);var _super=_createSuper(CatalogDetailsView);function CatalogDetailsView(props){var _this;_classCallCheck(this,CatalogDetailsView);_this=_super.call(this,props);_this.workingDataSet=void 0;_this.initialized=false;_this.dataGridRef=React.createRef();_this.editDrawerRef=React.createRef();_this.editDrawer=/*#__PURE__*/React.createElement(React.Fragment,null);_this.selectionSet=[];_this.columns=void 0;_this.drawerFirstOpen=false;_this.closeSingleProductEdit=function(){window.history.back();};_this.updateValues=function(row,cell,value,colName){if(_this.dataGridRef.current!=null&&_this.dataGridRef.current!=undefined){_this.selectionSet=_this.dataGridRef.current.selectionSet;console.log(\"cat details view selection set: \",_this.selectionSet);}console.log(\"inside drawer\",value,\" col name:\",colName);//the minus 2 is the offset for the extra columns checkbox and edit\nfor(var i=0;i<_this.selectionSet.length;i++){if(_this.selectionSet[i].columnName===colName){var myRow=_this.selectionSet[i].row-2;var myCell=_this.selectionSet[i].cell-2;//this.workingDataSet[ myRow-2][myCell-2].value = value;\nvar updateSet={row:myRow,cell:myCell,newData:value};_this.props.gridData.setProductData=updateSet;}}_this.setState({workingData:_this.props.gridData.getData});console.log(\"working data set:\",_this.state.workingData);};_this.inputFocusAction=function(row,cell){console.log(\"row: \",row,\" cell:\",cell);if(_this.state.editDrawerOpen===true){_this.setState({focusedInput:{row:row,cell:cell,editDrawerOpen:_this.state.editDrawerOpen}});}};_this.manageSelectionSet=function(selectionSet,checkBoxSelections,message){if(checkBoxSelections.length>0||_this.initialized===false&&checkBoxSelections.length===0&&message===\"checkbox-launched\"){if(checkBoxSelections.length<=1){_this.setState({editDrawerOpen:false,footerOpen:true,footerMode:\"default\"});}else if(checkBoxSelections.length>1){_this.setState({editDrawerOpen:false,footerOpen:true,footerMode:\"multiple-selected\"});}_this.initialized=true;}else{_this.setState({footerOpen:false});}};_this.columns=_this.props.columnsData.getColumns;_this.state={workingData:_this.props.gridData.getData,columnsData:_this.props.columnsData.getColumns,productViewOpen:false,editDrawerOpen:false,editDrawerMaximized:false,footerOpen:false,footerMode:\"default\",selectionSet:[],modalState:\"closed\",focusedInput:{row:0,cell:0,editDrawerOpen:false}};_this.workingDataSet=_this.props.gridData.getData;return _this;}_createClass(CatalogDetailsView,[{key:\"getCheckBoxesSelection\",value:function getCheckBoxesSelection(){if(this.dataGridRef.current!==null&&this.dataGridRef.current!==undefined){return this.dataGridRef.current._checkedRows;}}},{key:\"getProductViewDrawer\",value:function getProductViewDrawer(){if(this.props.query!=\"none\"&&this.props.query!=null&&this.props.query!=undefined){return/*#__PURE__*/React.createElement(StickyThing,{enterFromThisSide:\"right\",lastResortClasses:\"product-view\",animateIn:true,heightIncludeUnits:\"100vh\",widthIncludeUnits:\"100vw\",stickyOpen:true,bgColor:\"#CECECE\",doAnimation:true},/*#__PURE__*/React.createElement(CatalogSingleProduct,{uniqueID:this.props.query,productData:this.state.workingData,closeSingleProduct:this.closeSingleProductEdit}));}}},{key:\"getColumnLabel\",value:function getColumnLabel(colName){var columnLabel=\"\";for(var i=0;i<this.columns.length;i++){if(this.columns[i].columnName===colName){columnLabel=this.columns[i].columnLabel;}}return columnLabel;}},{key:\"getEditDrawer\",value:function getEditDrawer(){var _this2=this;if(this.state.editDrawerOpen===false){return/*#__PURE__*/React.createElement(React.Fragment,null);}if(this.dataGridRef.current!=null&&this.dataGridRef.current!=undefined){this.selectionSet=this.dataGridRef.current.selectionSet;console.log(\"cat details view selection set: \",this.selectionSet);}var inputs=[];var selectedItems=[];//Create list of selection items that need inputs (i.e. one input per column)\ni:for(var i=0;i<this.selectionSet.length;i++){j:for(var j=0;j<selectedItems.length;j++){if(this.selectionSet[i].columnName===selectedItems[j].columnName){continue i;}}var row=this.selectionSet[i].row;var cell=this.selectionSet[i].cell;var productDataItem=catmanData.productData[row-2][cell-2];selectedItems.push(productDataItem);}for(var _i=0;_i<selectedItems.length;_i++){var input=/*#__PURE__*/React.createElement(TextInput,{row:this.selectionSet[_i].row,cell:this.selectionSet[_i].cell,columnName:this.selectionSet[_i].columnName,label:this.getColumnLabel(selectedItems[_i].columnName),currentValue:selectedItems[_i].value,onChangeAction:this.updateValues,onFocusAction:this.inputFocusAction});inputs.push(input);}var maximize=function maximize(valueCheck){if(valueCheck===true){return\"maximized\";}else{return\"catman-edit-default restored\";}};var restoreAndMaximizeTooltip=function restoreAndMaximizeTooltip(valueCheck){if(valueCheck===false){return toolTipContent.maximizeDrawer();}else{return toolTipContent.restoreDrawer();}};var restoreAndMaximizeBtnIcon=function restoreAndMaximizeBtnIcon(valueCheck){if(valueCheck===false){return\"icon-maximize\";}else{return\"icon-restore-btn\";}};var drawer=/*#__PURE__*/React.createElement(React.Fragment,null);if(this.state.editDrawerOpen===true){drawer=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StickyThing,{ref:this.editDrawerRef,enterFromThisSide:\"bottom\",lastResortClasses:\"catman-edit-drawer \".concat(maximize(this.state.editDrawerMaximized)),animateIn:true,heightIncludeUnits:\"\",widthIncludeUnits:\"\",stickyOpen:true,bgColor:\"#CECECE\",doAnimation:true,toolBar:\"none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tool-bar\"},/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"drawer-controls\"},/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"\",OnClick:function OnClick(){return _this2.maximizeEditDrawer();},tooltipType:\"custom\",tooltip:restoreAndMaximizeTooltip(this.state.editDrawerMaximized),toolTipTimeOutInMS:10000,classes:\"tool-bar-btn icon-only-btn\",iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"\".concat(restoreAndMaximizeBtnIcon(this.state.editDrawerMaximized)),classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"\",OnClick:function OnClick(){return _this2.closeEditDrawer();},tooltipType:\"custom\",tooltip:toolTipContent.closeDrawer(),toolTipTimeOutInMS:10000,classes:\"icon-only-btn\",iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-close\",classes:\" \",height:\"100%\",width:\"100%\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:\"drawer-edit-area\"},inputs)));}return drawer;}},{key:\"maximizeEditDrawer\",value:function maximizeEditDrawer(){this.setState({editDrawerMaximized:!this.state.editDrawerMaximized});}},{key:\"closeEditDrawer\",value:function closeEditDrawer(){this.setState({editDrawerOpen:false,editDrawerMaximized:false,focusedInput:{row:0,cell:0,editDrawerOpen:false}});if(this.dataGridRef.current!=null&&this.dataGridRef.current!=undefined){this.dataGridRef.current.clearSelection();}this.drawerFirstOpen=false;}},{key:\"openEditDrawer\",value:function openEditDrawer(){this.drawerFirstOpen=true;this.setState({editDrawerOpen:true});}//FOOTER RELATED\n},{key:\"getFooterMenu\",value:function getFooterMenu(){var _this3=this;var footer=/*#__PURE__*/React.createElement(React.Fragment,null);var buttons=/*#__PURE__*/React.createElement(React.Fragment,null);switch(this.state.footerMode){case\"default\":buttons=/*#__PURE__*/React.createElement(\"div\",{className:\"footer-btn-bar catman-footer\"},/*#__PURE__*/React.createElement(AppButton,{classes:\"separate-left\",buttonType:\"secondary-action\",buttonLabel:\"Edit Selected\",OnClick:function OnClick(){return _this3.switchToEditMode();},tooltipType:\"custom\",tooltip:toolTipContent.footerEditSelection(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-edit\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{classes:\" \",buttonType:\"secondary-action\",buttonLabel:\"Add Variant\",OnClick:function OnClick(){return _this3.manageModals(\"add-to-product-group\");},tooltipType:\"custom\",tooltip:toolTipContent.footerAddVariant(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-add\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Clear Selection\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.clearSelection(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"clear\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Delete Selected\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerDelete(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-delete\",classes:\" \",height:\"100%\",width:\"100%\"})}));break;case\"multiple-selected\":buttons=/*#__PURE__*/React.createElement(\"div\",{className:\"footer-btn-bar catman-footer\"},/*#__PURE__*/React.createElement(AppButton,{classes:\"\",buttonType:\"secondary-action\",buttonLabel:\"Edit Selected\",OnClick:function OnClick(){return _this3.switchToEditMode();},tooltipType:\"custom\",tooltip:toolTipContent.footerEditSelection(),toolTipTimeOutInMS:10000,tooltipXOffset:0,tooltipYOffset:20,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-edit\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{classes:\" \",buttonType:\"secondary-action\",buttonLabel:\"Make Into a Variant Group\",OnClick:function OnClick(){return _this3.manageModals(\"create-product-group\");},tooltipType:\"custom\",tooltip:toolTipContent.footerCreateVariant(),toolTipTimeOutInMS:10000,tooltipXOffset:0,tooltipYOffset:20,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-add\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Clear Selection\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.clearSelection(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"clear\",classes:\" \",height:\"100%\",width:\"100%\"})}),/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"Delete Selected\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.footerDelete(),toolTipTimeOutInMS:10000,iconLeft:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"icon-delete\",classes:\" \",height:\"100%\",width:\"100%\"})}));break;case\"has-group\":buttons=/*#__PURE__*/React.createElement(AppButton,{buttonType:\"secondary-action\",buttonLabel:\"catalog manager\",OnClick:function OnClick(){return _this3.footerActions(\"cancel\");},tooltipType:\"custom\",tooltip:toolTipContent.mainNav(),toolTipTimeOutInMS:10000,iconRight:/*#__PURE__*/React.createElement(CatmanIcon,{iconName:\"down-arrow\",classes:\"ui-icon\",height:\"100%\",width:\"100%\"})});}if(this.state.footerOpen===true){var buttonBar=/*#__PURE__*/React.createElement(React.Fragment,null);footer=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StickyThing,{enterFromThisSide:\"bottom\",lastResortClasses:\"catman-footer-container\",animateIn:true,heightIncludeUnits:\"3.75rem\",widthIncludeUnits:\"100%\",stickyOpen:true,bgColor:\"rgba(0,0,0,0)\",doAnimation:true},buttons));}return footer;}},{key:\"footerActions\",value:function footerActions(action){switch(action){case\"cancel\":this.setState({footerOpen:false});this.initialized=false;if(this.dataGridRef.current!==null&&this.dataGridRef.current!==undefined){this.dataGridRef.current.clearSelection();}break;case\"add-group\":break;case\"edit\":this.setState({footerOpen:false});this.initialized=false;break;}}},{key:\"addAction\",value:function addAction(addType){console.log(\"added item or items: \",addType);switch(addType){case\"add-attribute\":return/*#__PURE__*/React.createElement(React.Fragment,null);case\"add-products\":return/*#__PURE__*/React.createElement(React.Fragment,null);}}//FOOTER ACTIONS\n},{key:\"switchToEditMode\",value:function switchToEditMode(){if(this.dataGridRef.current!==null&&this.dataGridRef.current!==undefined){this.dataGridRef.current.switchToEditModeFromCheckBoxMode();this.openEditDrawer();this.initialized=false;this.setState({footerOpen:false});}//manageSelectionSet = (selectionSet : iDataGridItem[], checkBoxSelections : number[], message : string )\n//this.footerActions(\"cancel\");\n}//GRID MANAGEMENT\n},{key:\"conditionClasses\",value:function conditionClasses(){if(this.state.editDrawerOpen===true){return\"drawer-open\";}}//MODALS modalStateType = \"closed\" | \"add-to-product-group\" | \"create-product-group\" | \"delete-confirmation\";\n},{key:\"manageModals\",value:function manageModals(modalState){console.log(\"close the dang modal!!!!\",modalState);this.setState({modalState:modalState});}},{key:\"getModals\",value:function getModals(){var _this4=this;switch(this.state.modalState){case\"add-to-product-group\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ModalView,{closeModalFunc:function closeModalFunc(){return _this4.manageModals(\"closed\");},modalTitle:\"\"},/*#__PURE__*/React.createElement(AddVariantsWizard,{addAction:dataManagerMain.addToProductGroup,groups:dataManagerMain.getGroups(),selectedCheckBoxes:this.getCheckBoxesSelection(),manageModal:function manageModal(){return _this4.manageModals(\"closed\");}})));case\"create-product-group\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ModalView,{closeModalFunc:function closeModalFunc(){return _this4.manageModals(\"closed\");},modalTitle:\"\"},/*#__PURE__*/React.createElement(CreateProductGroupWizard,{addAction:dataManagerMain.addToProductGroup,groups:dataManagerMain.getGroups(),selectedCheckBoxes:this.getCheckBoxesSelection(),manageModal:function manageModal(){return _this4.manageModals(\"closed\");}})));}}//RENDERING AND PORTALS\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var inputs=document.getElementsByClassName(\"InputBox\");console.log(this.drawerFirstOpen);if(this.drawerFirstOpen===true){if(inputs[0]!=undefined){inputs[0].focus();inputs[0].select();this.drawerFirstOpen=false;}}}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TitleArea,{mainTitle:\"Spreadsheet View\",subTitle:\"My Catalog\",titleType:\"subtitle-above\"}),/*#__PURE__*/React.createElement(DataGrid,{ref:this.dataGridRef,data:this.state.workingData,manageParentViews:function manageParentViews(){return _this5.openEditDrawer();},selectionCallback:this.manageSelectionSet,columnsData:this.state.columnsData,classes:this.conditionClasses(),addAction:this.addAction,focusedItem:this.state.focusedInput}),this.getEditDrawer(),this.getFooterMenu(),this.getProductViewDrawer(),this.getModals());}}]);return CatalogDetailsView;}(React.Component);","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/views/catalog-views/catalog-details/catalog-details-view.tsx"],"names":["React","CatmanIcon","DataGrid","catmanData","TitleArea","StickyThing","toolTipContent","AppButton","CatalogSingleProduct","TextInput","ModalView","AddVariantsWizard","dataManagerMain","CreateProductGroupWizard","CatalogDetailsView","props","workingDataSet","initialized","dataGridRef","createRef","editDrawerRef","editDrawer","selectionSet","columns","drawerFirstOpen","closeSingleProductEdit","window","history","back","updateValues","row","cell","value","colName","current","undefined","console","log","i","length","columnName","myRow","myCell","updateSet","newData","gridData","setProductData","setState","workingData","getData","state","inputFocusAction","editDrawerOpen","focusedInput","manageSelectionSet","checkBoxSelections","message","footerOpen","footerMode","columnsData","getColumns","productViewOpen","editDrawerMaximized","modalState","_checkedRows","query","columnLabel","inputs","selectedItems","j","productDataItem","productData","push","input","getColumnLabel","maximize","valueCheck","restoreAndMaximizeTooltip","maximizeDrawer","restoreDrawer","restoreAndMaximizeBtnIcon","drawer","maximizeEditDrawer","closeEditDrawer","closeDrawer","clearSelection","footer","buttons","switchToEditMode","footerEditSelection","manageModals","footerAddVariant","footerActions","footerDelete","footerCreateVariant","mainNav","buttonBar","action","addType","switchToEditModeFromCheckBoxMode","openEditDrawer","addToProductGroup","getGroups","getCheckBoxesSelection","document","getElementsByClassName","focus","select","conditionClasses","addAction","getEditDrawer","getFooterMenu","getProductViewDrawer","getModals","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {Navigation} from \"../../../view-components/list-menu/intra-app-navigation\";\nimport {MainHeaderArea} from \"../../_common/main-header-area/main-header-area\";\n\n//Configuration data:\nimport {mainNavConfig} from \"../../_catman-configuration/common-app-configuration\";\nimport {CatmanIcon} from \"../../../svg/icons/icons\";\nimport {ToolTipContent} from \"../../../view-components/heru-tool-tip/tool-tip-content\";\nimport {DataGrid, selectionObject} from \"../../../view-components/data-grid/data-grid\";\nimport {catmanData} from \"../../../_sample-data/products-data\";\nimport {TitleArea} from \"../../../view-components/title-area/title-area\";\nimport {Route, RouteComponentProps, Switch, useRouteMatch} from \"react-router-dom\";\nimport StickyThing from \"../../../view-components/sticky-panel/sticky-panel\";\nimport {ReactElement} from \"react\";\nimport {iDataGridItem} from \"../../../view-components/data-grid/data-types-for-data-grid\";\nimport {toolTipContent} from \"../../tool-tip-content/content-tool-tips\";\nimport AppButton from \"../../../view-components/button/app-button\";\nimport {appColumns, iColumn} from \"../../../_sample-data/columns\";\nimport {CatalogSingleProduct} from \"./single-product-view\";\nimport {TextInput} from \"../../../view-components/text-input/text-input\";\n\nimport {DataManager, iUpdateSet} from \"../../../data-components/data-manager/data-manager\";\nimport {ModalView} from \"../../../view-components/modal/modal\";\nimport {AddVariantsWizard} from \"../../wizards/create-product-group/add-variants-wizard\";\nimport {dataManagerMain} from \"../../../index\";\n\nimport {CreateProductGroupWizard} from \"../../wizards/create-product-group/create-product-group-wizard\";\n\n\ninterface iPROPS   {\n    message: string;\n    query:string | null;\n    gridData : DataManager;\n    columnsData : DataManager;\n}\n\nexport type modalStateType = \"closed\" | \"add-to-product-group\" | \"create-product-group\" | \"delete-confirmation\";\n//TODO need to make these types into a definitions file\nexport type focusInputType = { row : number, cell : number, editDrawerOpen : boolean};\n\ninterface iSTATE{\n    productViewOpen : boolean;\n    editDrawerOpen : boolean;\n    editDrawerMaximized : boolean;\n    modalState : modalStateType;\n    footerOpen : boolean;\n    footerMode : \"default\" | \"has-group\" | \"no-group\" | \"multiple-selected\" ;\n    selectionSet : selectionObject[];\n    workingData : iDataGridItem[][];\n    columnsData : iColumn[];\n    focusedInput : focusInputType;\n}\n\n\n\nexport class CatalogDetailsView extends React.Component<iPROPS, iSTATE>{\n     constructor(props:iPROPS) {\n         super(props);\n         this.columns = this.props.columnsData.getColumns;\n         this.state = {\n             workingData : this.props.gridData.getData,\n             columnsData : this.props.columnsData.getColumns,\n             productViewOpen : false,\n             editDrawerOpen : false,\n             editDrawerMaximized : false,\n             footerOpen : false,\n             footerMode : \"default\",\n             selectionSet : [],\n             modalState : \"closed\",\n             focusedInput : { row:0, cell:0, editDrawerOpen : false}\n         };\n\n         this.workingDataSet = this.props.gridData.getData;\n     }\n     workingDataSet : iDataGridItem[][];\n     //just for the fist launch of checkbox editing\n     initialized:boolean = false;\n     dataGridRef = React.createRef<DataGrid>();\n     editDrawerRef = React.createRef<StickyThing>();\n     editDrawer : ReactElement = (<></>);\n     selectionSet : selectionObject[] = [];\n     columns : iColumn[];\n     //manage selection in the drawer\n     drawerFirstOpen = false;\n\n\n\n    getCheckBoxesSelection(){\n        if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n            return this.dataGridRef.current._checkedRows;\n        }\n    }\n\n     closeSingleProductEdit = ()=>{\n        window.history.back();\n    };\n\n     getProductViewDrawer( ){\n         if(this.props.query != \"none\" && this.props.query != null && this.props.query != undefined ){\n\n             return(\n                 <StickyThing\n                     enterFromThisSide=\"right\"\n                     lastResortClasses={\"product-view\"}\n                     animateIn={true}\n                     heightIncludeUnits=\"100vh\"\n                     widthIncludeUnits={\"100vw\"}\n                     stickyOpen={true}\n                     bgColor={\"#CECECE\"}\n                     doAnimation={true}\n                 >\n                    <CatalogSingleProduct\n                        uniqueID={this.props.query}\n                        productData={this.state.workingData}\n                        closeSingleProduct={this.closeSingleProductEdit}\n                    />\n\n                 </StickyThing>\n             )\n         }\n     }\n\n     getColumnLabel(colName : string) : string{\n\n         let columnLabel = \"\";\n         for(let i = 0; i < this.columns.length; i++){\n             if(this.columns[i].columnName === colName){\n                 columnLabel = this.columns[i].columnLabel;\n             }\n         }\n\n         return columnLabel;\n     }\n\n     updateValues=(row : number, cell:number, value:string, colName : string)=>{\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined ){\n             this.selectionSet = this.dataGridRef.current.selectionSet;\n             console.log(\"cat details view selection set: \", this.selectionSet)\n         }\n         console.log(\"inside drawer\", value, \" col name:\", colName);\n         //the minus 2 is the offset for the extra columns checkbox and edit\n         for(let i =0; i < this.selectionSet.length; i++){\n             if(this.selectionSet[i].columnName === colName){\n                 let myRow = this.selectionSet[i].row-2;\n                 let myCell = this.selectionSet[i].cell-2;\n\n                 //this.workingDataSet[ myRow-2][myCell-2].value = value;\n                 const updateSet : iUpdateSet = { row:myRow ,cell:myCell, newData:value }\n                 this.props.gridData.setProductData = updateSet\n             }\n\n         }\n\n         this.setState({workingData : this.props.gridData.getData});\n         console.log( \"working data set:\", this.state.workingData );\n     };\n\n     inputFocusAction=(row : number, cell:number)=>{\n         console.log(\"row: \", row, \" cell:\", cell);\n         if(this.state.editDrawerOpen === true){\n             this.setState({focusedInput : { row : row, cell : cell, editDrawerOpen: this.state.editDrawerOpen}})\n         }\n     };\n\n     getEditDrawer():ReactElement{\n\n         if(this.state.editDrawerOpen === false){\n             return(<></>);\n         }\n\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined ){\n             this.selectionSet = this.dataGridRef.current.selectionSet;\n             console.log(\"cat details view selection set: \", this.selectionSet)\n         }\n\n         let inputs : ReactElement[] = [];\n         let selectedItems : iDataGridItem[] = [];\n\n         //Create list of selection items that need inputs (i.e. one input per column)\n        i: for(let i=0; i < this.selectionSet.length; i++){\n           j: for(let j=0; j < selectedItems.length; j++){\n                if(this.selectionSet[i].columnName === selectedItems[j].columnName){\n                    continue i;\n                }\n            }\n                 let row = this.selectionSet[i].row;\n                 let cell = this.selectionSet[i].cell;\n                 let productDataItem = catmanData.productData[row-2][cell-2];\n                 selectedItems.push(productDataItem);\n        }\n\n         for( let i=0; i < selectedItems.length; i++){\n             let input = (\n                 <TextInput\n                     row={this.selectionSet[i].row}\n                     cell={this.selectionSet[i].cell}\n                     columnName={this.selectionSet[i].columnName}\n                     label={this.getColumnLabel( selectedItems[i].columnName )}\n                     currentValue={ selectedItems[i].value}\n                     onChangeAction={this.updateValues}\n                     onFocusAction={this.inputFocusAction}\n                 />\n             );\n             inputs.push(input)\n         }\n\n        let maximize = (valueCheck : boolean)=>{\n             if(valueCheck === true){\n                 return \"maximized\"\n             }else{\n                 return \"catman-edit-default restored\"\n             }\n        };\n\n         let restoreAndMaximizeTooltip = (valueCheck : boolean)=>{\n            if(valueCheck === false){\n                return toolTipContent.maximizeDrawer();\n            }else{\n                return toolTipContent.restoreDrawer();\n            }\n         };\n\n         let restoreAndMaximizeBtnIcon = (valueCheck : boolean)=>{\n             if(valueCheck === false){\n                 return \"icon-maximize\"\n             }else{\n                 return \"icon-restore-btn\"\n             }\n         }\n\n\n         let drawer = (<></>);\n             if(this.state.editDrawerOpen === true){\n                 drawer = (\n                     <>\n                         <StickyThing\n                             ref = {this.editDrawerRef}\n                             enterFromThisSide=\"bottom\"\n                             lastResortClasses={`catman-edit-drawer ${maximize(this.state.editDrawerMaximized)}`}\n                             animateIn={true}\n                             heightIncludeUnits=\"\"\n                             widthIncludeUnits={\"\"}\n                             stickyOpen={true}\n                             bgColor={\"#CECECE\"}\n                             doAnimation={true}\n                             toolBar=\"none\"\n                         >\n                             <div className={\"tool-bar\"}>\n                                 <div></div>\n                                 <div className=\"drawer-controls\">\n                                      <AppButton\n                                         buttonType={\"secondary-action\"}\n                                         buttonLabel=\"\"\n                                         OnClick={()=>this.maximizeEditDrawer()}\n                                         tooltipType=\"custom\"\n                                         tooltip={restoreAndMaximizeTooltip(this.state.editDrawerMaximized)}\n                                         toolTipTimeOutInMS={10000}\n                                         classes=\"tool-bar-btn icon-only-btn\"\n                                         iconLeft={\n                                             <CatmanIcon\n                                                 iconName={`${restoreAndMaximizeBtnIcon(this.state.editDrawerMaximized)}`}\n                                                 classes=\" \"\n                                                 height=\"100%\"\n                                                 width=\"100%\"\n                                             />\n                                         }\n                                     />\n                                     <AppButton\n                                         buttonType={\"secondary-action\"}\n                                         buttonLabel=\"\"\n                                         OnClick={()=>this.closeEditDrawer()}\n                                         tooltipType=\"custom\"\n                                         tooltip={toolTipContent.closeDrawer()}\n                                         toolTipTimeOutInMS={10000}\n                                         classes=\"icon-only-btn\"\n                                         iconLeft={\n                                             <CatmanIcon\n                                                 iconName=\"icon-close\"\n                                                 classes=\" \"\n                                                 height=\"100%\"\n                                                 width=\"100%\"\n                                             />\n                                         }\n                                     />\n\n                                 </div>\n                             </div>\n\n                             <div className=\"drawer-edit-area\">\n                                 {inputs}\n                             </div>\n                         </StickyThing>\n                     </>\n                 );\n             }\n         return drawer;\n     }\n\n     maximizeEditDrawer(){\n         this.setState({editDrawerMaximized : !this.state.editDrawerMaximized})\n     }\n\n     closeEditDrawer(){\n         this.setState({\n             editDrawerOpen : false,\n             editDrawerMaximized : false,\n             focusedInput : {row:0, cell:0, editDrawerOpen:false}\n         });\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined){\n             this.dataGridRef.current.clearSelection();\n         }\n         this.drawerFirstOpen = false;\n     }\n\n     openEditDrawer( ){\n         this.drawerFirstOpen = true;\n         this.setState({editDrawerOpen : true});\n     }\n\n     //FOOTER RELATED\n     getFooterMenu(){\n        let footer = (<></>);\n        let buttons = (<></>);\n\n        switch(this.state.footerMode){\n            case \"default\":\n                buttons = (\n                    <div className=\"footer-btn-bar catman-footer\">\n                        <AppButton\n                            classes={\"separate-left\"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Edit Selected\"\n                            OnClick={()=>this.switchToEditMode()}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerEditSelection()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-edit\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            classes={\" \"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Add Variant\"\n                            OnClick={()=>this.manageModals(\"add-to-product-group\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerAddVariant()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-add\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Clear Selection\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.clearSelection()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"clear\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Delete Selected\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerDelete()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-delete\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n\n\n                    </div>\n                );\n                break;\n\n            case \"multiple-selected\":\n                buttons = (\n                    <div className=\"footer-btn-bar catman-footer\">\n                        <AppButton\n                            classes={\"\"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Edit Selected\"\n                            OnClick={()=>this.switchToEditMode()}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerEditSelection()}\n                            toolTipTimeOutInMS={10000}\n                            tooltipXOffset={0}\n                            tooltipYOffset={20}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-edit\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            classes={\" \"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Make Into a Variant Group\"\n                            OnClick={()=>this.manageModals(\"create-product-group\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerCreateVariant()}\n                            toolTipTimeOutInMS={10000}\n                            tooltipXOffset={0}\n                            tooltipYOffset={20}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-add\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Clear Selection\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.clearSelection()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"clear\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Delete Selected\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerDelete()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-delete\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                    </div>\n                );\n                break;\n\n            case \"has-group\":\n                buttons = (<AppButton\n                    buttonType={\"secondary-action\"}\n                    buttonLabel=\"catalog manager\"\n                    OnClick={()=>this.footerActions(\"cancel\")}\n                    tooltipType=\"custom\"\n                    tooltip={toolTipContent.mainNav()}\n                    toolTipTimeOutInMS={10000}\n                    iconRight={\n                        <CatmanIcon\n                            iconName=\"down-arrow\"\n                            classes=\"ui-icon\"\n                            height=\"100%\"\n                            width=\"100%\"\n                        />\n                    }\n                />)\n        }\n\n        if(this.state.footerOpen === true){\n\n            let buttonBar : ReactElement = (<>\n            </>);\n\n            footer = (\n                <>\n                    <StickyThing\n                        enterFromThisSide=\"bottom\"\n                        lastResortClasses={\"catman-footer-container\"}\n                        animateIn={true}\n                        heightIncludeUnits=\"3.75rem\"\n                        widthIncludeUnits={\"100%\"}\n                        stickyOpen={true}\n                        bgColor={\"rgba(0,0,0,0)\"}\n                        doAnimation={true}\n                    >\n                        {buttons}\n                    </StickyThing>\n                </>\n            );\n        }\n        return footer;\n    }\n\n     footerActions(action : \"cancel\" | \"add-group\" | \"edit\"){\n         switch (action) {\n\n             case \"cancel\":\n                 this.setState({footerOpen : false});\n                 this.initialized = false;\n                 if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n                     this.dataGridRef.current.clearSelection();\n                 }\n                 break;\n             case \"add-group\":\n\n                 break;\n             case \"edit\":\n                 this.setState({footerOpen : false});\n                 this.initialized = false;\n\n                 break;\n         }\n     }\n\n     addAction(addType:string){\n         console.log(\"added item or items: \", addType );\n         switch (addType) {\n             case \"add-attribute\":\n\n                 return(<></>);\n             case \"add-products\":\n\n                 return(<></>);\n\n\n\n         }\n     }\n\n        //FOOTER ACTIONS\n     switchToEditMode(){\n         if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n             this.dataGridRef.current.switchToEditModeFromCheckBoxMode();\n             this.openEditDrawer();\n             this.initialized = false;\n             this.setState({footerOpen : false})\n         }\n\n\n         //manageSelectionSet = (selectionSet : iDataGridItem[], checkBoxSelections : number[], message : string )\n\n         //this.footerActions(\"cancel\");\n\n     }\n\n    //GRID MANAGEMENT\n     manageSelectionSet = (selectionSet : iDataGridItem[], checkBoxSelections : number[], message : string )=>{\n        if(checkBoxSelections.length > 0 || (this.initialized === false && checkBoxSelections.length === 0 && message === \"checkbox-launched\") ){\n            if(checkBoxSelections.length <= 1){\n                this.setState({editDrawerOpen : false, footerOpen : true, footerMode: \"default\"});\n            }else if(checkBoxSelections.length > 1 ){\n                this.setState({editDrawerOpen : false, footerOpen : true, footerMode: \"multiple-selected\"});\n            }\n            this.initialized = true;\n        }else{\n            this.setState({footerOpen : false});\n        }\n\n     };\n\n     conditionClasses(){\n         if(this.state.editDrawerOpen === true){\n             return \"drawer-open\";\n         }\n     }\n\n     //MODALS modalStateType = \"closed\" | \"add-to-product-group\" | \"create-product-group\" | \"delete-confirmation\";\n    manageModals(modalState : modalStateType){\n         console.log(\"close the dang modal!!!!\", modalState);\n          this.setState({modalState : modalState});\n    }\n\n     getModals(){\n\n         switch(this.state.modalState){\n             case \"add-to-product-group\":\n                 return(\n                 <>\n                     <ModalView\n                         closeModalFunc={()=>this.manageModals(\"closed\")}\n                         modalTitle=\"\"\n                     >\n                        <AddVariantsWizard\n                            addAction={dataManagerMain.addToProductGroup}\n                            groups={dataManagerMain.getGroups()}\n                            selectedCheckBoxes={this.getCheckBoxesSelection()}\n                            manageModal = {()=>this.manageModals(\"closed\")}\n                        />\n\n                     </ModalView>\n                 </>\n\n                     );\n             case \"create-product-group\":\n                 return(\n                     <>\n                         <ModalView\n                             closeModalFunc={()=>this.manageModals(\"closed\")}\n                             modalTitle=\"\"\n                         >\n                             <CreateProductGroupWizard\n                                 addAction={dataManagerMain.addToProductGroup}\n                                 groups={dataManagerMain.getGroups()}\n                                 selectedCheckBoxes={this.getCheckBoxesSelection()}\n                                 manageModal = {()=>this.manageModals(\"closed\")}\n                             />\n\n                         </ModalView>\n                     </>\n\n                  )\n         }\n     }\n\n     //RENDERING AND PORTALS\n    componentDidUpdate(): void {\n         let inputs : any = document.getElementsByClassName(\"InputBox\");\n\n        console.log(this.drawerFirstOpen)\n        if(this.drawerFirstOpen === true ){\n           if(inputs[0] != undefined){\n               inputs[0].focus();\n               inputs[0].select();\n               this.drawerFirstOpen = false;\n           }\n        }\n     }\n\n    render(){\n         return (\n             <>\n                 <TitleArea\n                     mainTitle=\"Spreadsheet View\"\n                     subTitle=\"My Catalog\"\n                     titleType=\"subtitle-above\"\n                 />\n                 <DataGrid\n                     ref={this.dataGridRef}\n                     data={this.state.workingData}\n                     manageParentViews={()=>this.openEditDrawer()}\n                     selectionCallback={this.manageSelectionSet}\n                     columnsData={this.state.columnsData}\n                     classes={this.conditionClasses()}\n                     addAction={this.addAction}\n                     focusedItem={this.state.focusedInput}\n                 />\n                 {this.getEditDrawer() }\n                 {this.getFooterMenu() }\n                 {this.getProductViewDrawer()}\n                 {this.getModals()}\n             </>\n         )\n     }\n}\n"]},"metadata":{},"sourceType":"module"}