{"ast":null,"code":"var _jsxFileName = \"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/views/catalog-views/catalog-details/catalog-details-view.tsx\";\nimport * as React from \"react\";\nimport { CatmanIcon } from \"../../../svg/icons/icons\";\nimport { catmanData } from \"../../../_sample-data/products-data\";\nimport { TitleArea } from \"../../../view-components/title-area/title-area\";\nimport StickyThing from \"../../../view-components/sticky-panel/sticky-panel\";\nimport { toolTipContent } from \"../../tool-tip-content/content-tool-tips\";\nimport AppButton from \"../../../view-components/button/app-button\";\nimport { CatalogSingleProduct } from \"./single-product-view\";\nimport { TextInput } from \"../../../view-components/text-input/text-input\";\nimport { ModalView } from \"../../../view-components/modal/modal\";\nimport { AddVariantsWizard } from \"../../wizards/create-product-group/add-variants-wizard\";\nimport { dataManagerMain } from \"../../../index\";\nimport { CreateProductGroupWizard } from \"../../wizards/create-product-group/create-product-group-wizard\";\nimport { DataGridWithEditDrawer } from \"../../../view-components/data-grid/data-grid-with-edit-drawer\";\nexport class CatalogDetailsView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.workingDataSet = void 0;\n    this.initialized = false;\n    this.dataGridRef = React.createRef();\n    this.editDrawerRef = React.createRef();\n    this.editDrawer = /*#__PURE__*/React.createElement(React.Fragment, null);\n    this.selectionSet = [];\n    this.columns = void 0;\n    this.drawerFirstOpen = false;\n    this.drawerInputsLength = 0;\n    this.inputsControls = void 0;\n\n    this.closeSingleProductEdit = () => {\n      window.history.back();\n    };\n\n    this.updateValues = (row, cell, value, colName) => {\n      if (this.dataGridRef.current != null && this.dataGridRef.current != undefined) {\n        this.selectionSet = this.dataGridRef.current.selectionSet;\n        console.log(\"cat details view selection set: \", this.selectionSet);\n      }\n\n      console.log(\"inside drawer\", value, \" col name:\", colName); //the minus 2 is the offset for the extra columns checkbox and edit\n\n      for (let i = 0; i < this.selectionSet.length; i++) {\n        if (this.selectionSet[i].columnName === colName) {\n          let myRow = this.selectionSet[i].row - 2;\n          let myCell = this.selectionSet[i].cell - 2; //this.workingDataSet[ myRow-2][myCell-2].value = value;\n\n          const updateSet = {\n            row: myRow,\n            cell: myCell,\n            newData: value\n          }; //this.props.gridData.setProductData = updateSet\n\n          this.props.gridData.setData(\"product-data\", updateSet);\n        }\n      } //TODO remove all of these .getProductData() and replace with generic version\n\n\n      this.setState({\n        workingData: this.props.gridData.getProductData()\n      });\n      console.log(\"working data set:\", this.state.workingData);\n    };\n\n    this.inputFocusAction = (row, cell) => {\n      //console.log(\"row: \", row, \" cell:\", cell);\n      if (this.state.editDrawerOpen === true) {\n        this.setState({\n          focusedInput: {\n            row: row,\n            cell: cell,\n            editDrawerOpen: this.state.editDrawerOpen\n          }\n        });\n      }\n    };\n\n    this.openFooter = () => {\n      if (this.dataGridRef.current != undefined) {\n        let checkedCount = 0;\n\n        if (this.dataGridRef.current.getCheckedRows() != undefined && this.dataGridRef.current != undefined) {\n          // @ts-ignore\n          checkedCount = this.dataGridRef.current.getCheckedRows().length;\n        }\n\n        if (checkedCount > 0 && checkedCount <= 1) {\n          console.log(\"checked from selection Actions: \", checkedCount);\n          this.openFooter();\n        }\n      }\n    };\n\n    this.columns = this.props.columnsData.getProductColumns();\n    this.state = {\n      workingData: this.props.gridData.getProductData(),\n      columnsData: this.props.columnsData.getProductColumns(),\n      productViewOpen: false,\n      editDrawerOpen: false,\n      editDrawerMaximized: false,\n      footerOpen: false,\n      footerMode: \"default\",\n      selectionSet: [],\n      modalState: \"closed\",\n      focusedInput: {\n        row: 0,\n        cell: 0,\n        editDrawerOpen: false\n      }\n    };\n    this.workingDataSet = this.props.gridData.getProductData();\n  }\n\n  getCheckBoxesSelection() {\n    if (this.dataGridRef.current !== null && this.dataGridRef.current !== undefined) {\n      return this.dataGridRef.current.getCheckedRows();\n    }\n  }\n\n  getProductViewDrawer() {\n    if (this.props.query != \"none\" && this.props.query != null && this.props.query != undefined) {\n      return /*#__PURE__*/React.createElement(StickyThing, {\n        enterFromThisSide: \"right\",\n        lastResortClasses: \"product-view\",\n        animateIn: true,\n        heightIncludeUnits: \"100vh\",\n        widthIncludeUnits: \"100vw\",\n        stickyOpen: true,\n        bgColor: \"#CECECE\",\n        doAnimation: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(CatalogSingleProduct, {\n        uniqueID: this.props.query,\n        productData: this.state.workingData,\n        closeSingleProduct: this.closeSingleProductEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  getColumnLabel(colName) {\n    //utility method for getting column data obj from\n    let columnLabel = \"\";\n\n    for (let i = 0; i < this.columns.length; i++) {\n      if (this.columns[i].columnName === colName) {\n        columnLabel = this.columns[i].columnLabel;\n      }\n    }\n\n    return columnLabel;\n  }\n\n  //TODO this should be a generic method\n  shiftFocus(shiftIndex) {\n    console.log(\"shifted focus: \", shiftIndex);\n    let inputs = document.getElementsByClassName(\"InputBox\");\n\n    if (inputs[0] != undefined) {\n      if (shiftIndex === inputs.length - 1) {\n        console.log(\"shifted focus on end\"); // @ts-ignore\n\n        inputs[0].focus(); // @ts-ignore\n\n        inputs[0].select();\n      }\n    }\n  }\n\n  getEditDrawer() {\n    if (this.state.editDrawerOpen === false) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n\n    if (this.dataGridRef.current != null && this.dataGridRef.current != undefined) {\n      this.selectionSet = this.dataGridRef.current.selectionSet; // console.log(\"cat details view selection set: \", this.selectionSet)\n    }\n\n    let inputs = [];\n    let selectedItems = []; //Create list of selection items that need inputs (i.e. one input per column)\n\n    i: for (let i = 0; i < this.selectionSet.length; i++) {\n      j: for (let j = 0; j < selectedItems.length; j++) {\n        if (this.selectionSet[i].columnName === selectedItems[j].columnName) {\n          continue i;\n        }\n      }\n\n      let row = this.selectionSet[i].row;\n      let cell = this.selectionSet[i].cell; //TODO this needs to be genericized\n      //let productDataItem = catmanData.productData[row-2][cell-2];\n\n      let productDataItem = catmanData.productData[row - 2][cell - 2];\n      selectedItems.push(productDataItem);\n    } //Store number of inputs for later use\n\n\n    this.drawerInputsLength = selectedItems.length;\n\n    for (let i = 0; i < selectedItems.length; i++) {\n      let input = /*#__PURE__*/React.createElement(TextInput, {\n        row: this.selectionSet[i].row,\n        cell: this.selectionSet[i].cell,\n        columnName: this.selectionSet[i].columnName,\n        label: this.getColumnLabel(selectedItems[i].columnName),\n        currentValue: selectedItems[i].value,\n        onChangeAction: this.updateValues,\n        onFocusAction: this.inputFocusAction,\n        onBlurActions: [() => this.shiftFocus(i)],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 18\n        }\n      });\n      inputs.push(input);\n    }\n\n    let maximize = valueCheck => {\n      if (valueCheck === true) {\n        return \"maximized\";\n      } else {\n        return \"catman-edit-default restored\";\n      }\n    };\n\n    let restoreAndMaximizeTooltip = valueCheck => {\n      if (valueCheck === false) {\n        return toolTipContent.maximizeDrawer();\n      } else {\n        return toolTipContent.restoreDrawer();\n      }\n    };\n\n    let restoreAndMaximizeBtnIcon = valueCheck => {\n      if (valueCheck === false) {\n        return \"icon-maximize\";\n      } else {\n        return \"icon-restore-btn\";\n      }\n    };\n\n    let drawer = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    if (this.state.editDrawerOpen === true) {\n      drawer = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StickyThing, {\n        ref: this.editDrawerRef,\n        enterFromThisSide: \"bottom\",\n        lastResortClasses: `catman-edit-drawer ${maximize(this.state.editDrawerMaximized)}`,\n        animateIn: true,\n        heightIncludeUnits: \"\",\n        widthIncludeUnits: \"\",\n        stickyOpen: true,\n        bgColor: \"#CECECE\",\n        doAnimation: true,\n        toolBar: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 26\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tool-bar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 30\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 34\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"drawer-controls\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(AppButton, {\n        buttonType: \"secondary-action\",\n        buttonLabel: \"\",\n        OnClick: () => this.maximizeEditDrawer(),\n        tooltipType: \"custom\",\n        tooltip: restoreAndMaximizeTooltip(this.state.editDrawerMaximized),\n        toolTipTimeOutInMS: 10000,\n        classes: \"tool-bar-btn icon-only-btn\",\n        iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n          iconName: `${restoreAndMaximizeBtnIcon(this.state.editDrawerMaximized)}`,\n          classes: \" \",\n          height: \"100%\",\n          width: \"100%\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 46\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 39\n        }\n      }), /*#__PURE__*/React.createElement(AppButton, {\n        buttonType: \"secondary-action\",\n        buttonLabel: \"\",\n        OnClick: () => this.closeEditDrawer(),\n        tooltipType: \"custom\",\n        tooltip: toolTipContent.closeDrawer(),\n        toolTipTimeOutInMS: 10000,\n        classes: \"icon-only-btn\",\n        iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n          iconName: \"icon-close\",\n          classes: \" \",\n          height: \"100%\",\n          width: \"100%\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 46\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 38\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"drawer-edit-area\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 30\n        }\n      }, inputs)));\n    }\n\n    return drawer;\n  }\n\n  maximizeEditDrawer() {\n    this.setState({\n      editDrawerMaximized: !this.state.editDrawerMaximized\n    });\n  }\n\n  closeEditDrawer() {\n    this.setState({\n      editDrawerOpen: false,\n      editDrawerMaximized: false,\n      focusedInput: {\n        row: 0,\n        cell: 0,\n        editDrawerOpen: false\n      }\n    });\n\n    if (this.dataGridRef.current != null && this.dataGridRef.current != undefined) {\n      this.dataGridRef.current.clearSelection();\n    }\n\n    this.drawerFirstOpen = false;\n  }\n\n  openEditDrawer() {\n    this.drawerFirstOpen = true;\n    this.setState({\n      editDrawerOpen: true\n    });\n  } //FOOTER RELATED\n\n\n  getFooterMenu() {\n    let footer = /*#__PURE__*/React.createElement(React.Fragment, null);\n    let buttons = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    switch (this.state.footerMode) {\n      case \"default\":\n        buttons = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"footer-btn-bar catman-footer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(AppButton, {\n          classes: \"separate-left\",\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Edit Selected\",\n          OnClick: () => this.switchToEditMode(),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.footerEditSelection(),\n          toolTipTimeOutInMS: 10000,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"icon-edit\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(AppButton, {\n          classes: \" \",\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Add Variant\",\n          OnClick: () => this.manageModals(\"add-to-product-group\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.footerAddVariant(),\n          toolTipTimeOutInMS: 10000,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"icon-add\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(AppButton, {\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Clear Selection\",\n          OnClick: () => this.footerActions(\"cancel\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.clearSelection(),\n          toolTipTimeOutInMS: 10000,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"clear\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(AppButton, {\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Delete Selected\",\n          OnClick: () => this.footerActions(\"cancel\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.footerDelete(),\n          toolTipTimeOutInMS: 10000,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"icon-delete\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case \"multiple-selected\":\n        buttons = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"footer-btn-bar catman-footer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(AppButton, {\n          classes: \"\",\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Edit Selected\",\n          OnClick: () => this.switchToEditMode(),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.footerEditSelection(),\n          toolTipTimeOutInMS: 10000,\n          tooltipXOffset: 0,\n          tooltipYOffset: 20,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"icon-edit\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(AppButton, {\n          classes: \" \",\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Make Into a Variant Group\",\n          OnClick: () => this.manageModals(\"create-product-group\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.footerCreateVariant(),\n          toolTipTimeOutInMS: 10000,\n          tooltipXOffset: 0,\n          tooltipYOffset: 20,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"icon-add\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(AppButton, {\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Clear Selection\",\n          OnClick: () => this.footerActions(\"cancel\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.clearSelection(),\n          toolTipTimeOutInMS: 10000,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"clear\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(AppButton, {\n          buttonType: \"secondary-action\",\n          buttonLabel: \"Delete Selected\",\n          OnClick: () => this.footerActions(\"cancel\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.footerDelete(),\n          toolTipTimeOutInMS: 10000,\n          iconLeft: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"icon-delete\",\n            classes: \" \",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 33\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case \"has-group\":\n        buttons = /*#__PURE__*/React.createElement(AppButton, {\n          buttonType: \"secondary-action\",\n          buttonLabel: \"catalog manager\",\n          OnClick: () => this.footerActions(\"cancel\"),\n          tooltipType: \"custom\",\n          tooltip: toolTipContent.mainNav(),\n          toolTipTimeOutInMS: 10000,\n          iconRight: /*#__PURE__*/React.createElement(CatmanIcon, {\n            iconName: \"down-arrow\",\n            classes: \"ui-icon\",\n            height: \"100%\",\n            width: \"100%\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 25\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 28\n          }\n        });\n    }\n\n    if (this.state.footerOpen === true) {\n      let buttonBar = /*#__PURE__*/React.createElement(React.Fragment, null);\n      footer = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StickyThing, {\n        enterFromThisSide: \"bottom\",\n        lastResortClasses: \"catman-footer-container\",\n        animateIn: true,\n        heightIncludeUnits: \"3.75rem\",\n        widthIncludeUnits: \"100%\",\n        stickyOpen: true,\n        bgColor: \"rgba(0,0,0,0)\",\n        doAnimation: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 21\n        }\n      }, buttons));\n    }\n\n    return footer;\n  }\n\n  footerActions(action) {\n    switch (action) {\n      case \"cancel\":\n        this.setState({\n          footerOpen: false\n        });\n        this.initialized = false;\n\n        if (this.dataGridRef.current !== null && this.dataGridRef.current !== undefined) {\n          this.dataGridRef.current.clearSelection();\n        }\n\n        break;\n\n      case \"add-group\":\n        break;\n\n      case \"edit\":\n        this.setState({\n          footerOpen: false\n        });\n        this.initialized = false;\n        break;\n    }\n  }\n\n  addAction(addType) {\n    console.log(\"added item or items: \", addType);\n\n    switch (addType) {\n      case \"add-attribute\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n\n      case \"add-products\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  } //FOOTER ACTIONS\n\n\n  switchToEditMode() {\n    if (this.dataGridRef.current !== null && this.dataGridRef.current !== undefined) {\n      this.dataGridRef.current.switchToEditMode();\n    }\n  } //MODALS modalStateType = \"closed\" | \"add-to-product-group\" | \"create-product-group\" | \"delete-confirmation\";\n\n\n  manageModals(modalState) {\n    console.log(\"close the dang modal!!!!\", modalState);\n    this.setState({\n      modalState: modalState\n    });\n  }\n\n  getModals() {\n    switch (this.state.modalState) {\n      case \"add-to-product-group\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalView, {\n          closeModalFunc: () => this.manageModals(\"closed\"),\n          modalTitle: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 22\n          }\n        }, /*#__PURE__*/React.createElement(AddVariantsWizard, {\n          addAction: dataManagerMain.addToProductGroup,\n          groups: dataManagerMain.getGroups(),\n          selectedCheckBoxes: this.getCheckBoxesSelection(),\n          manageModal: () => this.manageModals(\"closed\"),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 25\n          }\n        })));\n\n      case \"create-product-group\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalView, {\n          closeModalFunc: () => this.manageModals(\"closed\"),\n          modalTitle: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 26\n          }\n        }, /*#__PURE__*/React.createElement(CreateProductGroupWizard, {\n          addAction: dataManagerMain.addToProductGroup,\n          groups: dataManagerMain.getGroups(),\n          selectedCheckBoxes: this.getCheckBoxesSelection(),\n          manageModal: () => this.manageModals(\"closed\"),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 30\n          }\n        })));\n    }\n  } //SELECTION ACTIONS from grid\n\n\n  //RENDERING AND PORTALS\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TitleArea, {\n      mainTitle: \"Spreadsheet View\",\n      subTitle: \"My Catalog\",\n      titleType: \"subtitle-above\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(DataGridWithEditDrawer, {\n      gridData: dataManagerMain.getProductData(),\n      columnsData: dataManagerMain.getProductColumns(),\n      dataManager: dataManagerMain,\n      targetDataSet: \"product-data\",\n      selectionActions: [this.openFooter],\n      ref: this.dataGridRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 18\n      }\n    }), this.getEditDrawer(), this.getFooterMenu(), this.getProductViewDrawer(), this.getModals(), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.switchToEditMode(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 18\n      }\n    }, \"Switch\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/views/catalog-views/catalog-details/catalog-details-view.tsx"],"names":["React","CatmanIcon","catmanData","TitleArea","StickyThing","toolTipContent","AppButton","CatalogSingleProduct","TextInput","ModalView","AddVariantsWizard","dataManagerMain","CreateProductGroupWizard","DataGridWithEditDrawer","CatalogDetailsView","Component","constructor","props","workingDataSet","initialized","dataGridRef","createRef","editDrawerRef","editDrawer","selectionSet","columns","drawerFirstOpen","drawerInputsLength","inputsControls","closeSingleProductEdit","window","history","back","updateValues","row","cell","value","colName","current","undefined","console","log","i","length","columnName","myRow","myCell","updateSet","newData","gridData","setData","setState","workingData","getProductData","state","inputFocusAction","editDrawerOpen","focusedInput","openFooter","checkedCount","getCheckedRows","columnsData","getProductColumns","productViewOpen","editDrawerMaximized","footerOpen","footerMode","modalState","getCheckBoxesSelection","getProductViewDrawer","query","getColumnLabel","columnLabel","shiftFocus","shiftIndex","inputs","document","getElementsByClassName","focus","select","getEditDrawer","selectedItems","j","productDataItem","productData","push","input","maximize","valueCheck","restoreAndMaximizeTooltip","maximizeDrawer","restoreDrawer","restoreAndMaximizeBtnIcon","drawer","maximizeEditDrawer","closeEditDrawer","closeDrawer","clearSelection","openEditDrawer","getFooterMenu","footer","buttons","switchToEditMode","footerEditSelection","manageModals","footerAddVariant","footerActions","footerDelete","footerCreateVariant","mainNav","buttonBar","action","addAction","addType","getModals","addToProductGroup","getGroups","render"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {Navigation} from \"../../../view-components/list-menu/intra-app-navigation\";\nimport {MainHeaderArea} from \"../../_common/main-header-area/main-header-area\";\n\n//Configuration data:\nimport {mainNavConfig} from \"../../_catman-configuration/common-app-configuration\";\nimport {CatmanIcon} from \"../../../svg/icons/icons\";\nimport {ToolTipContent} from \"../../../view-components/heru-tool-tip/tool-tip-content\";\nimport {DataGrid, selectionObject} from \"../../../view-components/data-grid/data-grid\";\nimport {catmanData} from \"../../../_sample-data/products-data\";\nimport {TitleArea} from \"../../../view-components/title-area/title-area\";\nimport {Route, RouteComponentProps, Switch, useRouteMatch} from \"react-router-dom\";\nimport StickyThing from \"../../../view-components/sticky-panel/sticky-panel\";\nimport {ReactElement} from \"react\";\nimport {iDataGridItem} from \"../../../_catman-data-types\";\nimport {toolTipContent} from \"../../tool-tip-content/content-tool-tips\";\nimport AppButton from \"../../../view-components/button/app-button\";\nimport {iColumn} from \"../../../_sample-data/product-columns\";\nimport {CatalogSingleProduct} from \"./single-product-view\";\nimport {TextInput} from \"../../../view-components/text-input/text-input\";\n\nimport {DataManager, dataSetType, iUpdateSet} from \"../../../data-components/data-manager/data-manager\";\nimport {ModalView} from \"../../../view-components/modal/modal\";\nimport {AddVariantsWizard} from \"../../wizards/create-product-group/add-variants-wizard\";\nimport {dataManagerMain} from \"../../../index\";\n\nimport {CreateProductGroupWizard} from \"../../wizards/create-product-group/create-product-group-wizard\";\nimport {DataGridWithEditDrawer} from \"../../../view-components/data-grid/data-grid-with-edit-drawer\";\n\n\ninterface iPROPS   {\n    message: string;\n    query:string | null;\n    gridData : DataManager;\n    columnsData : DataManager;\n    targetDataSet : dataSetType;\n}\n\nexport type modalStateType = \"closed\" | \"add-to-product-group\" | \"create-product-group\" | \"delete-confirmation\";\n//TODO need to make these types into a definitions file\nexport type focusInputType = { row : number, cell : number, editDrawerOpen : boolean};\n\ninterface iSTATE{\n    productViewOpen : boolean;\n    editDrawerOpen : boolean;\n    editDrawerMaximized : boolean;\n    modalState : modalStateType;\n    footerOpen : boolean;\n    footerMode : \"default\" | \"has-group\" | \"no-group\" | \"multiple-selected\" ;\n    selectionSet : selectionObject[];\n    workingData : iDataGridItem[][];\n    columnsData : iColumn[];\n    focusedInput : focusInputType;\n}\n\nexport class CatalogDetailsView extends React.Component<iPROPS, iSTATE>{\n     constructor(props:iPROPS) {\n         super(props);\n         this.columns = this.props.columnsData.getProductColumns();\n         this.state = {\n             workingData : this.props.gridData.getProductData(),\n             columnsData : this.props.columnsData.getProductColumns(),\n             productViewOpen : false,\n             editDrawerOpen : false,\n             editDrawerMaximized : false,\n             footerOpen : false,\n             footerMode : \"default\",\n             selectionSet : [],\n             modalState : \"closed\",\n             focusedInput : { row:0, cell:0, editDrawerOpen : false}\n         };\n\n         this.workingDataSet = this.props.gridData.getProductData();\n     }\n     workingDataSet : iDataGridItem[][];\n     //just for the fist launch of checkbox editing\n     initialized:boolean = false;\n     dataGridRef = React.createRef<DataGridWithEditDrawer>();\n     editDrawerRef = React.createRef<StickyThing>();\n     editDrawer : ReactElement = (<></>);\n     selectionSet : selectionObject[] = [];\n     columns : iColumn[];\n     //manage selection in the drawer\n     drawerFirstOpen = false;\n     drawerInputsLength = 0;\n     inputsControls: any;\n\n\n    getCheckBoxesSelection(){\n        if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n            return this.dataGridRef.current.getCheckedRows();\n        }\n    }\n\n     closeSingleProductEdit = ()=>{\n        window.history.back();\n    };\n\n     getProductViewDrawer( ){\n         if(this.props.query != \"none\" && this.props.query != null && this.props.query != undefined ){\n\n             return(\n                 <StickyThing\n                     enterFromThisSide=\"right\"\n                     lastResortClasses={\"product-view\"}\n                     animateIn={true}\n                     heightIncludeUnits=\"100vh\"\n                     widthIncludeUnits={\"100vw\"}\n                     stickyOpen={true}\n                     bgColor={\"#CECECE\"}\n                     doAnimation={true}\n                 >\n                    <CatalogSingleProduct\n                        uniqueID={this.props.query}\n                        productData={this.state.workingData}\n                        closeSingleProduct={this.closeSingleProductEdit}\n                    />\n\n                 </StickyThing>\n             )\n         }\n     }\n\n     getColumnLabel(colName : string) : string{\n         //utility method for getting column data obj from\n         let columnLabel = \"\";\n         for(let i = 0; i < this.columns.length; i++){\n             if(this.columns[i].columnName === colName){\n                 columnLabel = this.columns[i].columnLabel;\n             }\n         }\n         return columnLabel;\n     }\n\n     updateValues=(row : number, cell:number, value:string, colName : string)=>{\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined ){\n             this.selectionSet = this.dataGridRef.current.selectionSet;\n             console.log(\"cat details view selection set: \", this.selectionSet)\n         }\n         console.log(\"inside drawer\", value, \" col name:\", colName);\n         //the minus 2 is the offset for the extra columns checkbox and edit\n         for(let i =0; i < this.selectionSet.length; i++){\n             if(this.selectionSet[i].columnName === colName){\n                 let myRow = this.selectionSet[i].row-2;\n                 let myCell = this.selectionSet[i].cell-2;\n\n                 //this.workingDataSet[ myRow-2][myCell-2].value = value;\n                 const updateSet : iUpdateSet = { row:myRow ,cell:myCell, newData:value }\n                 //this.props.gridData.setProductData = updateSet\n                 this.props.gridData.setData(\"product-data\", updateSet)\n             }\n\n         }\n\n         //TODO remove all of these .getProductData() and replace with generic version\n         this.setState({workingData : this.props.gridData.getProductData()});\n         console.log( \"working data set:\", this.state.workingData );\n     };\n\n     inputFocusAction=(row : number, cell:number)=>{\n         //console.log(\"row: \", row, \" cell:\", cell);\n         if(this.state.editDrawerOpen === true){\n             this.setState({focusedInput : { row : row, cell : cell, editDrawerOpen: this.state.editDrawerOpen}})\n         }\n     };\n\n     //TODO this should be a generic method\n     shiftFocus(shiftIndex: number){\n\n         console.log(\"shifted focus: \", shiftIndex);\n             let inputs: HTMLCollection = document.getElementsByClassName(\"InputBox\");\n             if(inputs[0] != undefined){\n                 if(shiftIndex === inputs.length-1){\n                     console.log(\"shifted focus on end\");\n                     // @ts-ignore\n                     inputs[0].focus();\n                     // @ts-ignore\n                     inputs[0].select();\n                 }\n         }\n     };\n\n     getEditDrawer():ReactElement{\n\n         if(this.state.editDrawerOpen === false){\n             return(<></>);\n         }\n\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined ){\n             this.selectionSet = this.dataGridRef.current.selectionSet;\n            // console.log(\"cat details view selection set: \", this.selectionSet)\n         }\n\n         let inputs : ReactElement[] = [];\n         let selectedItems : iDataGridItem[] = [];\n\n         //Create list of selection items that need inputs (i.e. one input per column)\n        i: for(let i=0; i < this.selectionSet.length; i++){\n           j: for(let j=0; j < selectedItems.length; j++){\n                if(this.selectionSet[i].columnName === selectedItems[j].columnName){\n                    continue i;\n                }\n            }\n                 let row = this.selectionSet[i].row;\n                 let cell = this.selectionSet[i].cell;\n                 //TODO this needs to be genericized\n                 //let productDataItem = catmanData.productData[row-2][cell-2];\n                 let productDataItem = catmanData.productData[row-2][cell-2];\n                 selectedItems.push(productDataItem);\n        }\n\n        //Store number of inputs for later use\n         this.drawerInputsLength = selectedItems.length;\n\n         for( let i=0; i < selectedItems.length; i++){\n             let input = (\n                 <TextInput\n                     row={this.selectionSet[i].row}\n                     cell={this.selectionSet[i].cell}\n                     columnName={this.selectionSet[i].columnName}\n                     label={this.getColumnLabel( selectedItems[i].columnName )}\n                     currentValue={ selectedItems[i].value}\n                     onChangeAction={this.updateValues}\n                     onFocusAction={this.inputFocusAction}\n                     onBlurActions={[ ()=>this.shiftFocus(i) ]}\n                 />\n             );\n             inputs.push(input)\n         }\n\n        let maximize = (valueCheck : boolean)=>{\n             if(valueCheck === true){\n                 return \"maximized\"\n             }else{\n                 return \"catman-edit-default restored\"\n             }\n        };\n\n         let restoreAndMaximizeTooltip = (valueCheck : boolean)=>{\n            if(valueCheck === false){\n                return toolTipContent.maximizeDrawer();\n            }else{\n                return toolTipContent.restoreDrawer();\n            }\n         };\n\n         let restoreAndMaximizeBtnIcon = (valueCheck : boolean)=>{\n             if(valueCheck === false){\n                 return \"icon-maximize\"\n             }else{\n                 return \"icon-restore-btn\"\n             }\n         }\n\n\n         let drawer = (<></>);\n             if(this.state.editDrawerOpen === true){\n                 drawer = (\n                     <>\n                         <StickyThing\n                             ref = {this.editDrawerRef}\n                             enterFromThisSide=\"bottom\"\n                             lastResortClasses={`catman-edit-drawer ${maximize(this.state.editDrawerMaximized)}`}\n                             animateIn={true}\n                             heightIncludeUnits=\"\"\n                             widthIncludeUnits={\"\"}\n                             stickyOpen={true}\n                             bgColor={\"#CECECE\"}\n                             doAnimation={true}\n                             toolBar=\"none\"\n                         >\n                             <div className={\"tool-bar\"}>\n                                 <div></div>\n                                 <div className=\"drawer-controls\">\n                                      <AppButton\n                                         buttonType={\"secondary-action\"}\n                                         buttonLabel=\"\"\n                                         OnClick={()=>this.maximizeEditDrawer()}\n                                         tooltipType=\"custom\"\n                                         tooltip={restoreAndMaximizeTooltip(this.state.editDrawerMaximized)}\n                                         toolTipTimeOutInMS={10000}\n                                         classes=\"tool-bar-btn icon-only-btn\"\n                                         iconLeft={\n                                             <CatmanIcon\n                                                 iconName={`${restoreAndMaximizeBtnIcon(this.state.editDrawerMaximized)}`}\n                                                 classes=\" \"\n                                                 height=\"100%\"\n                                                 width=\"100%\"\n                                             />\n                                         }\n                                     />\n                                     <AppButton\n                                         buttonType={\"secondary-action\"}\n                                         buttonLabel=\"\"\n                                         OnClick={()=>this.closeEditDrawer()}\n                                         tooltipType=\"custom\"\n                                         tooltip={toolTipContent.closeDrawer()}\n                                         toolTipTimeOutInMS={10000}\n                                         classes=\"icon-only-btn\"\n                                         iconLeft={\n                                             <CatmanIcon\n                                                 iconName=\"icon-close\"\n                                                 classes=\" \"\n                                                 height=\"100%\"\n                                                 width=\"100%\"\n                                             />\n                                         }\n                                     />\n\n                                 </div>\n                             </div>\n\n                             <div className=\"drawer-edit-area\">\n                                 {inputs}\n                             </div>\n                         </StickyThing>\n                     </>\n                 );\n             }\n         return drawer;\n     }\n\n     maximizeEditDrawer(){\n         this.setState({editDrawerMaximized : !this.state.editDrawerMaximized})\n     }\n\n     closeEditDrawer(){\n         this.setState({\n             editDrawerOpen : false,\n             editDrawerMaximized : false,\n             focusedInput : {row:0, cell:0, editDrawerOpen:false}\n         });\n         if(this.dataGridRef.current != null && this.dataGridRef.current != undefined){\n             this.dataGridRef.current.clearSelection();\n         }\n         this.drawerFirstOpen = false;\n     }\n\n     openEditDrawer( ){\n         this.drawerFirstOpen = true;\n         this.setState({editDrawerOpen : true});\n     }\n\n     //FOOTER RELATED\n     getFooterMenu(){\n        let footer = (<></>);\n        let buttons = (<></>);\n\n        switch(this.state.footerMode){\n            case \"default\":\n                buttons = (\n                    <div className=\"footer-btn-bar catman-footer\">\n                        <AppButton\n                            classes={\"separate-left\"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Edit Selected\"\n                            OnClick={()=>this.switchToEditMode()}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerEditSelection()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-edit\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            classes={\" \"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Add Variant\"\n                            OnClick={()=>this.manageModals(\"add-to-product-group\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerAddVariant()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-add\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Clear Selection\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.clearSelection()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"clear\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Delete Selected\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerDelete()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-delete\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n\n\n                    </div>\n                );\n                break;\n\n            case \"multiple-selected\":\n                buttons = (\n                    <div className=\"footer-btn-bar catman-footer\">\n                        <AppButton\n                            classes={\"\"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Edit Selected\"\n                            OnClick={()=>this.switchToEditMode()}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerEditSelection()}\n                            toolTipTimeOutInMS={10000}\n                            tooltipXOffset={0}\n                            tooltipYOffset={20}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-edit\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            classes={\" \"}\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Make Into a Variant Group\"\n                            OnClick={()=>this.manageModals(\"create-product-group\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerCreateVariant()}\n                            toolTipTimeOutInMS={10000}\n                            tooltipXOffset={0}\n                            tooltipYOffset={20}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-add\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Clear Selection\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.clearSelection()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"clear\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                        <AppButton\n                            buttonType={\"secondary-action\"}\n                            buttonLabel=\"Delete Selected\"\n                            OnClick={()=>this.footerActions(\"cancel\")}\n                            tooltipType=\"custom\"\n                            tooltip={toolTipContent.footerDelete()}\n                            toolTipTimeOutInMS={10000}\n                            iconLeft={\n                                <CatmanIcon\n                                    iconName=\"icon-delete\"\n                                    classes=\" \"\n                                    height=\"100%\"\n                                    width=\"100%\"\n                                />\n                            }\n                        />\n                    </div>\n                );\n                break;\n\n            case \"has-group\":\n                buttons = (<AppButton\n                    buttonType={\"secondary-action\"}\n                    buttonLabel=\"catalog manager\"\n                    OnClick={()=>this.footerActions(\"cancel\")}\n                    tooltipType=\"custom\"\n                    tooltip={toolTipContent.mainNav()}\n                    toolTipTimeOutInMS={10000}\n                    iconRight={\n                        <CatmanIcon\n                            iconName=\"down-arrow\"\n                            classes=\"ui-icon\"\n                            height=\"100%\"\n                            width=\"100%\"\n                        />\n                    }\n                />)\n        }\n\n        if(this.state.footerOpen === true){\n\n            let buttonBar : ReactElement = (<>\n            </>);\n\n            footer = (\n                <>\n                    <StickyThing\n                        enterFromThisSide=\"bottom\"\n                        lastResortClasses={\"catman-footer-container\"}\n                        animateIn={true}\n                        heightIncludeUnits=\"3.75rem\"\n                        widthIncludeUnits={\"100%\"}\n                        stickyOpen={true}\n                        bgColor={\"rgba(0,0,0,0)\"}\n                        doAnimation={true}\n                    >\n                        {buttons}\n                    </StickyThing>\n                </>\n            );\n        }\n        return footer;\n    }\n\n     footerActions(action : \"cancel\" | \"add-group\" | \"edit\"){\n         switch (action) {\n\n             case \"cancel\":\n                 this.setState({footerOpen : false});\n                 this.initialized = false;\n                 if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n                     this.dataGridRef.current.clearSelection();\n                 }\n                 break;\n             case \"add-group\":\n\n                 break;\n             case \"edit\":\n                 this.setState({footerOpen : false});\n                 this.initialized = false;\n\n                 break;\n         }\n     }\n\n     addAction(addType:string){\n         console.log(\"added item or items: \", addType );\n         switch (addType) {\n             case \"add-attribute\":\n\n                 return(<></>);\n             case \"add-products\":\n\n                 return(<></>);\n\n\n\n         }\n     }\n\n        //FOOTER ACTIONS\n     switchToEditMode(){\n         if(this.dataGridRef.current !== null && this.dataGridRef.current !== undefined){\n             this.dataGridRef.current.switchToEditMode();\n         }\n     }\n\n     //MODALS modalStateType = \"closed\" | \"add-to-product-group\" | \"create-product-group\" | \"delete-confirmation\";\n    manageModals(modalState : modalStateType){\n         console.log(\"close the dang modal!!!!\", modalState);\n          this.setState({modalState : modalState});\n    }\n\n     getModals(){\n\n         switch(this.state.modalState){\n             case \"add-to-product-group\":\n                 return(\n                 <>\n                     <ModalView\n                         closeModalFunc={()=>this.manageModals(\"closed\")}\n                         modalTitle=\"\"\n                     >\n                        <AddVariantsWizard\n                            addAction={dataManagerMain.addToProductGroup}\n                            groups={dataManagerMain.getGroups()}\n                            selectedCheckBoxes={this.getCheckBoxesSelection()}\n                            manageModal = {()=>this.manageModals(\"closed\")}\n                        />\n\n                     </ModalView>\n                 </>\n\n                     );\n             case \"create-product-group\":\n                 return(\n                     <>\n                         <ModalView\n                             closeModalFunc={()=>this.manageModals(\"closed\")}\n                             modalTitle=\"\"\n                         >\n                             <CreateProductGroupWizard\n                                 addAction={dataManagerMain.addToProductGroup}\n                                 groups={dataManagerMain.getGroups()}\n                                 selectedCheckBoxes={this.getCheckBoxesSelection()}\n                                 manageModal = {()=>this.manageModals(\"closed\")}\n                             />\n\n                         </ModalView>\n                     </>\n\n                  )\n         }\n     }\n\n     //SELECTION ACTIONS from grid\n    openFooter = ()=>\n    {\n\n        if(this.dataGridRef.current != undefined)\n        {\n            let checkedCount : number = 0;\n\n\n            if(this.dataGridRef.current.getCheckedRows() != undefined && this.dataGridRef.current != undefined ){\n                // @ts-ignore\n                checkedCount = this.dataGridRef.current.getCheckedRows().length;\n            }\n\n\n            if( checkedCount > 0 && checkedCount <= 1 ){\n                console.log(\"checked from selection Actions: \", checkedCount);\n                this.openFooter();\n            }\n        }\n    };\n\n     //RENDERING AND PORTALS\n\n\n    render(){\n         return (\n             <>\n                 <TitleArea\n                     mainTitle=\"Spreadsheet View\"\n                     subTitle=\"My Catalog\"\n                     titleType=\"subtitle-above\"\n                 />\n                 <DataGridWithEditDrawer\n                     gridData={dataManagerMain.getProductData()}\n                     columnsData={dataManagerMain.getProductColumns()}\n                     dataManager={dataManagerMain}\n                     targetDataSet={\"product-data\"}\n                     selectionActions={[ this.openFooter ]}\n                     ref={this.dataGridRef}\n                 />\n                 {this.getEditDrawer() }\n                 {this.getFooterMenu() }\n                 {this.getProductViewDrawer()}\n                 {this.getModals()}\n                 <button onClick={()=>this.switchToEditMode()}>Switch</button>\n             </>\n         )\n     }\n}\n"]},"metadata":{},"sourceType":"module"}