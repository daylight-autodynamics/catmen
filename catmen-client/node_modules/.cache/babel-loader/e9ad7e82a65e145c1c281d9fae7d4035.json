{"ast":null,"code":"var _jsxFileName = \"/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx\";\nimport * as React from \"react\";\nimport { win } from \"../../index\";\nexport class WindowLevelCapture {\n  constructor() {\n    this.mousePosition = void 0;\n    this.mousePosition = {\n      x: -1000,\n      y: -1000\n    };\n  }\n\n  get mousePos() {\n    return this.mousePosition;\n  }\n\n  getMousePosition(evt) {\n    this.mousePosition = {\n      x: evt.clientX,\n      y: evt.clientY\n    };\n  }\n\n  windowSize() {\n    let measurment = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n    return measurment;\n  }\n\n  windowEvent() {\n    window.addEventListener('mousemove', evt => this.getMousePosition(evt));\n  }\n\n}\nexport class ToolTip extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mousePosition = void 0;\n    this.initialized = void 0;\n    this.toolTipTimeOutCounter = void 0;\n    this.toolTipContainerRef = void 0;\n    this.tooltipWidth = 0;\n    this.intervalID = 0;\n    this.state = {\n      mousePosition: {\n        x: -window.innerWidth,\n        y: -window.innerHeight\n      },\n      isHovering: false\n    };\n    this.toolTipContainerRef = React.createRef();\n    this.mousePosition = {\n      x: -1000,\n      y: -1000\n    };\n    this.initialized = false;\n    this.toolTipTimeOutCounter = this.props.timeoutInMS;\n  } //TODO give mouse position a data type\n\n\n  updateMousePos() {\n    //Only update if the mouse is moving, check if position values have changed\n    // console.log(\"check update mouse\");\n    if (this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y) {\n      this.setState({\n        mousePosition: {\n          x: win.mousePos.x,\n          y: win.mousePos.y\n        }\n      }); // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n    }\n\n    let checkMouseIsOver = () => {\n      var _this$props$btnRefere;\n\n      let hoverCheck = true;\n\n      if (((_this$props$btnRefere = this.props.btnReference) === null || _this$props$btnRefere === void 0 ? void 0 : _this$props$btnRefere.current) != undefined) {\n        var _this$props$btnRefere2, _this$props$btnRefere3;\n\n        let rect = (_this$props$btnRefere2 = this.props.btnReference) === null || _this$props$btnRefere2 === void 0 ? void 0 : (_this$props$btnRefere3 = _this$props$btnRefere2.current) === null || _this$props$btnRefere3 === void 0 ? void 0 : _this$props$btnRefere3.getBoundingClientRect(); // if mouse is too far the the left, the mouse x is less that the button x\n\n        if (this.state.mousePosition.x < rect.x) {\n          hoverCheck = false;\n        } // if mouse is too far to the right\n\n\n        if (this.state.mousePosition.x > rect.x + (rect === null || rect === void 0 ? void 0 : rect.width)) {\n          hoverCheck = false;\n        } // if mouse is too far the the left, the mouse x is less that the button x\n\n\n        if (this.state.mousePosition.y < rect.y) {\n          hoverCheck = false;\n        } // if mouse is too far to the right\n\n\n        if (this.state.mousePosition.y > rect.y + (rect === null || rect === void 0 ? void 0 : rect.height)) {\n          hoverCheck = false;\n        }\n      }\n\n      return hoverCheck;\n    };\n\n    if (checkMouseIsOver() === false) {\n      this.clearHover();\n    } else {\n      let y = this.state.mousePosition.y;\n      let x = this.state.mousePosition.x;\n\n      if (this.toolTipContainerRef.current != null && this.toolTipContainerRef.current != undefined) {\n        this.tooltipWidth = this.toolTipContainerRef.current.getBoundingClientRect().width;\n      }\n\n      console.log(\"tool tip behavior check:\");\n      console.log(\"x position:\", x);\n      console.log(\"tooltip width:\", this.tooltipWidth);\n\n      if (this.toolTipContainerRef.current != null && this.toolTipContainerRef.current !== undefined) {\n        if (this.state.mousePosition.x >= win.windowSize().width - this.tooltipWidth) {\n          x = win.windowSize().width - this.tooltipWidth;\n        }\n      }\n\n      if (this.toolTipContainerRef.current !== null) {\n        this.toolTipContainerRef.current.style.top = y.toString();\n        this.toolTipContainerRef.current.style.left = x.toString();\n      } //top : this.state.mousePosition.y, left: this.state.mousePosition.x\n\n\n      this.setState({\n        isHovering: true\n      });\n    }\n\n    if (this.toolTipTimeOutCounter <= 0) {\n      this.clearHover();\n    }\n  }\n\n  getToolTip() {\n    var _this$props$tooltipSt, _this$props$tooltipSt2;\n\n    let tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    switch (this.props.tooltipType) {\n      case \"standard\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"app-tool-tip \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }\n        }, (_this$props$tooltipSt = this.props.tooltipStandardContent) === null || _this$props$tooltipSt === void 0 ? void 0 : _this$props$tooltipSt.headerText), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }\n        }, (_this$props$tooltipSt2 = this.props.tooltipStandardContent) === null || _this$props$tooltipSt2 === void 0 ? void 0 : _this$props$tooltipSt2.copy)));\n        break;\n\n      case \"custom\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"app-tool-tip\",\n          style: {\n            top: this.state.mousePosition.y,\n            left: this.state.mousePosition.x,\n            paddingLeft: \"1rem\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }\n        }, this.props.toolTipCustomElement));\n        break;\n\n      case \"none\":\n        tooltipInner = /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.toolTipContainerRef,\n      style: {\n        zIndex: 10000,\n        border: \"none\",\n        width: \"1px\",\n        height: \"1px\",\n        position: \"fixed\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, tooltipInner);\n  }\n\n  componentWillUnmount() {\n    this.clearHover();\n    this.clearInterval();\n  }\n\n  clearInterval() {\n    clearInterval(this.intervalID);\n  }\n\n  startHover() {\n    this.toolTipTimeOutCounter = this.props.timeoutInMS;\n\n    if (this.props.tooltipType !== \"none\") {\n      this.intervalID = setInterval(() => {\n        if (this.initialized === false) {\n          this.initialized = true;\n          this.setState({\n            isHovering: true\n          });\n        }\n\n        this.toolTipTimeOutCounter -= 50;\n\n        if (this.toolTipTimeOutCounter <= 0) {\n          this.clearHover();\n        }\n\n        this.updateMousePos();\n      }, 50);\n    }\n  }\n\n  clearHover() {\n    clearInterval(this.intervalID);\n    this.initialized = false;\n    this.setState({\n      isHovering: false\n    });\n  }\n\n  componentDidMount() {//this.startHover();\n  }\n\n  handleFadeInOut() {\n    if (this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700) {\n      return \"fade-1\";\n    } else if (this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600) {\n      return \"fade-11\";\n    } else if (this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500) {\n      return \"fade-2\";\n    } else if (this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400) {\n      return \"fade-21\";\n    } else if (this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300) {\n      return \"fade-3\";\n    } else if (this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200) {\n      return \"fade-31\";\n    } else if (this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100) {\n      return \"fade-4\";\n    } else if (this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20) {\n      return \"fade-41\";\n    } else if (this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0) {\n      return \"fade-5\";\n    } //HANDLE FADE IN\n\n\n    if (this.toolTipTimeOutCounter <= this.props.timeoutInMS && this.toolTipTimeOutCounter > this.props.timeoutInMS - 100) {\n      return \"fade-5\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 100 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 150) {\n      return \"fade-41\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 150 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 200) {\n      return \"fade-4\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 200 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 250) {\n      return \"fade-31\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 250 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 300) {\n      return \"fade-3\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 300 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 350) {\n      return \"fade-21\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 350 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 400) {\n      return \"fade-2\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 400 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 450) {\n      return \"fade-11\";\n    } else if (this.toolTipTimeOutCounter <= this.props.timeoutInMS - 450 && this.toolTipTimeOutCounter > this.props.timeoutInMS - 500) {\n      return \"fade-0\";\n    }\n  }\n\n  debugPosition() {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        right: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }\n    }, `x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `);\n  }\n\n  render() {\n    let tooltip = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n    if (this.state.isHovering === true && this.toolTipTimeOutCounter > 0) {\n      tooltip = this.getToolTip();\n    }\n\n    let constructedToolTip = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.handleFadeInOut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 15\n      }\n    }, tooltip));\n    return constructedToolTip;\n  }\n\n}","map":{"version":3,"sources":["/Users/hr145a/Documents/WayfairCodeBases/CatMan/catmen-client/src/view-components/heru-tool-tip/tool-tip.tsx"],"names":["React","win","WindowLevelCapture","constructor","mousePosition","x","y","mousePos","getMousePosition","evt","clientX","clientY","windowSize","measurment","width","window","innerWidth","height","innerHeight","windowEvent","addEventListener","ToolTip","Component","props","initialized","toolTipTimeOutCounter","toolTipContainerRef","tooltipWidth","intervalID","state","isHovering","createRef","timeoutInMS","updateMousePos","setState","checkMouseIsOver","hoverCheck","btnReference","current","undefined","rect","getBoundingClientRect","clearHover","console","log","style","top","toString","left","getToolTip","tooltipInner","tooltipType","tooltipStandardContent","headerText","copy","paddingLeft","toolTipCustomElement","zIndex","border","position","componentWillUnmount","clearInterval","startHover","setInterval","componentDidMount","handleFadeInOut","debugPosition","right","render","tooltip","constructedToolTip"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,GAAR,QAAkB,aAAlB;AAgBA,OAAO,MAAMC,kBAAN,CAA2C;AAE9CC,EAAAA,WAAW,GAAG;AAAA,SADNC,aACM;AACV,SAAKA,aAAL,GAAqB;AAACC,MAAAA,CAAC,EAAC,CAAC,IAAJ;AAASC,MAAAA,CAAC,EAAC,CAAC;AAAZ,KAArB;AACH;;AAED,MAAIC,QAAJ,GAAc;AACV,WAAO,KAAKH,aAAZ;AACH;;AAEDI,EAAAA,gBAAgB,CAACC,GAAD,EAAgB;AAC5B,SAAKL,aAAL,GAAqB;AAAEC,MAAAA,CAAC,EAAGI,GAAG,CAACC,OAAV;AAAmBJ,MAAAA,CAAC,EAAGG,GAAG,CAACE;AAA3B,KAArB;AACH;;AAEDC,EAAAA,UAAU,GAAE;AACR,QAAIC,UAAuB,GAAG;AAACC,MAAAA,KAAK,EAAEC,MAAM,CAACC,UAAf;AAA2BC,MAAAA,MAAM,EAAEF,MAAM,CAACG;AAA1C,KAA9B;AACA,WAAOL,UAAP;AACH;;AAEDM,EAAAA,WAAW,GAAE;AACTJ,IAAAA,MAAM,CAACK,gBAAP,CAAwB,WAAxB,EACKX,GAAD,IAAO,KAAKD,gBAAL,CAAsBC,GAAtB,CADX;AAEH;;AAtB6C;AA6ClD,OAAO,MAAMY,OAAN,SAAsBrB,KAAK,CAACsB,SAA5B,CAAqD;AACxDnB,EAAAA,WAAW,CAACoB,KAAD,EAAe;AACtB,UAAMA,KAAN;AADsB,SAc1BnB,aAd0B;AAAA,SAe1BoB,WAf0B;AAAA,SAgB1BC,qBAhB0B;AAAA,SAiB1BC,mBAjB0B;AAAA,SAkB1BC,YAlB0B,GAkBF,CAlBE;AAAA,SAmBlBC,UAnBkB,GAmBC,CAnBD;AAEtB,SAAKC,KAAL,GAAY;AACRzB,MAAAA,aAAa,EAAG;AAACC,QAAAA,CAAC,EAAC,CAACU,MAAM,CAACC,UAAX;AAAuBV,QAAAA,CAAC,EAAC,CAACS,MAAM,CAACG;AAAjC,OADR;AAERY,MAAAA,UAAU,EAAG;AAFL,KAAZ;AAIA,SAAKJ,mBAAL,GAA2B1B,KAAK,CAAC+B,SAAN,EAA3B;AACA,SAAK3B,aAAL,GAAqB;AAAEC,MAAAA,CAAC,EAAC,CAAC,IAAL;AAAWC,MAAAA,CAAC,EAAC,CAAC;AAAd,KAArB;AACA,SAAKkB,WAAL,GAAmB,KAAnB;AACA,SAAKC,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAxC;AAGH,GAbuD,CAcxD;;;AAQAC,EAAAA,cAAc,GAAE;AACZ;AACD;AACC,QAAG,KAAK7B,aAAL,CAAmBC,CAAnB,KAAyBJ,GAAG,CAACM,QAAJ,CAAaF,CAAtC,IAA2C,KAAKD,aAAL,CAAmBE,CAAnB,KAAyBL,GAAG,CAACM,QAAJ,CAAaD,CAApF,EAAsF;AAClF,WAAK4B,QAAL,CACI;AACI9B,QAAAA,aAAa,EAAE;AACXC,UAAAA,CAAC,EAAEJ,GAAG,CAACM,QAAJ,CAAaF,CADL;AAEXC,UAAAA,CAAC,EAAEL,GAAG,CAACM,QAAJ,CAAaD;AAFL;AADnB,OADJ,EADkF,CASpF;AACD;;AAED,QAAI6B,gBAAgB,GAAG,MAAI;AAAA;;AACvB,UAAIC,UAAoB,GAAG,IAA3B;;AACA,UAAG,+BAAKb,KAAL,CAAWc,YAAX,gFAAyBC,OAAzB,KAAoCC,SAAvC,EAAiD;AAAA;;AAC7C,YAAIC,IAAI,6BAAG,KAAKjB,KAAL,CAAWc,YAAd,qFAAG,uBAAyBC,OAA5B,2DAAG,uBAAkCG,qBAAlC,EAAX,CAD6C,CAE7C;;AACA,YAAG,KAAKZ,KAAL,CAAWzB,aAAX,CAAyBC,CAAzB,GAA6BmC,IAAI,CAACnC,CAArC,EAAwC;AACpC+B,UAAAA,UAAU,GAAG,KAAb;AACH,SAL4C,CAO7C;;;AACA,YAAG,KAAKP,KAAL,CAAWzB,aAAX,CAAyBC,CAAzB,GAA8BmC,IAAI,CAACnC,CAAL,IAASmC,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAE1B,KAAf,CAAjC,EAAwD;AACpDsB,UAAAA,UAAU,GAAG,KAAb;AACH,SAV4C,CAY7C;;;AACA,YAAG,KAAKP,KAAL,CAAWzB,aAAX,CAAyBE,CAAzB,GAA6BkC,IAAI,CAAClC,CAArC,EAAwC;AACpC8B,UAAAA,UAAU,GAAG,KAAb;AACH,SAf4C,CAiB7C;;;AACA,YAAG,KAAKP,KAAL,CAAWzB,aAAX,CAAyBE,CAAzB,GAA8BkC,IAAI,CAAClC,CAAL,IAASkC,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAEvB,MAAf,CAAjC,EAAyD;AACrDmB,UAAAA,UAAU,GAAG,KAAb;AACH;AACJ;;AACD,aAAOA,UAAP;AACH,KAzBD;;AA2BA,QAAGD,gBAAgB,OAAO,KAA1B,EAAgC;AAC5B,WAAKO,UAAL;AACH,KAFD,MAEK;AACD,UAAIpC,CAAC,GAAG,KAAKuB,KAAL,CAAWzB,aAAX,CAAyBE,CAAjC;AACA,UAAID,CAAC,GAAG,KAAKwB,KAAL,CAAWzB,aAAX,CAAyBC,CAAjC;;AACA,UAAG,KAAKqB,mBAAL,CAAyBY,OAAzB,IAAoC,IAApC,IAA4C,KAAKZ,mBAAL,CAAyBY,OAAzB,IAAoCC,SAAnF,EAA8F;AAC1F,aAAKZ,YAAL,GAAoB,KAAKD,mBAAL,CAAyBY,OAAzB,CAAiCG,qBAAjC,GAAyD3B,KAA7E;AACH;;AAGD6B,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BvC,CAA3B;AACAsC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKjB,YAAnC;;AAGA,UAAG,KAAKD,mBAAL,CAAyBY,OAAzB,IAAoC,IAApC,IAA4C,KAAKZ,mBAAL,CAAyBY,OAAzB,KAAqCC,SAApF,EAA8F;AAC1F,YAAG,KAAKV,KAAL,CAAWzB,aAAX,CAAyBC,CAAzB,IAA8BJ,GAAG,CAACW,UAAJ,GAAiBE,KAAjB,GAAyB,KAAKa,YAA/D,EAA8E;AAC1EtB,UAAAA,CAAC,GAAGJ,GAAG,CAACW,UAAJ,GAAiBE,KAAjB,GAAyB,KAAKa,YAAlC;AACH;AACJ;;AAED,UAAG,KAAKD,mBAAL,CAAyBY,OAAzB,KAAqC,IAAxC,EAA6C;AACzC,aAAKZ,mBAAL,CAAyBY,OAAzB,CAAiCO,KAAjC,CAAuCC,GAAvC,GAA8CxC,CAAD,CAAIyC,QAAJ,EAA7C;AACA,aAAKrB,mBAAL,CAAyBY,OAAzB,CAAiCO,KAAjC,CAAuCG,IAAvC,GAA+C3C,CAAD,CAAI0C,QAAJ,EAA9C;AACH,OAtBA,CAwBD;;;AACA,WAAKb,QAAL,CAAc;AAACJ,QAAAA,UAAU,EAAG;AAAd,OAAd;AACH;;AAED,QAAG,KAAKL,qBAAL,IAA8B,CAAjC,EAAmC;AAC/B,WAAKiB,UAAL;AACH;AACJ;;AAEDO,EAAAA,UAAU,GAAE;AAAA;;AACJ,QAAIC,YAA2B,gBAAI,yCAAnC;;AAEA,YAAO,KAAK3B,KAAL,CAAW4B,WAAlB;AACI,WAAK,UAAL;AACID,QAAAA,YAAY,gBAAI,uDACZ;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAK,KAAK3B,KAAL,CAAW6B,sBAAhB,0DAAK,sBAAmCC,UAAxC,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAI,KAAK9B,KAAL,CAAW6B,sBAAf,2DAAI,uBAAmCE,IAAvC,CAFJ,CADY,CAAhB;AAMA;;AAEJ,WAAK,QAAL;AACIJ,QAAAA,YAAY,gBAAI,uDACZ;AACI,UAAA,SAAS,EAAC,cADd;AAEI,UAAA,KAAK,EACD;AACIJ,YAAAA,GAAG,EAAE,KAAKjB,KAAL,CAAWzB,aAAX,CAAyBE,CADlC;AAEI0C,YAAAA,IAAI,EAAE,KAAKnB,KAAL,CAAWzB,aAAX,CAAyBC,CAFnC;AAGIkD,YAAAA,WAAW,EAAC;AAHhB,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAUK,KAAKhC,KAAL,CAAWiC,oBAVhB,CADY,CAAhB;AAcA;;AACJ,WAAK,MAAL;AACIN,QAAAA,YAAY,gBACR,yCADJ;AA3BR;;AAgCA,wBACI;AAAK,MAAA,GAAG,EAAE,KAAKxB,mBAAf;AAAoC,MAAA,KAAK,EAAE;AAAG+B,QAAAA,MAAM,EAAE,KAAX;AAAkBC,QAAAA,MAAM,EAAE,MAA1B;AAAkC5C,QAAAA,KAAK,EAAC,KAAxC;AAA+CG,QAAAA,MAAM,EAAC,KAAtD;AAA6D0C,QAAAA,QAAQ,EAAE;AAAvE,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKT,YADL,CADJ;AAMP;;AAEDU,EAAAA,oBAAoB,GAAS;AACzB,SAAKlB,UAAL;AACA,SAAKmB,aAAL;AACH;;AAEDA,EAAAA,aAAa,GAAE;AACXA,IAAAA,aAAa,CAAC,KAAKjC,UAAN,CAAb;AACH;;AAEDkC,EAAAA,UAAU,GAAE;AACR,SAAKrC,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAxC;;AACA,QAAG,KAAKT,KAAL,CAAW4B,WAAX,KAA2B,MAA9B,EAAqC;AACjC,WAAKvB,UAAL,GAAkBmC,WAAW,CACzB,MAAI;AACA,YAAG,KAAKvC,WAAL,KAAqB,KAAxB,EAA8B;AAC1B,eAAKA,WAAL,GAAmB,IAAnB;AACA,eAAKU,QAAL,CAAc;AAACJ,YAAAA,UAAU,EAAC;AAAZ,WAAd;AAEH;;AACD,aAAKL,qBAAL,IAA8B,EAA9B;;AACA,YAAG,KAAKA,qBAAL,IAA8B,CAAjC,EAAmC;AAC/B,eAAKiB,UAAL;AACH;;AACD,aAAKT,cAAL;AACH,OAZwB,EAYtB,EAZsB,CAA7B;AAaH;AACJ;;AAEDS,EAAAA,UAAU,GAAE;AACRmB,IAAAA,aAAa,CAAC,KAAKjC,UAAN,CAAb;AACA,SAAKJ,WAAL,GAAmB,KAAnB;AACA,SAAKU,QAAL,CAAc;AAACJ,MAAAA,UAAU,EAAC;AAAZ,KAAd;AACH;;AAEDkC,EAAAA,iBAAiB,GAAS,CACtB;AACH;;AAEDC,EAAAA,eAAe,GAAE;AACb,QAAG,KAAKxC,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAA0E;AACtE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAA0E;AACtE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAAyE;AACrE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,GAArE,EAA2E;AACvE,aAAO,QAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,IAA8B,GAA9B,IAAqC,KAAKA,qBAAL,GAA6B,EAArE,EAA0E;AACtE,aAAO,SAAP;AACH,KAFD,MAGA,IAAG,KAAKA,qBAAL,GAA6B,EAA7B,IAAmC,KAAKA,qBAAL,GAA6B,CAAnE,EAAuE;AACnE,aAAO,QAAP;AACH,KA3BY,CA6Bb;;;AAEA,QAAG,KAAKA,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAzC,IAAwD,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAA/G,EAAoH;AAChH,aAAO,QAAP;AACH,KAFD,MAEM,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAwH;AAC1H,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,QAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,QAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAuH;AACzH,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAyH;AAC3H,aAAO,QAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAyH;AAC3H,aAAO,SAAP;AACH,KAFK,MAEA,IAAG,KAAKP,qBAAL,IAA8B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAArD,IAA4D,KAAKP,qBAAL,GAA6B,KAAKF,KAAL,CAAWS,WAAX,GAAuB,GAAnH,EAAyH;AAC3H,aAAO,QAAP;AACH;AACJ;;AAEDkC,EAAAA,aAAa,GAAE;AACX,wBACI;AAAG,MAAA,KAAK,EAAE;AAACP,QAAAA,QAAQ,EAAC,OAAV;AAAmBb,QAAAA,GAAG,EAAC,CAAvB;AAA0BqB,QAAAA,KAAK,EAAC;AAAhC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgD,MAAK,KAAKtC,KAAL,CAAWzB,aAAX,CAAyBC,CAAE,OAAM,KAAKwB,KAAL,CAAWzB,aAAX,CAAyBE,CAAE,GAAjH,CADJ;AAGH;;AAED8D,EAAAA,MAAM,GAAsK;AAExK,QAAIC,OAAsB,gBAAI,yCAA9B;;AACA,QAAG,KAAKxC,KAAL,CAAWC,UAAX,KAA0B,IAA1B,IAAkC,KAAKL,qBAAL,GAA6B,CAAlE,EAAoE;AAChE4C,MAAAA,OAAO,GAAG,KAAKpB,UAAL,EAAV;AACH;;AAED,QAAIqB,kBAAkB,gBACpB,uDACI;AAAM,MAAA,SAAS,EAAE,KAAKL,eAAL,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0CI,OAA1C,CADJ,CADF;AAOA,WAAOC,kBAAP;AACH;;AA7PuD","sourcesContent":["import * as React from \"react\";\nimport {win} from \"../../index\";\nimport {ReactElement, RefObject} from \"react\";\n\ninterface iMousePos{\n    x:number;\n    y:number;\n}\n\ninterface iWindow{\n\n}\n\nexport type windowSize = {\n    height : number;\n    width : number;\n}\nexport class WindowLevelCapture implements iWindow{\n    private mousePosition : iMousePos;\n    constructor() {\n        this.mousePosition = {x:-1000,y:-1000};\n    }\n\n    get mousePos(){\n        return this.mousePosition;\n    }\n\n    getMousePosition(evt:MouseEvent){\n        this.mousePosition = { x : evt.clientX, y : evt.clientY};\n    }\n\n    windowSize(){\n        let measurment : windowSize = {width: window.innerWidth, height: window.innerHeight}\n        return measurment;\n    }\n\n    windowEvent(){\n        window.addEventListener('mousemove',\n            (evt)=>this.getMousePosition(evt) )\n    }\n}\n\ninterface iPROPS{\n    tooltipType? : \"standard\" | \"custom\" | \"none\";\n    tooltipStandardContent? : {\n        headerText : string,\n        copy : string\n    }\n    toolTipCustomElement? : ReactElement;\n    btnReference? : RefObject<HTMLButtonElement>;\n    linkReference? : RefObject<HTMLAnchorElement>;\n    timeoutInMS : number\n}\n\ninterface iSTATE {\n    mousePosition : {\n        x : number,\n        y : number\n    };\n    isHovering : boolean;\n}\n\nexport class ToolTip extends React.Component<iPROPS, iSTATE>{\n    constructor(props:iPROPS) {\n        super(props);\n        this.state ={\n            mousePosition : {x:-window.innerWidth, y:-window.innerHeight},\n            isHovering : false\n        };\n        this.toolTipContainerRef = React.createRef<HTMLDivElement>();\n        this.mousePosition = { x:-1000, y:-1000};\n        this.initialized = false;\n        this.toolTipTimeOutCounter = this.props.timeoutInMS\n\n\n    }\n    //TODO give mouse position a data type\n    mousePosition : any;\n    initialized : boolean;\n    toolTipTimeOutCounter : number;\n    toolTipContainerRef : React.RefObject<HTMLDivElement>;\n    tooltipWidth : number = 0;\n    private intervalID : any = 0;\n\n    updateMousePos(){\n        //Only update if the mouse is moving, check if position values have changed\n       // console.log(\"check update mouse\");\n        if(this.mousePosition.x !== win.mousePos.x && this.mousePosition.y !== win.mousePos.y){\n            this.setState(\n                {\n                    mousePosition: {\n                        x: win.mousePos.x,\n                        y: win.mousePos.y\n                    }\n                });\n\n          // console.log(\"state changed\", \"x:\", this.state.mousePosition.x, \"y: \", this.state.mousePosition.y);\n        }\n\n        let checkMouseIsOver = ()=>{\n            let hoverCheck : boolean = true;\n            if(this.props.btnReference?.current != undefined){\n                let rect = this.props.btnReference?.current?.getBoundingClientRect();\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(this.state.mousePosition.x < rect.x ){\n                    hoverCheck = false;\n                }\n\n                // if mouse is too far to the right\n                if(this.state.mousePosition.x > (rect.x + rect?.width) ){\n                    hoverCheck = false\n                }\n\n                // if mouse is too far the the left, the mouse x is less that the button x\n                if(this.state.mousePosition.y < rect.y ){\n                    hoverCheck = false;\n                }\n\n                // if mouse is too far to the right\n                if(this.state.mousePosition.y > (rect.y + rect?.height) ){\n                    hoverCheck = false\n                }\n            }\n            return hoverCheck;\n        };\n\n        if(checkMouseIsOver() === false){\n            this.clearHover();\n        }else{\n            let y = this.state.mousePosition.y;\n            let x = this.state.mousePosition.x;\n            if(this.toolTipContainerRef.current != null && this.toolTipContainerRef.current != undefined ){\n                this.tooltipWidth = this.toolTipContainerRef.current.getBoundingClientRect().width;\n            }\n\n\n            console.log(\"tool tip behavior check:\");\n            console.log(\"x position:\", x);\n            console.log(\"tooltip width:\", this.tooltipWidth);\n\n\n            if(this.toolTipContainerRef.current != null && this.toolTipContainerRef.current !== undefined){\n                if(this.state.mousePosition.x >= win.windowSize().width - this.tooltipWidth  ){\n                    x = win.windowSize().width - this.tooltipWidth\n                }\n            }\n\n            if(this.toolTipContainerRef.current !== null){\n                this.toolTipContainerRef.current.style.top = (y).toString();\n                this.toolTipContainerRef.current.style.left = (x).toString();\n            }\n\n            //top : this.state.mousePosition.y, left: this.state.mousePosition.x\n            this.setState({isHovering : true})\n        }\n\n        if(this.toolTipTimeOutCounter <= 0){\n            this.clearHover();\n        }\n    }\n\n    getToolTip(){\n            let tooltipInner : ReactElement = (<></>);\n\n            switch(this.props.tooltipType){\n                case \"standard\":\n                    tooltipInner = (<>\n                        <div className=\"app-tool-tip \">\n                            <h3>{this.props.tooltipStandardContent?.headerText}</h3>\n                            <p>{this.props.tooltipStandardContent?.copy}</p>\n                        </div>\n                    </>);\n                    break;\n\n                case \"custom\":\n                    tooltipInner = (<>\n                        <div\n                            className=\"app-tool-tip\"\n                            style={\n                                {\n                                    top: this.state.mousePosition.y,\n                                    left: this.state.mousePosition.x,\n                                    paddingLeft:\"1rem\",\n                                }\n                            }\n                        >\n                            {this.props.toolTipCustomElement}\n                        </div>\n                    </>);\n                    break;\n                case \"none\":\n                    tooltipInner = (\n                        <></>\n                    )\n            }\n\n            return (\n                <div ref={this.toolTipContainerRef} style={{  zIndex: 10000, border: \"none\", width:\"1px\", height:\"1px\", position: \"fixed\"}} >\n                    {tooltipInner}\n                </div>\n            )\n\n    }\n\n    componentWillUnmount(): void {\n        this.clearHover();\n        this.clearInterval();\n    }\n\n    clearInterval(){\n        clearInterval(this.intervalID);\n    }\n\n    startHover(){\n        this.toolTipTimeOutCounter = this.props.timeoutInMS;\n        if(this.props.tooltipType !== \"none\"){\n            this.intervalID = setInterval(\n                ()=>{\n                    if(this.initialized === false){\n                        this.initialized = true;\n                        this.setState({isHovering:true});\n\n                    }\n                    this.toolTipTimeOutCounter -= 50;\n                    if(this.toolTipTimeOutCounter <= 0){\n                        this.clearHover();\n                    }\n                    this.updateMousePos();\n                }, 50);\n        }\n    }\n\n    clearHover(){\n        clearInterval(this.intervalID);\n        this.initialized = false;\n        this.setState({isHovering:false} );\n    }\n\n    componentDidMount(): void {\n        //this.startHover();\n    }\n\n    handleFadeInOut(){\n        if(this.toolTipTimeOutCounter <= 800 && this.toolTipTimeOutCounter > 700 ){\n            return \"fade-1\"\n        }else\n        if(this.toolTipTimeOutCounter <= 700 && this.toolTipTimeOutCounter > 600 ){\n            return \"fade-11\"\n        }else\n        if(this.toolTipTimeOutCounter <= 600 && this.toolTipTimeOutCounter > 500){\n            return \"fade-2\"\n        }else\n        if(this.toolTipTimeOutCounter <= 500 && this.toolTipTimeOutCounter > 400){\n            return \"fade-21\"\n        }else\n        if(this.toolTipTimeOutCounter <= 400 && this.toolTipTimeOutCounter > 300){\n            return \"fade-3\"\n        }else\n        if(this.toolTipTimeOutCounter <= 300 && this.toolTipTimeOutCounter > 200){\n            return \"fade-31\"\n        }else\n        if(this.toolTipTimeOutCounter <= 200 && this.toolTipTimeOutCounter > 100  ){\n            return \"fade-4\"\n        }else\n        if(this.toolTipTimeOutCounter <= 100 && this.toolTipTimeOutCounter > 20  ){\n            return \"fade-41\"\n        }else\n        if(this.toolTipTimeOutCounter < 20 && this.toolTipTimeOutCounter > 0  ){\n            return \"fade-5\"\n        }\n\n        //HANDLE FADE IN\n\n        if(this.toolTipTimeOutCounter <= this.props.timeoutInMS && this.toolTipTimeOutCounter > this.props.timeoutInMS-100 ){\n            return \"fade-5\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-100 && this.toolTipTimeOutCounter > this.props.timeoutInMS-150 ){\n            return \"fade-41\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-150 && this.toolTipTimeOutCounter > this.props.timeoutInMS-200){\n            return \"fade-4\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-200 && this.toolTipTimeOutCounter > this.props.timeoutInMS-250){\n            return \"fade-31\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-250 && this.toolTipTimeOutCounter > this.props.timeoutInMS-300){\n            return \"fade-3\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-300 && this.toolTipTimeOutCounter > this.props.timeoutInMS-350){\n            return \"fade-21\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-350 && this.toolTipTimeOutCounter > this.props.timeoutInMS-400  ){\n            return \"fade-2\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-400 && this.toolTipTimeOutCounter > this.props.timeoutInMS-450  ){\n            return \"fade-11\"\n        }else if(this.toolTipTimeOutCounter <= this.props.timeoutInMS-450 && this.toolTipTimeOutCounter > this.props.timeoutInMS-500  ){\n            return \"fade-0\"\n        }\n    }\n\n    debugPosition(){\n        return(\n            <p style={{position:\"fixed\", top:0, right:0}}>{`x: ${this.state.mousePosition.x} y: ${this.state.mousePosition.y} `}</p>\n        )\n    }\n\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\n\n        let tooltip : ReactElement = (<></>);\n        if(this.state.isHovering === true && this.toolTipTimeOutCounter > 0){\n            tooltip = this.getToolTip();\n        }\n\n        let constructedToolTip = (\n          <>\n              <span className={this.handleFadeInOut()}>{tooltip}</span>\n\n          </>\n        );\n\n        return constructedToolTip;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}